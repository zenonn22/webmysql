<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Chapter 2 Installing and Upgrading MySQL</title>
<link rel="stylesheet" href="mvl.css" type="text/css" />
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2" />
<link rel="start" href="index.html" title="{book-title}" />
<link rel="up" href="" title="" />
<link rel="prev" href="introduction.html" title="Chapter 1 General Information" />
<link rel="next" href="tutorial.html" title="Chapter 3 Tutorial" />
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1458020663*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">Chapter 2 Installing and Upgrading MySQL</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="introduction.html">Prev</a> </td>
<th width="60%" align="center"></th>
<td width="20%" align="right"> <a accesskey="n" href="tutorial.html">Next</a></td>
</tr>
</table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="installing"></a>Chapter 2 Installing and Upgrading MySQL</h1>

</div>

</div>

</div>
<div class="toc">
<p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="installing.html#general-installation-issues">2.1 General Installation Guidance</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#which-version">2.1.1 Which MySQL Version and Distribution to Install</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.2 How to Get MySQL</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.3 Verifying Package Integrity Using MD5 Checksums or GnuPG</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.4 Installation Layouts</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.5 Compiler-Specific Build Characteristics</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#binary-installation">2.2 Installing MySQL on Unix/Linux Using Generic Binaries</a></span></dt><dt><span class="section"><a href="installing.html#windows-installation">2.3 Installing MySQL on Microsoft Windows</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 MySQL Installation Layout on Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 Choosing An Installation Package</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4 MySQL Notifier</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.7 Windows Postinstallation Procedures</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.8 Upgrading MySQL on Windows</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#osx-installation">2.4 Installing MySQL on OS X</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#osx-installation-notes">2.4.1 General Notes on Installing MySQL on OS X</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-pkg">2.4.2 Installing MySQL on OS X Using Native Packages</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-launchd">2.4.3 Installing a MySQL Launch Daemon</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-prefpane">2.4.4 Installing and Using the MySQL Preference Pane</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#linux-installation">2.5 Installing MySQL on Linux</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository</a></span></dt><dt><span class="section"><a href="installing.html#replace-third-party-yum">2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum
Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.3 Installing MySQL on Linux Using the MySQL APT Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.6 Installing MySQL on Linux Using Debian Packages from Oracle</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 Installing MySQL on Linux from the Native Software Repositories</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-docker">2.5.8 Installing MySQL on Linux with docker</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-juju">2.5.9 Installing MySQL on Linux with juju</a></span></dt><dt><span class="section"><a href="installing.html#server-management-using-systemd">2.5.10 Managing MySQL Server with systemd</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#uln-installation">2.6 Installing MySQL Using Unbreakable Linux Network (ULN)</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation">2.7 Installing MySQL on Solaris and OpenSolaris</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Installing MySQL on Solaris Using a Solaris PKG</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.7.2 Installing MySQL on OpenSolaris Using IPS</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#freebsd-installation">2.8 Installing MySQL on FreeBSD</a></span></dt><dt><span class="section"><a href="installing.html#source-installation">2.9 Installing MySQL from Source</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1 MySQL Layout for Source Installation</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2 Installing MySQL Using a Standard Source Distribution</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3 Installing MySQL Using a Development Source Tree</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4 MySQL Source-Configuration Options</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5 Dealing with Problems Compiling MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6 MySQL Configuration and Third-Party Tools</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#postinstallation">2.10 Postinstallation Setup and Testing</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#data-directory-initialization">2.10.1 Initializing the Data Directory</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.2 Starting the Server</a></span></dt><dt><span class="section"><a href="installing.html#testing-server">2.10.3 Testing the Server</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.4 Securing the Initial MySQL Accounts</a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.5 Starting and Stopping MySQL Automatically</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#upgrading-downgrading">2.11 Upgrading or Downgrading MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#upgrading">2.11.1 Upgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2 Downgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4 Rebuilding or Repairing Tables or Indexes</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5 Copying MySQL Databases to Another Machine</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#environment-variables">2.12 Environment Variables</a></span></dt><dt><span class="section"><a href="installing.html#perl-support">2.13 Perl Installation Notes</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Installing Perl on Unix</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Installing ActiveState Perl on Windows</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Problems Using the Perl DBI/DBD Interface</a></span></dt></dl></dd></dl>
</div>
<a class="indexterm" name="idm140644218865376"></a><p>
    This chapter describes how to obtain and install MySQL. A summary of
    the procedure follows and later sections provide the details. If you
    plan to upgrade an existing version of MySQL to a newer version
    rather than install MySQL for the first time, see
    <a class="xref" href="installing.html#upgrading" title="2.11.1 Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, for information about upgrade
    procedures and about issues that you should consider before
    upgrading.
  </p><p>
    If you are interested in migrating to MySQL from another database
    system, see <a class="xref" href="faqs.html#faqs-migration" title="A.8 MySQL 5.7 FAQ: Migration">Section A.8, “MySQL 5.7 FAQ: Migration”</a>, which contains answers
    to some common questions concerning migration issues.
  </p><p>
    Installation of MySQL generally follows the steps outlined here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
        <span class="bold"><strong>Determine whether MySQL runs and is
        supported on your platform.</strong></span>
      </p><p>
        Please note that not all platforms are equally suitable for
        running MySQL, and that not all platforms on which MySQL is
        known to run are officially supported by Oracle Corporation.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>Choose which distribution to
        install.</strong></span>
      </p><p>
        Several versions of MySQL are available, and most are available
        in several distribution formats. You can choose from
        pre-packaged distributions containing binary (precompiled)
        programs or source code. When in doubt, use a binary
        distribution. Oracle also provides access to the MySQL source
        code for those who want to see recent developments and test new
        code. To determine which version and type of distribution you
        should use, see <a class="xref" href="installing.html#which-version" title="2.1.1 Which MySQL Version and Distribution to Install">Section 2.1.1, “Which MySQL Version and Distribution to Install”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>Download the distribution that you want to
        install.</strong></span>
      </p><p>
        For instructions, see <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>. To verify
        the integrity of the distribution, use the instructions in
        <a class="xref" href="installing.html#verifying-package-integrity" title="2.1.3 Verifying Package Integrity Using MD5 Checksums or GnuPG">Section 2.1.3, “Verifying Package Integrity Using MD5 Checksums or GnuPG”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>Install the distribution.</strong></span>
      </p><p>
        To install MySQL from a binary distribution, use the
        instructions in <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
      </p><p>
        To install MySQL from a source distribution or from the current
        development source tree, use the instructions in
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>Perform any necessary postinstallation
        setup.</strong></span>
      </p><p>
        After installing MySQL, see <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>
        for information about making sure the MySQL server is working
        properly. Also refer to the information provided in
        <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>. This section describes how
        to secure the initial MySQL <code class="literal">root</code> user
        account, <span class="emphasis"><em>which has no password</em></span> until you
        assign one. The section applies whether you install MySQL using
        a binary or source distribution.
      </p></li><li class="listitem"><p>
        If you want to run the MySQL benchmark scripts, Perl support for
        MySQL must be available. See <a class="xref" href="installing.html#perl-support" title="2.13 Perl Installation Notes">Section 2.13, “Perl Installation Notes”</a>.
</p></li></ol>
</div>
<p>
    Instructions for installing MySQL on different platforms and
    environments is available on a platform by platform basis:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>Unix, Linux, FreeBSD</strong></span>
      </p><p>
        For instructions on installing MySQL on most Linux and Unix
        platforms using a generic binary (for example, a
        <code class="filename">.tar.gz</code> package), see
        <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
      </p><p>
        For information on building MySQL entirely from the source code
        distributions or the source code repositories, see
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>
      </p><p>
        For specific platform help on installation, configuration, and
        building from source see the corresponding platform section:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            Linux, including notes on distribution specific methods, see
            <a class="xref" href="installing.html#linux-installation" title="2.5 Installing MySQL on Linux">Section 2.5, “Installing MySQL on Linux”</a>.
          </p></li><li class="listitem"><p>
            Solaris and OpenSolaris, including PKG and IPS formats, see
            <a class="xref" href="installing.html#solaris-installation" title="2.7 Installing MySQL on Solaris and OpenSolaris">Section 2.7, “Installing MySQL on Solaris and OpenSolaris”</a>.
          </p></li><li class="listitem"><p>
            IBM AIX, see <a class="xref" href="installing.html#solaris-installation" title="2.7 Installing MySQL on Solaris and OpenSolaris">Section 2.7, “Installing MySQL on Solaris and OpenSolaris”</a>.
          </p></li><li class="listitem"><p>
            FreeBSD, see <a class="xref" href="installing.html#freebsd-installation" title="2.8 Installing MySQL on FreeBSD">Section 2.8, “Installing MySQL on FreeBSD”</a>.
</p></li></ul>
</div>
</li><li class="listitem"><p>
        <span class="bold"><strong>Microsoft Windows</strong></span>
      </p><p>
        For instructions on installing MySQL on Microsoft Windows, using
        either the MySQL Installer or Zipped binary, see
        <a class="xref" href="installing.html#windows-installation" title="2.3 Installing MySQL on Microsoft Windows">Section 2.3, “Installing MySQL on Microsoft Windows”</a>.
      </p><p>
        For information about managing MySQL instances, see
        <a class="xref" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">Section 2.3.4, “MySQL Notifier”</a>.
      </p><p>
        For details and instructions on building MySQL from source code
        using Microsoft Visual Studio, see
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>OS X</strong></span>
      </p><p>
        For installation on OS X, including using both the binary
        package and native PKG formats, see
        <a class="xref" href="installing.html#osx-installation" title="2.4 Installing MySQL on OS X">Section 2.4, “Installing MySQL on OS X”</a>.
      </p><p>
        For information on making use of an OS X Launch Daemon to
        automatically start and stop MySQL, see
        <a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 Installing a MySQL Launch Daemon">Section 2.4.3, “Installing a MySQL Launch Daemon”</a>.
      </p><p>
        For information on the MySQL Preference Pane, see
        <a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.4 Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="general-installation-issues"></a>2.1 General Installation Guidance</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#which-version">2.1.1 Which MySQL Version and Distribution to Install</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.2 How to Get MySQL</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.3 Verifying Package Integrity Using MD5 Checksums or GnuPG</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.4 Installation Layouts</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.5 Compiler-Specific Build Characteristics</a></span></dt></dl>
</div>
<p>
    The immediately following sections contain the information necessary
    to choose, download, and verify your distribution. The instructions
    in later sections of the chapter describe how to install the
    distribution that you choose. For binary distributions, see the
    instructions at <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a> or the
    corresponding section for your platform if available. To build MySQL
    from source, use the instructions in
    <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="which-version"></a>2.1.1 Which MySQL Version and Distribution to Install</h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140644218812064"></a><a class="indexterm" name="idm140644218810608"></a><p>
      MySQL is available on a number of operating systems and platforms.
      For information about those platforms that are officially
      supported, see <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a> on the
      MySQL Web site.
    </p><p>
      MySQL is available on many operating systems and platforms. For
      information about platforms supported by
      <a class="ulink" href="http://dev.mysql.com/doc/mysql-development-cycle/en/ga-releases.html" target="_top">GA
      releases</a> of MySQL, see
      <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>. For development
      versions of MySQL, builds are available for a number of platforms
      at <a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.7.html" target="_top">http://dev.mysql.com/downloads/mysql/5.7.html</a>.
      To learn more about MySQL Support, see
      <a class="ulink" href="http://www.mysql.com/support/" target="_top">http://www.mysql.com/support/</a>.
    </p><p>
      When preparing to install MySQL, decide which version and
      distribution format (binary or source) to use.
    </p><a class="indexterm" name="idm140644218804224"></a><a class="indexterm" name="idm140644218803136"></a><a class="indexterm" name="idm140644218802048"></a><a class="indexterm" name="idm140644218800976"></a><a class="indexterm" name="idm140644218799488"></a><p>
      First, decide whether to install a development release or a
      General Availability (GA) release. Development releases have the
      newest features, but are not recommended for production use. GA
      releases, also called production or stable releases, are meant for
      production use. We recommend using the most recent GA release.
    </p><a class="indexterm" name="idm140644218797248"></a><a class="indexterm" name="idm140644218795760"></a><a class="indexterm" name="idm140644218794272"></a><a class="indexterm" name="idm140644218792768"></a><a class="indexterm" name="idm140644218791312"></a><a class="indexterm" name="idm140644218789808"></a><a class="indexterm" name="idm140644218788352"></a><a class="indexterm" name="idm140644218786864"></a><p>
      The naming scheme in MySQL 5.7 uses release names
      that consist of three numbers and an optional suffix; for example,
      <span class="bold"><strong>mysql-5.7.1-m1</strong></span>. The numbers
      within the release name are interpreted as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The first number (<span class="bold"><strong>5</strong></span>) is the
          major version number.
        </p></li><li class="listitem"><p>
          The second number (<span class="bold"><strong>7</strong></span>) is the
          minor version number. Taken together, the major and minor
          numbers constitute the release series number. The series
          number describes the stable feature set.
        </p></li><li class="listitem"><p>
          The third number (<span class="bold"><strong>1</strong></span>) is the
          version number within the release series. This is incremented
          for each new bugfix release. In most cases, the most recent
          version within a series is the best choice.
</p></li></ul>
</div>
<p>
      Release names can also include a suffix to indicate the stability
      level of the release. Releases within a series progress through a
      set of suffixes to indicate how the stability level improves. The
      possible suffixes are:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>m<span class="emphasis"><em>N</em></span></strong></span> (for
          example, <span class="bold"><strong>m1</strong></span>,
          <span class="bold"><strong>m2</strong></span>,
          <span class="bold"><strong>m3</strong></span>, ...) indicates a
          milestone number. MySQL development uses a milestone model, in
          which each milestone introduces a small subset of thoroughly
          tested features. From one milestone to the next, feature
          interfaces may change or features may even be removed, based
          on feedback provided by community members who try these earily
          releases. Features within milestone releases may be considered
          to be of pre-production quality.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>rc</strong></span> indicates a Release
          Candidate (RC). Release candidates are believed to be stable,
          having passed all of MySQL's internal testing. New features
          may still be introduced in RC releases, but the focus shifts
          to fixing bugs to stabilize features introduced earlier within
          the series.
        </p></li><li class="listitem"><p>
          Absence of a suffix indicates a General Availability (GA) or
          Production release. GA releases are stable, having
          successfully passed through the earlier release stages, and
          are believed to be reliable, free of serious bugs, and
          suitable for use in production systems.
</p></li></ul>
</div>
<p>
      Development within a series begins with milestone releases,
      followed by RC releases, and finally reaches GA status releases.
    </p><p>
      After choosing which MySQL version to install, decide which
      distribution format to install for your operating system. For most
      use cases, a binary distribution is the right choice. Binary
      distributions are available in native format for many platforms,
      such as RPM packages for Linux or DMG packages for OS X.
      Distributions are also available in more generic formats such as
      Zip archives or compressed <span class="command"><strong>tar</strong></span> files. On
      Windows, you can use <a class="link" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">the MySQL
      Installer</a> to install a binary distribution.
    </p><p>
      Under some circumstances, it may be preferable to install MySQL
      from a source distribution:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          You want to install MySQL at some explicit location. The
          standard binary distributions are ready to run at any
          installation location, but you might require even more
          flexibility to place MySQL components where you want.
        </p></li><li class="listitem"><p>
          You want to configure <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with features
          that might not be included in the standard binary
          distributions. Here is a list of the most common extra options
          used to ensure feature availability:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_with_libwrap"><code class="option">-DWITH_LIBWRAP=1</code></a> for TCP
              wrappers support.
            </p></li><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_with_zlib"><code class="option">-DWITH_ZLIB={system|bundled}</code></a>
              for features that depend on compression
            </p></li><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a> for debugging
              support
</p></li></ul>
</div>
<p>
          For additional information, see
          <a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
        </p></li><li class="listitem"><p>
          You want to configure <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> without some
          features that are included in the standard binary
          distributions. For example, distributions normally are
          compiled with support for all character sets. If you want a
          smaller MySQL server, you can recompile it with support for
          only the character sets you need.
        </p></li><li class="listitem"><p>
          You want to read or modify the C and C++ code that makes up
          MySQL. For this purpose, obtain a source distribution.
        </p></li><li class="listitem"><p>
          Source distributions contain more tests and examples than
          binary distributions.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="getting-mysql"></a>2.1.2 How to Get MySQL</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644218749376"></a><a class="indexterm" name="idm140644218748304"></a><a class="indexterm" name="idm140644218747232"></a><a class="indexterm" name="idm140644218745744"></a><a class="indexterm" name="idm140644218744672"></a><a class="indexterm" name="idm140644218743600"></a><p>
      Check our downloads page at <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>
      for information about the current version of MySQL and for
      downloading instructions. For a complete up-to-date list of MySQL
      download mirror sites, see
      <a class="ulink" href="http://dev.mysql.com/downloads/mirrors.html" target="_top">http://dev.mysql.com/downloads/mirrors.html</a>. You can also find
      information there about becoming a MySQL mirror site and how to
      report a bad or out-of-date mirror.
    </p><p>
      For RPM-based Linux platforms that use Yum as their package
      management system, MySQL can be installed using the
      <a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum
      Repository</a>. See
      <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a> for details.
    </p><p>
      For a number of Debian-based Linux platforms, such as Ubuntu,
      MySQL can be installed using the
      <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT
      Repository</a>. See
      <a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 Installing MySQL on Linux Using the MySQL APT Repository">Section 2.5.3, “Installing MySQL on Linux Using the MySQL APT Repository”</a> for details.
    </p><p>
      For SUSE Linux Enterprise Server (SLES) platforms, MySQL can be
      installed using the
      <a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL SLES
      Repository</a>. See
      <a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository">Section 2.5.4, “Installing MySQL on Linux Using the MySQL SLES Repository”</a> for details.
    </p><p>
      To obtain the latest development source, see
      <a class="xref" href="installing.html#installing-development-tree" title="2.9.3 Installing MySQL Using a Development Source Tree">Section 2.9.3, “Installing MySQL Using a Development Source Tree”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="verifying-package-integrity"></a>2.1.3 Verifying Package Integrity Using MD5 Checksums or GnuPG</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#verifying-md5-checksum">2.1.3.1 Verifying the MD5 Checksum</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature">2.1.3.2 Signature Checking Using GnuPG</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature-windows">2.1.3.3 Signature Checking Using Gpg4win for Windows</a></span></dt><dt><span class="section"><a href="installing.html#checking-rpm-signature">2.1.3.4 Signature Checking Using RPM</a></span></dt></dl>
</div>
<p>
      After downloading the MySQL package that suits your needs and
      before attempting to install it, make sure that it is intact and
      has not been tampered with. There are three means of integrity
      checking:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MD5 checksums
        </p></li><li class="listitem"><p>
          Cryptographic signatures using <code class="literal">GnuPG</code>, the
          GNU Privacy Guard
        </p></li><li class="listitem"><p>
          For RPM packages, the built-in RPM integrity verification
          mechanism
</p></li></ul>
</div>
<p>
      The following sections describe how to use these methods.
    </p><p>
      If you notice that the MD5 checksum or GPG signatures do not
      match, first try to download the respective package one more time,
      perhaps from another mirror site.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="verifying-md5-checksum"></a>2.1.3.1 Verifying the MD5 Checksum</h4>
</div>
</div>
</div>
<p>
        After you have downloaded a MySQL package, you should make sure
        that its MD5 checksum matches the one provided on the MySQL
        download pages. Each package has an individual checksum that you
        can verify against the package that you downloaded. The correct
        MD5 checksum is listed on the downloads page for each MySQL
        product, and you will compare it against the MD5 checksum of the
        file (product) that you download.
      </p><p>
        Each operating system and setup offers its own version of tools
        for checking the MD5 checksum. Typically the command is named
        <span class="command"><strong>md5sum</strong></span>, or it may be named
        <span class="command"><strong>md5</strong></span>, and some operating systems do not ship
        it at all. On Linux, it is part of the <span class="bold"><strong>GNU
        Text Utilities</strong></span> package, which is available for a wide
        range of platforms. You can also download the source code from
        <a class="ulink" href="http://www.gnu.org/software/textutils/" target="_top">http://www.gnu.org/software/textutils/</a>. If you
        have OpenSSL installed, you can use the command <span class="command"><strong>openssl
        md5 <em class="replaceable"><code>package_name</code></em></strong></span> instead. A
        Windows implementation of the <span class="command"><strong>md5</strong></span> command
        line utility is available from
        <a class="ulink" href="http://www.fourmilab.ch/md5/" target="_top">http://www.fourmilab.ch/md5/</a>.
        <span class="command"><strong>winMd5Sum</strong></span> is a graphical MD5 checking tool
        that can be obtained from
        <a class="ulink" href="http://www.nullriver.com/index/products/winmd5sum" target="_top">http://www.nullriver.com/index/products/winmd5sum</a>.
        Our Microsoft Windows examples will assume the name
        <span class="command"><strong>md5.exe</strong></span>.
      </p><p>
        Linux and Microsoft Windows examples:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>md5sum mysql-standard-5.7.13-linux-i686.tar.gz</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-standard-5.7.13-linux-i686.tar.gz
</pre><pre class="programlisting">
shell&gt; <strong class="userinput"><code>md5.exe mysql-installer-community-5.7.13.msi</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-installer-community-5.7.13.msi
</pre><p>
        You should verify that the resulting checksum (the string of
        hexadecimal digits) matches the one displayed on the download
        page immediately below the respective package.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Make sure to verify the checksum of the <span class="emphasis"><em>archive
          file</em></span> (for example, the <code class="filename">.zip</code>,
          <code class="filename">.tar.gz</code>, or <code class="filename">.msi</code>
          file) and not of the files that are contained inside of the
          archive. In other words, verify the file before extracting its
          contents.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature"></a>2.1.3.2 Signature Checking Using GnuPG</h4>

</div>

</div>

</div>
<p>
        Another method of verifying the integrity and authenticity of a
        package is to use cryptographic signatures. This is more
        reliable than using <a class="link" href="installing.html#verifying-md5-checksum" title="2.1.3.1 Verifying the MD5 Checksum">MD5
        checksums</a>, but requires more work.
      </p><p>
        We sign MySQL downloadable packages with
        <span class="command"><strong>GnuPG</strong></span> (GNU Privacy Guard).
        <span class="command"><strong>GnuPG</strong></span> is an Open Source alternative to the
        well-known Pretty Good Privacy (<span class="command"><strong>PGP</strong></span>) by Phil
        Zimmermann. See <a class="ulink" href="http://www.gnupg.org/" target="_top">http://www.gnupg.org/</a> for more
        information about <span class="command"><strong>GnuPG</strong></span> and how to obtain and
        install it on your system. Most Linux distributions ship with
        <span class="command"><strong>GnuPG</strong></span> installed by default. For more
        information about <span class="command"><strong>GnuPG</strong></span>, see
        <a class="ulink" href="http://www.openpgp.org/" target="_top">http://www.openpgp.org/</a>.
      </p><p>
        To verify the signature for a specific package, you first need
        to obtain a copy of our public GPG build key, which you can
        download from <a class="ulink" href="http://pgp.mit.edu/" target="_top">http://pgp.mit.edu/</a>. The key that
        you want to obtain is named
        <code class="literal">mysql-build@oss.oracle.com</code>. Alternatively,
        you can cut and paste the key directly from the following text:
      </p><pre class="programlisting">
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.9 (SunOS)

mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGkE
ExECACkCGyMGCwkIBwMCBBUCCAMEFgIDAQIeAQIXgAIZAQUCUwHUZgUJGmbLywAK
CRCMcY07UHLh9V+DAKCjS1gGwgVI/eut+5L+l2v3ybl+ZgCcD7ZoA341HtoroV3U
6xRD09fUgeq0O015U1FMIFBhY2thZ2Ugc2lnbmluZyBrZXkgKHd3dy5teXNxbC5j
b20pIDxidWlsZEBteXNxbC5jb20+iG8EMBECAC8FAk53Pa0oHSBidWlsZEBteXNx
bC5jb20gd2lsbCBzdG9wIHdvcmtpbmcgc29vbgAKCRCMcY07UHLh9bU9AJ9xDK0o
xJFL9vTl9OSZC4lX0K9AzwCcCrS9cnJyz79eaRjL0s2r/CcljdyIZQQTEQIAHQUC
R6yUtAUJDTBYqAULBwoDBAMVAwIDFgIBAheAABIJEIxxjTtQcuH1B2VHUEcAAQGu
kgCffz4GUEjzXkOi71VcwgCxASTgbe0An34LPr1j9fCbrXWXO14msIADfb5piEwE
ExECAAwFAj4+o9EFgwlmALsACgkQSVDhKrJykfIk4QCfWbEeKN+3TRspe+5xKj+k
QJSammIAnjUz0xFWPlVx0f8o38qNG1bq0cU9iEwEExECAAwFAj5CggMFgwliIokA
CgkQtvXNTca6JD+WkQCgiGmnoGjMojynp5ppvMXkyUkfnykAoK79E6h8rwkSDZou
iz7nMRisH8uyiEYEEBECAAYFAj+s468ACgkQr8UjSHiDdA/2lgCg21IhIMMABTYd
p/IBiUsP/JQLiEoAnRzMywEtujQz/E9ono7H1DkebDa4iEYEEBECAAYFAj+0Q3cA
CgkQhZavqzBzTmbGwwCdFqD1frViC7WRt8GKoOS7hzNN32kAnirlbwpnT7a6NOsQ
83nk11a2dePhiEYEEBECAAYFAkNbs+oACgkQi9gubzC5S1x/dACdELKoXQKkwJN0
gZztsM7kjsIgyFMAnRRMbHQ7V39XC90OIpaPjk3a01tgiEYEExECAAYFAkTxMyYA
CgkQ9knE9GCTUwwKcQCgibak/SwhxWH1ijRhgYCo5GtM4vcAnAhtzL57wcw1Kg1X
m7nVGetUqJ7fiEwEEBECAAwFAkGBywEFgwYi2YsACgkQGFnQH2d7oexCjQCcD8sJ
NDc/mS8m8OGDUOx9VMWcnGkAnj1YWOD+Qhxo3mI/Ul9oEAhNkjcfiEwEEBECAAwF
AkGByzQFgwYi2VgACgkQgcL36+ITtpIiIwCdFVNVUB8xe8mFXoPm4d9Z54PTjpMA
niSPA/ZsfJ3oOMLKar4F0QPPrdrGiEwEEBECAAwFAkGBy2IFgwYi2SoACgkQa3Ds
2V3D9HMJqgCbBYzr5GPXOXgP88jKzmdbjweqXeEAnRss4G2G/3qD7uhTL1SPT1SH
jWUXiEwEEBECAAwFAkHQkyQFgwXUEWgACgkQfSXKCsEpp8JiVQCghvWvkPqowsw8
w7WSseTcw1tflvkAni+vLHl/DqIly0LkZYn5jzK1dpvfiEwEEBECAAwFAkIrW7oF
gwV5SNIACgkQ5hukiRXruavzEwCgkzL5QkLSypcw9LGHcFSx1ya0VL4An35nXkum
g6cCJ1NP8r2I4NcZWIrqiEwEEhECAAwFAkAqWToFgwd6S1IACgkQPKEfNJT6+GEm
XACcD+A53A5OGM7w750W11ukq4iZ9ckAnRMvndAqn3YTOxxlLPj2UPZiSgSqiEwE
EhECAAwFAkA9+roFgwdmqdIACgkQ8tdcY+OcZZyy3wCgtDcwlaq20w0cNuXFLLNe
EUaFFTwAni6RHN80moSVAdDTRkzZacJU3M5QiEwEEhECAAwFAkEOCoQFgwaWmggA
CgkQOcor9D1qil/83QCeITZ9wIo7XAMjC6y4ZWUL4m+edZsAoMOhRIRi42fmrNFu
vNZbnMGej81viEwEEhECAAwFAkKApTQFgwUj/1gACgkQBA3AhXyDn6jjJACcD1A4
UtXk84J13JQyoH9+dy24714Aniwlsso/9ndICJOkqs2j5dlHFq6oiEwEExECAAwF
Aj5NTYQFgwlXVwgACgkQLbt2v63UyTMFDACglT5G5NVKf5Mj65bFSlPzb92zk2QA
n1uc2h19/IwwrsbIyK/9POJ+JMP7iEwEExECAAwFAkHXgHYFgwXNJBYACgkQZu/b
yM2C/T4/vACfXe67xiSHB80wkmFZ2krb+oz/gBAAnjR2ucpbaonkQQgnC3GnBqmC
vNaJiEwEExECAAwFAkIYgQ4FgwWMI34ACgkQdsEDHKIxbqGg7gCfQi2HcrHn+yLF
uNlH1oSOh48ZM0oAn3hKV0uIRJphonHaUYiUP1ttWgdBiGUEExECAB0FCwcKAwQD
FQMCAxYCAQIXgAUCS3AvygUJEPPzpwASB2VHUEcAAQEJEIxxjTtQcuH1sNsAniYp
YBGqy/HhMnw3WE8kXahOOR5KAJ4xUmWPGYP4l3hKxyNK9OAUbpDVYIh7BDARAgA7
BQJCdzX1NB0AT29wcy4uLiBzaG91bGQgaGF2ZSBiZWVuIGxvY2FsISBJJ20gKnNv
KiBzdHVwaWQuLi4ACgkQOcor9D1qil/vRwCdFo08f66oKLiuEAqzlf9iDlPozEEA
n2EgvCYLCCHjfGosrkrU3WK5NFVgiI8EMBECAE8FAkVvAL9IHQBTaG91bGQgaGF2
ZSBiZWVuIGEgbG9jYWwgc2lnbmF0dXJlLCBvciBzb21ldGhpbmcgLSBXVEYgd2Fz
IEkgdGhpbmtpbmc/AAoJEDnKK/Q9aopfoPsAn3BVqKOalJeF0xPSvLR90PsRlnmG
AJ44oisY7Tl3NJbPgZal8W32fbqgbIkCIgQQAQIADAUCQYHLhQWDBiLZBwAKCRCq
4+bOZqFEaKgvEACCErnaHGyUYa0wETjj6DLEXsqeOiXad4i9aBQxnD35GUgcFofC
/nCY4XcnCMMEnmdQ9ofUuU3OBJ6BNJIbEusAabgLooebP/3KEaiCIiyhHYU5jarp
ZAh+Zopgs3Oc11mQ1tIaS69iJxrGTLodkAsAJAeEUwTPq9fHFFzC1eGBysoyFWg4
bIjz/zClI+qyTbFA5g6tRoiXTo8ko7QhY2AA5UGEg+83Hdb6akC04Z2QRErxKAqr
phHzj8XpjVOsQAdAi/qVKQeNKROlJ+iq6+YesmcWGfzeb87dGNweVFDJIGA0qY27
pTb2lExYjsRFN4Cb13NfodAbMTOxcAWZ7jAPCxAPlHUG++mHMrhQXEToZnBFE4nb
nC7vOBNgWdjUgXcpkUCkop4b17BFpR+k8ZtYLSS8p2LLz4uAeCcSm2/msJxT7rC/
FvoH8428oHincqs2ICo9zO/Ud4HmmO0O+SsZdVKIIjinGyOVWb4OOzkAlnnhEZ3o
6hAHcREIsBgPwEYVTj/9ZdC0AO44Nj9cU7awaqgtrnwwfr/o4V2gl8bLSkltZU27
/29HeuOeFGjlFe0YrDd/aRNsxbyb2O28H4sG1CVZmC5uK1iQBDiSyA7Q0bbdofCW
oQzm5twlpKWnY8Oe0ub9XP5p/sVfck4FceWFHwv+/PC9RzSl33lQ6vM2wIkCIgQT
AQIADAUCQp8KHAWDBQWacAAKCRDYwgoJWiRXzyE+D/9uc7z6fIsalfOYoLN60ajA
bQbI/uRKBFugyZ5RoaItusn9Z2rAtn61WrFhu4uCSJtFN1ny2RERg40f56pTghKr
D+YEt+Nze6+FKQ5AbGIdFsR/2bUk+ZZRSt83e14Lcb6ii/fJfzkoIox9ltkifQxq
Y7Tvk4noKu4oLSc8O1Wsfc/y0B9sYUUCmUfcnq58DEmGie9ovUslmyt5NPnveXxp
5UeaRc5Rqt9tK2B4A+7/cqENrdZJbAMSunt2+2fkYiRunAFPKPBdJBsY1sxeL/A9
aKe0viKEXQdAWqdNZKNCi8rd/oOP99/9lMbFudAbX6nL2DSb1OG2Z7NWEqgIAzjm
pwYYPCKeVz5Q8R+if9/fe5+STY/55OaI33fJ2H3v+U435VjYqbrerWe36xJItcJe
qUzW71fQtXi1CTEl3w2ch7VF5oj/QyjabLnAlHgSlkSi6p7By5C2MnbCHlCfPnIi
nPhFoRcRGPjJe9nFwGs+QblvS/Chzc2WX3s/2SWm4gEUKRX4zsAJ5ocyfa/vkxCk
SxK/erWlCPf/J1T70+i5waXDN/E3enSet/WL7h94pQKpjz8OdGL4JSBHuAVGA+a+
dknqnPF0KMKLhjrgV+L7O84FhbmAP7PXm3xmiMPriXf+el5fZZequQoIagf8rdRH
HhRJxQgI0HNknkaOqs8dtrkCDQQ+PqMdEAgA7+GJfxbMdY4wslPnjH9rF4N2qfWs
EN/lxaZoJYc3a6M02WCnHl6ahT2/tBK2w1QI4YFteR47gCvtgb6O1JHffOo2HfLm
RDRiRjd1DTCHqeyX7CHhcghj/dNRlW2Z0l5QFEcmV9U0Vhp3aFfWC4Ujfs3LU+hk
AWzE7zaD5cH9J7yv/6xuZVw411x0h4UqsTcWMu0iM1BzELqX1DY7LwoPEb/O9Rkb
f4fmLe11EzIaCa4PqARXQZc4dhSinMt6K3X4BrRsKTfozBu74F47D8Ilbf5vSYHb
uE5p/1oIDznkg/p8kW+3FxuWrycciqFTcNz215yyX39LXFnlLzKUb/F5GwADBQf+
Lwqqa8CGrRfsOAJxim63CHfty5mUc5rUSnTslGYEIOCR1BeQauyPZbPDsDD9MZ1Z
aSafanFvwFG6Llx9xkU7tzq+vKLoWkm4u5xf3vn55VjnSd1aQ9eQnUcXiL4cnBGo
TbOWI39EcyzgslzBdC++MPjcQTcA7p6JUVsP6oAB3FQWg54tuUo0Ec8bsM8b3Ev4
2LmuQT5NdKHGwHsXTPtl0klk4bQk4OajHsiy1BMahpT27jWjJlMiJc+IWJ0mghkK
Ht926s/ymfdf5HkdQ1cyvsz5tryVI3Fx78XeSYfQvuuwqp2H139pXGEkg0n6KdUO
etdZWhe70YGNPw1yjWJT1IhUBBgRAgAMBQJOdz3tBQkT+wG4ABIHZUdQRwABAQkQ
jHGNO1By4fUUmwCbBYr2+bBEn/L2BOcnw9Z/QFWuhRMAoKVgCFm5fadQ3Afi+UQl
AcOphrnJ
=443I
-----END PGP PUBLIC KEY BLOCK-----
</pre><p>
        To import the build key into your personal public GPG keyring,
        use <span class="command"><strong>gpg --import</strong></span>. For example, if you have
        saved the key in a file named
        <code class="filename">mysql_pubkey.asc</code>, the import command looks
        like this:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong>
gpg: key 5072E1F5: public key "MySQL Release Engineering
&lt;mysql-build@oss.oracle.com&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found
</pre><p>
        You can also download the key from the public keyserver using
        the public key id, <code class="literal">5072E1F5</code>:
      </p><pre class="programlisting">shell&gt; gpg --recv-keys 5072E1F5
gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
1 new user ID
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
53 new signatures
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:           new user IDs: 1
gpg:         new signatures: 53
</pre><p>
        If you want to import the key into your RPM configuration to
        validate RPM install packages, you should be able to import the
        key directly:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        If you experience problems or require RPM specific information,
        see <a class="xref" href="installing.html#checking-rpm-signature" title="2.1.3.4 Signature Checking Using RPM">Section 2.1.3.4, “Signature Checking Using RPM”</a>.
      </p><p>
        After you have downloaded and imported the public build key,
        download your desired MySQL package and the corresponding
        signature, which also is available from the download page. The
        signature file has the same name as the distribution file with
        an <code class="filename">.asc</code> extension, as shown by the examples
        in the following table.
</p>
<div class="table">
<a name="idm140644218672800"></a><p class="title"><b>Table 2.1 MySQL Package and Signature Files for Source files</b></p>
<div class="table-contents">
<table summary="MySQL Package and Signature Files for Source files" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">File Type</th><th scope="col">File Name</th></tr></thead><tbody><tr><td scope="row">Distribution file</td><td><code class="literal">mysql-standard-5.7.13-linux-i686.tar.gz</code></td></tr><tr><td scope="row">Signature file</td><td><code class="literal">mysql-standard-5.7.13-linux-i686.tar.gz.asc</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        Make sure that both files are stored in the same directory and
        then run the following command to verify the signature for the
        distribution file:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p>
        If the downloaded package is valid, you will see a "Good
        signature" similar to:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.7.13-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
</pre><p>
        The <code class="literal">Good signature</code> message indicates that the
        file signature is valid, when compared to the signature listed
        on our site. But you might also see warnings, like so:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-5.7.13-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Wed 23 Jan 2013 02:25:45 AM PST using DSA key ID 5072E1F5
gpg: checking the trustdb
gpg: no ultimately trusted keys found
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: A4A9 4068 76FC BD3C 4567  70C8 8C71 8D3B 5072 E1F5
</pre><p>
        That is normal, as they depend on your setup and configuration.
        Here are explanations for these warnings:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>gpg: no ultimately trusted keys found</em></span>:
            This means that the specific key is not "ultimately trusted"
            by you or your web of trust, which is okay for the purposes
            of verifying file signatures.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>WARNING: This key is not certified with a trusted
            signature! There is no indication that the signature belongs
            to the owner.</em></span>: This refers to your level of trust
            in your belief that you possess our real public key. This is
            a personal decision. Ideally, a MySQL developer would hand
            you the key in person, but more commonly, you downloaded it.
            Was the download tampered with? Probably not, but this
            decision is up to you. Setting up a web of trust is one
            method for trusting them.
</p></li></ul>
</div>
<p>
        See the GPG documentation for more information on how to work
        with public keys.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-gpg-signature-windows"></a>2.1.3.3 Signature Checking Using Gpg4win for Windows</h4>

</div>

</div>

</div>
<p>
        The <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.3.2 Signature Checking Using GnuPG">Section 2.1.3.2, “Signature Checking Using GnuPG”</a> section describes
        how to verify MySQL downloads using GPG. That guide also applies
        to Microsoft Windows, but another option is to use a GUI tool
        like <a class="ulink" href="http://www.gpg4win.org/" target="_top">Gpg4win</a>. You
        may use a different tool but our examples are based on Gpg4win,
        and utilize its bundled <code class="literal">Kleopatra</code> GUI.
      </p><p>
        Download and install Gpg4win, and then load Kleopatra. The
        dialog should look similar to:
</p>
<div class="figure">
<a name="gnupg-kleopatra-home"></a><p class="title"><b>Figure 2.1 Initial screen after loading Kleopatra</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-home.png" width="682" height="436" alt="Initial screen after loading Kleopatra">
</div>

</div>

</div>
<br class="figure-break"><p>
        Next, add the MySQL Release Engineering certificate. Do this by
        clicking <span class="guimenu">File</span>, <span class="guimenu">Lookup Certificates
        on Server</span>. Type "Mysql Release Engineering" into the
        search box and press <span class="guibutton">Search</span>.
</p>
<div class="figure">
<a name="gnupg-kleopatra-find-certificate"></a><p class="title"><b>Figure 2.2 Finding the MySQL Release Engineering certificate</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-find-certificate.png" width="854" height="330" alt="Finding the MySQL Release Engineering certificate">
</div>

</div>

</div>
<br class="figure-break"><p>
        Select the "MySQL Release Engineering" certificate. The
        Fingerprint and Key-ID must be "5072E1F5", or choose
        <span class="guibutton">Details...</span> to confirm the certificate is
        valid. Now, import it by clicking <span class="guibutton">Import</span>.
        An import dialog will be displayed, choose
        <span class="guibutton">Okay</span>, and this certificate will now be
        listed under the <span class="guilabel">Imported Certificates</span> tab.
      </p><p>
        Next, configure the trust level for our certificate. Select our
        certificate, then from the main menu select
        <span class="guimenu">Certificates</span>, <span class="guimenu">Change Owner
        Trust...</span>. We suggest choosing <span class="guilabel">I believe
        checks are very accurate</span> for our certificate, as
        otherwise you might not be able to verify our signature. Select
        <span class="guilabel">I believe checks are very accurate</span> and then
        press <span class="guibutton">OK</span>.
</p>
<div class="figure">
<a name="gnupg-kleopatra-change-trust"></a><p class="title"><b>Figure 2.3 Changing the Trust level</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-change-trust.png" width="656" height="472" alt="Changing the Trust level">
</div>

</div>

</div>
<br class="figure-break"><p>
        Next, verify the downloaded MySQL package file. This requires
        files for both the packaged file, and the signature. The
        signature file must have the same name as the packaged file but
        with an appended <code class="filename">.asc</code> extension, as shown
        by the example in the following table. The signature is linked
        to on the downloads page for each MySQL product. You must create
        the <code class="literal">.asc</code> file with this signature.
</p>
<div class="table">
<a name="idm140644218611888"></a><p class="title"><b>Table 2.2 MySQL Package and Signature Files for MySQL Installer for Microsoft
Windows</b></p>
<div class="table-contents">
<table summary="MySQL Package and Signature Files for MySQL Installer for Microsoft
Windows" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">File Type</th><th scope="col">File Name</th></tr></thead><tbody><tr><td scope="row">Distribution file</td><td><code class="literal">mysql-installer-community-5.7.13.msi</code></td></tr><tr><td scope="row">Signature file</td><td><code class="literal">mysql-installer-community-5.7.13.msi.asc</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        Make sure that both files are stored in the same directory and
        then run the following command to verify the signature for the
        distribution file. Either drag and drop the signature
        (<code class="filename">.asc</code>) file into Kleopatra, or load the
        dialog from <span class="guimenu">File</span>, <span class="guimenuitem">Decrypt/Verify
        Files...</span>, and then choose either the
        <code class="filename">.msi</code> or <code class="filename">.asc</code> file.
</p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-load"></a><p class="title"><b>Figure 2.4 The Decrypt/Verify Files dialog</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-load.png" width="576" height="425" alt="The Decrypt/Verify Files dialog">
</div>

</div>

</div>
<br class="figure-break"><p>
        Click <span class="guibutton">Decrypt/Verify</span> to check the file.
        The two most common results will look like the following, and
        although the yellow warning looks problematic, the following
        means that the file check passed with success. You may now run
        this installer.
</p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-okay-sig"></a><p class="title"><b>Figure 2.5 The Decrypt/Verify Results: Good</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-okay-sig.png" width="576" height="424" alt="The Decrypt/Verify Results: Good">
</div>

</div>

</div>
<br class="figure-break"><p>
        Seeing a red "The signature is bad" error means the file is
        invalid. Do not execute the MSI file if you see this error.
</p>
<div class="figure">
<a name="gnupg-kleopatra-decrypt-invalid-sig"></a><p class="title"><b>Figure 2.6 The Decrypt/Verify Results: Bad</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/gnupg-kleopatra-decrypt-invalid-sig.png" width="656" height="518" alt="The Decrypt/Verify Results: Bad">
</div>

</div>

</div>
<br class="figure-break"><p>
        The <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.3.2 Signature Checking Using GnuPG">Section 2.1.3.2, “Signature Checking Using GnuPG”</a> section explains
        why you probably don't see a green <code class="literal">Good
        signature</code> result.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="checking-rpm-signature"></a>2.1.3.4 Signature Checking Using RPM</h4>

</div>

</div>

</div>
<p>
        For RPM packages, there is no separate signature. RPM packages
        have a built-in GPG signature and MD5 checksum. You can verify a
        package by running the following command:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p>
        Example:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --checksig MySQL-server-5.7.13-0.linux_glibc2.5.i386.rpm</code></strong>
MySQL-server-5.7.13-0.linux_glibc2.5.i386.rpm: md5 gpg OK
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          If you are using RPM 4.1 and it complains about <code class="literal">(GPG)
          NOT OK (MISSING KEYS: GPG#5072e1f5)</code>, even though you
          have imported the MySQL public build key into your own GPG
          keyring, you need to import the key into the RPM keyring
          first. RPM 4.1 no longer uses your personal GPG keyring (or
          GPG itself). Rather, RPM maintains a separate keyring because
          it is a system-wide application and a user's GPG public
          keyring is a user-specific file. To import the MySQL public
          key into the RPM keyring, first obtain the key, then use
          <span class="command"><strong>rpm --import</strong></span> to import the key. For
          example:
</p>
</div>
<pre class="programlisting">
shell&gt; gpg --export -a 5072e1f5 &gt; 5072e1f5.asc
shell&gt; rpm --import 5072e1f5.asc
</pre><p>
        Alternatively, <span class="command"><strong>rpm</strong></span> also supports loading the
        key directly from a URL, and you can use this manual page:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm --import http://dev.mysql.com/doc/refman/5.7/en/checking-gpg-signature.html</code></strong>
</pre><p>
        If you need to obtain the MySQL public key, see
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.3.2 Signature Checking Using GnuPG">Section 2.1.3.2, “Signature Checking Using GnuPG”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installation-layouts"></a>2.1.4 Installation Layouts</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644218561088"></a><a class="indexterm" name="idm140644218560016"></a><a class="indexterm" name="idm140644218558944"></a><a class="indexterm" name="idm140644218557456"></a><p>
      The installation layout differs for different installation types
      (for example, native packages, binary tarballs, and source
      tarballs), which can lead to confusion when managing different
      systems or using different installation sources. The individual
      layouts are given in the corresponding installation type or
      platform chapter, as described following. Note that the layout of
      installations from vendors other than Oracle may differ from these
      layouts.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 MySQL Installation Layout on Microsoft Windows">Section 2.3.1, “MySQL Installation Layout on Microsoft Windows”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#source-installation-layout" title="2.9.1 MySQL Layout for Source Installation">Section 2.9.1, “MySQL Layout for Source Installation”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#binary-installation-layout" title="Table 2.3 MySQL Installation Layout for Generic Unix/Linux Binary Package">Table 2.3, “MySQL Installation Layout for Generic Unix/Linux Binary Package”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-linuxrpm" title="Table 2.9 MySQL Installation Layout for Linux RPM Packages from the MySQL Developer Zone">Table 2.9, “MySQL Installation Layout for Linux RPM Packages from the MySQL
        Developer Zone”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-osx" title="Table 2.5 MySQL Installation Layout on OS X">Table 2.5, “MySQL Installation Layout on OS X”</a>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compiler-characteristics"></a>2.1.5 Compiler-Specific Build Characteristics</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644218545952"></a><p>
      In some cases, the compiler used to build MySQL affects the
      features available for use. The notes in this section apply for
      binary distributions provided by Oracle Corporation or that you
      compile yourself from source.
    </p><p>
      <span class="bold"><strong><span class="command"><strong>icc</strong></span> (Intel C++ Compiler)
      Builds</strong></span>
    </p><p>
      A server built with <span class="command"><strong>icc</strong></span> has these
      characteristics:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          SSL support is not included.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="binary-installation"></a>2.2 Installing MySQL on Unix/Linux Using Generic Binaries</h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140644218538480"></a><a class="indexterm" name="idm140644218537024"></a><p>
    Oracle provides a set of binary distributions of MySQL. These
    include generic binary distributions in the form of compressed
    <span class="command"><strong>tar</strong></span> files (files with a
    <code class="filename">.tar.gz</code> extension) for a number of platforms,
    and binaries in platform-specific package formats for selected
    platforms.
  </p><p>
    This section covers the installation of MySQL from a compressed
    <span class="command"><strong>tar</strong></span> file binary distribution. For other
    platform-specific package formats, see the other platform-specific
    sections. For example, for Windows distributions, see
    <a class="xref" href="installing.html#windows-installation" title="2.3 Installing MySQL on Microsoft Windows">Section 2.3, “Installing MySQL on Microsoft Windows”</a>.
  </p><p>
    To obtain MySQL, see <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>.
  </p><p>
    MySQL compressed <span class="command"><strong>tar</strong></span> file binary distributions
    have names of the form
    <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.gz</code>,
    where <code class="literal"><em class="replaceable"><code>VERSION</code></em></code> is a
    number (for example, <code class="literal">5.7.13</code>), and
    <em class="replaceable"><code>OS</code></em> indicates the type of operating system
    for which the distribution is intended (for example,
    <code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>).
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>
      If you have previously installed MySQL using your operating system
      native package management system, such as <code class="literal">yum</code>
      or <code class="literal">apt-get</code>, you may experience problems
      installing using a native binary. Make sure your previous MySQL
      installation has been removed entirely (using your package
      management system), and that any additional files, such as old
      versions of your data files, have also been removed. You should
      also check for configuration files such as
      <code class="filename">/etc/my.cnf</code> or the
      <code class="filename">/etc/mysql</code> directory and delete them.
    </p><p>
      For information about replacing third-party packages with official
      MySQL packages, see the related
      <a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">Apt
      guide</a> or <a class="link" href="installing.html#replace-third-party-yum" title="2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum Repository">Yum
      guide</a>.
</p>
</div>
<a class="indexterm" name="idm140644218517664"></a>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>
      MySQL has a dependency on the <code class="literal">libaio</code> library.
      Data directory initialization and subsequent server startup steps
      will fail if this library is not installed locally. If necessary,
      install it using the appropriate package manager. For example, on
      Yum-based systems:
    </p><pre class="programlisting">
shell&gt; <em class="replaceable"><code>yum search libaio</code></em>  # search for info
shell&gt; <em class="replaceable"><code>yum install libaio</code></em> # install library
</pre><p>
      Or, on APT-based systems:
    </p><pre class="programlisting">
shell&gt; <em class="replaceable"><code>apt-cache search libaio</code></em> # search for info
shell&gt; <em class="replaceable"><code>apt-get install libaio1</code></em> # install library
</pre>
</div>
<p>
    If you run into problems and need to file a bug report, please use
    the instructions in <a class="xref" href="introduction.html#bug-reports" title="1.7 How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
  </p><p>
    On Unix, to install a compressed <span class="command"><strong>tar</strong></span> file binary
    distribution, unpack it at the installation location you choose
    (typically <code class="filename">/usr/local/mysql</code>). This creates the
    directories shown in the following table.
</p>
<div class="table">
<a name="binary-installation-layout"></a><p class="title"><b>Table 2.3 MySQL Installation Layout for Generic Unix/Linux Binary Package</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout for Generic Unix/Linux Binary Package" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code>, <code class="filename">scripts</code></td><td><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server, client and utility programs</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>Log files, databases</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>MySQL manual in Info format</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix manual pages</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td scope="row"><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, sample
configuration files, SQL for database installation</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
    Debug versions of the <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary are available
    as <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld-debug</strong></span></a>. To compile your own debug
    version of MySQL from a source distribution, use the appropriate
    configuration options to enable debugging support. See
    <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
  </p><a class="indexterm" name="idm140644218486128"></a><p>
    To install and use a MySQL binary distribution, the command sequence
    looks like this:
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>mkdir mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chmod 750 mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>    # Before MySQL 5.7.6
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong> # MySQL 5.7.6 and up
shell&gt; <strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong>              # MySQL 5.7.6 and up
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      This procedure assumes that you have <code class="literal">root</code>
      (administrator) access to your system. Alternatively, you can
      prefix each command using the <span class="command"><strong>sudo</strong></span> (Linux) or
      <span class="command"><strong>pfexec</strong></span> (OpenSolaris) command.
</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
      Before MySQL 5.7.4, the procedure does not assign passwords to
      MySQL accounts. To do so, use the instructions in
      <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>.
</p>
</div>
<p>
    The <code class="filename">mysql-files</code> directory provides a convenient
    location to use as the value of the
    <code class="literal">secure_file_priv</code> system variable that limits
    import/export operations to a specific directory. See
    <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a>.
  </p><p>
    Before MySQL 5.7.5, <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> creates a
    default option file named <code class="filename">my.cnf</code> in the base
    installation directory. This file is created from a template
    included in the distribution package named
    <code class="filename">my-default.cnf</code>. For more information, see
    <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 Server Configuration Defaults">Section 5.1.2, “Server Configuration Defaults”</a>.
  </p><p>
    A more detailed version of the preceding description for installing
    a binary distribution follows.
</p>
<h3><a name="binary-installation-createsysuser"></a>Create a mysql User and Group</h3>
<p>
    If your system does not already have a user and group to use for
    running <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, you may need to create one. The
    following commands add the <code class="literal">mysql</code> group and the
    <code class="literal">mysql</code> user. You might want to call the user and
    group something else instead of <code class="literal">mysql</code>. If so,
    substitute the appropriate name in the following instructions. The
    syntax for <span class="command"><strong>useradd</strong></span> and
    <span class="command"><strong>groupadd</strong></span> may differ slightly on different
    versions of Unix, or they may have different names such as
    <span class="command"><strong>adduser</strong></span> and <span class="command"><strong>addgroup</strong></span>.
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      Because the user is required only for ownership purposes, not
      login purposes, the <span class="command"><strong>useradd</strong></span> command uses the
      <code class="option">-r</code> and <code class="option">-s /bin/false</code> options to
      create a user that does not have login permissions to your server
      host. Omit these options if your <span class="command"><strong>useradd</strong></span> does
      not support them.
</p>
</div>
<h3><a name="binary-installation-unpack"></a>Obtain and Unpack the Distribution</h3>
<p>
    Pick the directory under which you want to unpack the distribution
    and change location into it. The example here unpacks the
    distribution under <code class="filename">/usr/local</code>. The
    instructions, therefore, assume that you have permission to create
    files and directories in <code class="filename">/usr/local</code>. If that
    directory is protected, you must perform the installation as
    <code class="literal">root</code>.
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p>
    Obtain a distribution file using the instructions in
    <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>. For a given release, binary
    distributions for all platforms are built from the same MySQL source
    distribution.
  </p><p>
    Unpack the distribution, which creates the installation directory.
    Then create a symbolic link to that directory.
    <span class="command"><strong>tar</strong></span> can uncompress and unpack the distribution if
    it has <code class="literal">z</code> option support:
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar zxvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
    The <span class="command"><strong>tar</strong></span> command creates a directory named
    <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code>.
    The <code class="literal">ln</code> command makes a symbolic link to that
    directory. This enables you to refer more easily to the installation
    directory as <code class="filename">/usr/local/mysql</code>.
  </p><p>
    To install MySQL from a compressed <span class="command"><strong>tar</strong></span> file
    binary distribution, your system must have GNU
    <code class="literal">gunzip</code> to uncompress the distribution and a
    reasonable <span class="command"><strong>tar</strong></span> to unpack it. If your
    <span class="command"><strong>tar</strong></span> program supports the <code class="literal">z</code>
    option, it can both uncompress and unpack the file.
  </p><p>
    GNU <span class="command"><strong>tar</strong></span> is known to work. The standard
    <span class="command"><strong>tar</strong></span> provided with some operating systems is not
    able to unpack the long file names in the MySQL distribution. You
    should download and install GNU <span class="command"><strong>tar</strong></span>, or if
    available, use a preinstalled version of GNU tar. Usually this is
    available as <span class="command"><strong>gnutar</strong></span>, <span class="command"><strong>gtar</strong></span>, or
    as <span class="command"><strong>tar</strong></span> within a GNU or Free Software directory,
    such as <code class="filename">/usr/sfw/bin</code> or
    <code class="filename">/usr/local/bin</code>. GNU <span class="command"><strong>tar</strong></span> is
    available from <a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>.
  </p><p>
    If your <span class="command"><strong>tar</strong></span> does not have <code class="literal">z</code>
    option support, use <span class="command"><strong>gunzip</strong></span> to unpack the
    distribution and <span class="command"><strong>tar</strong></span> to unpack it. Replace the
    preceding <span class="command"><strong>tar</strong></span> command with the following
    alternative command to uncompress and extract the distribution:
  </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.gz | tar xvf -</code></strong>
</pre>
<h3><a name="binary-installation-postinstall"></a>Perform Postinstallation Setup</h3>
<p>
    The remainder of the installation process involves setting
    distribution ownership and access permissions, initializing the data
    directory, starting the MySQL server, and setting up the
    configuration file. For instructions, see
    <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="windows-installation"></a>2.3 Installing MySQL on Microsoft Windows</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 MySQL Installation Layout on Microsoft Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 Choosing An Installation Package</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier">2.3.4 MySQL Notifier</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.7 Windows Postinstallation Procedures</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.3.8 Upgrading MySQL on Windows</a></span></dt></dl>
</div>
<p>
    There are several different methods to install MySQL on Microsoft
    Windows.
</p>
<h3><a name="idm140644218406736"></a>Simple Installation Method</h3>
<p>
    The simplest and recommended method is to download MySQL Installer (for
    Windows) and let it install and configure all of the MySQL products
    on your system. Here is how:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Download MySQL Installer from <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">http://dev.mysql.com/downloads/installer/</a>
        and execute it.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Unlike the standard MySQL Installer, the smaller "web-community" version
          does not bundle any MySQL applications but it will download
          the MySQL products you choose to install.
</p>
</div>
</li><li class="listitem"><p>
        Choose the appropriate <span class="guilabel">Setup Type</span> for your
        system. Typically you will choose <span class="guilabel">Developer
        Default</span> to install MySQL server and other MySQL tools
        related to MySQL development, helpful tools like MySQL Workbench.
        Or, choose the <span class="guilabel">Custom</span> setup type to
        manually select your desired MySQL products.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Multiple versions of MySQL server can exist on a single
          system. You can choose one or multiple versions.
</p>
</div>
</li><li class="listitem"><p>
        Complete the installation process by following the MySQL
        Installation wizard's instructions. This will install several
        MySQL products and start the MySQL server.
      </p></li><li class="listitem"><p>
        MySQL is now installed. You probably configured MySQL as a
        service that will automatically start MySQL server every time
        you restart your system.
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
      You probably also installed other helpful MySQL products like
      MySQL Workbench and MySQL Notifier on your system. Consider loading
      <a class="xref" href="workbench.html" title="Chapter 27 MySQL Workbench">Chapter 27, <i>MySQL Workbench</i></a> to check your new MySQL server
      connection, and <a class="xref" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">Section 2.3.4, “MySQL Notifier”</a> to view the
      connection's status. By default, these two programs automatically
      start after installing MySQL.
</p>
</div>
<p>
    This process also installs the MySQL Installer application on your system, and
    later you can use MySQL Installer to upgrade or reconfigure your MySQL
    products.
</p>
<h3><a name="idm140644218393568"></a>Additional Installation Information</h3>
<p>
    MySQL is available for Microsoft Windows, for both 32-bit and 64-bit
    versions. For supported Windows platform information, see
    <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>.
  </p><p>
    It is possible to run MySQL as a standard application or as a
    Windows service. By using a service, you can monitor and control the
    operation of the server through the standard Windows service
    management tools. For more information, see
    <a class="xref" href="installing.html#windows-start-service" title="2.3.5.8 Starting MySQL as a Windows Service">Section 2.3.5.8, “Starting MySQL as a Windows Service”</a>.
  </p><p>
    Generally, you should install MySQL on Windows using an account that
    has administrator rights. Otherwise, you may encounter problems with
    certain operations such as editing the <code class="literal">PATH</code>
    environment variable or accessing the <span class="command"><strong>Service Control
    Manager</strong></span>. Once installed, MySQL does not need to be
    executed using a user with Administrator privileges.
  </p><p>
    For a list of limitations on the use of MySQL on the Windows
    platform, see <a class="xref" href="restrictions.html#limits-windows" title="C.10.6 Windows Platform Limitations">Section C.10.6, “Windows Platform Limitations”</a>.
  </p><p>
    In addition to the MySQL Server package, you may need or want
    additional components to use MySQL with your application or
    development environment. These include, but are not limited to:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        To connect to the MySQL server using ODBC, you must have a
        Connector/ODBC driver. For more information, including
        installation and configuration instructions, see
        <a class="ulink" href="http://dev.mysql.com/doc/connector-odbc/en/index.html" target="_top">MySQL Connector/ODBC Developer Guide</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          MySQL Installer will install and configure Connector/ODBC for you.
</p>
</div>
</li><li class="listitem"><p>
        To use MySQL server with .NET applications, you must have the
        Connector/Net driver. For more information, including
        installation and configuration instructions, see
        <a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/index.html" target="_top">MySQL Connector/Net Developer Guide</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          MySQL Installer will install and configure Connector/NET for you.
</p>
</div>
</li></ul>
</div>
<p>
    MySQL distributions for Windows can be downloaded from
    <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. See
    <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>.
  </p><p>
    MySQL for Windows is available in several distribution formats,
    detailed here. Generally speaking, you should use MySQL Installer. It contains
    more features and MySQL products than the older MSI, is simpler to
    use than the Zip file, and you need no additional tools to get MySQL
    up and running. MySQL Installer automatically installs MySQL Server and
    additional MySQL products, creates an options file, starts the
    server, and enables you to create default user accounts. For more
    information on choosing a package, see
    <a class="xref" href="installing.html#windows-choosing-package" title="2.3.2 Choosing An Installation Package">Section 2.3.2, “Choosing An Installation Package”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        A MySQL Installer distribution includes MySQL Server and additional MySQL
        products including MySQL Workbench, MySQL Notifier, and MySQL
        for Excel. MySQL Installer can also be used to upgrade these products in
        the future.
      </p><p>
        For instructions on installing MySQL using MySQL Installer, see
        <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.
      </p></li><li class="listitem"><p>
        The standard binary distribution (packaged as a Zip file)
        contains all of the necessary files that you unpack into your
        chosen location. This package contains all of the files in the
        full Windows MSI Installer package, but does not include an
        installation program.
      </p><p>
        For instructions on installing MySQL using the Zip file, see
        <a class="xref" href="installing.html#windows-install-archive" title="2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">Section 2.3.5, “Installing MySQL on Microsoft Windows Using a noinstall Zip Archive”</a>.
      </p></li><li class="listitem"><p>
        The source distribution format contains all the code and support
        files for building the executables using the Visual Studio
        compiler system.
      </p><p>
        For instructions on building MySQL from source on Windows, see
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p></li></ul>
</div>
<p>
    <span class="bold"><strong>MySQL on Windows considerations:</strong></span>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>Large Table Support</strong></span>
      </p><p>
        If you need tables with a size larger than 4GB, install MySQL on
        an NTFS or newer file system. Do not forget to use
        <code class="literal">MAX_ROWS</code> and
        <code class="literal">AVG_ROW_LENGTH</code> when you create tables. See
        <a class="xref" href="sql-syntax.html#create-table" title="13.1.18 CREATE TABLE Syntax">Section 13.1.18, “CREATE TABLE Syntax”</a>.
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>MySQL and Virus Checking
        Software</strong></span>
      </p><p>
        Virus-scanning software such as Norton/Symantec Anti-Virus on
        directories containing MySQL data and temporary tables can cause
        issues, both in terms of the performance of MySQL and the
        virus-scanning software misidentifying the contents of the files
        as containing spam. This is due to the fingerprinting mechanism
        used by the virus-scanning software, and the way in which MySQL
        rapidly updates different files, which may be identified as a
        potential security risk.
      </p><p>
        After installing MySQL Server, it is recommended that you
        disable virus scanning on the main directory
        (<a class="link" href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a>) used to store your
        MySQL table data. There is usually a system built into the
        virus-scanning software to enable specific directories to be
        ignored.
      </p><p>
        In addition, by default, MySQL creates temporary files in the
        standard Windows temporary directory. To prevent the temporary
        files also being scanned, configure a separate temporary
        directory for MySQL temporary files and add this directory to
        the virus scanning exclusion list. To do this, add a
        configuration option for the
        <a class="link" href="server-administration.html#option_mysqld_tmpdir"><code class="option">tmpdir</code></a> parameter to your
        <code class="filename">my.ini</code> configuration file. For more
        information, see <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-installation-layout"></a>2.3.1 MySQL Installation Layout on Microsoft Windows</h3>

</div>

</div>

</div>
<p>
      For MySQL 5.7 on Windows, the default installation
      directory is <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.7</code>. Some Windows users prefer to install
      in <code class="filename">C:\mysql</code>, the directory that formerly was
      used as the default. However, the layout of the subdirectories
      remains the same.
    </p><p>
      All of the files are located within this parent directory, using
      the structure shown in the following table.
</p>
<div class="table">
<a name="idm140644218352560"></a><p class="title"><b>Table 2.4 Default MySQL Installation Layout for Microsoft Windows</b></p>
<div class="table-contents">
<table summary="Default MySQL Installation Layout for Microsoft Windows" border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th><th scope="col">Notes</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code>, <code class="filename">scripts</code></td><td><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server, client and utility programs</td><td class="auto-generated"> </td></tr><tr><td scope="row"><code class="filename">%ALLUSERSPROFILE%\MySQL\MySQL Server
              5.7\</code></td><td>Log files, databases (Windows XP, Windows Server 2003)</td><td>The Windows system variable <code class="varname">%ALLUSERSPROFILE%</code>
              defaults to <code class="filename">C:\Documents and Settings\All
              Users\Application Data</code></td></tr><tr><td scope="row"><code class="filename">%PROGRAMDATA%\MySQL\MySQL Server 5.7\</code></td><td>Log files, databases (Vista, Windows 7, Windows Server 2008, and newer)</td><td>The Windows system variable <code class="varname">%PROGRAMDATA%</code> defaults to
              <code class="filename">C:\ProgramData</code></td></tr><tr><td scope="row"><code class="filename">examples</code></td><td>Example programs and scripts</td><td> </td></tr><tr><td scope="row"><code class="filename">include</code></td><td>Include (header) files</td><td> </td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>Libraries</td><td> </td></tr><tr><td scope="row"><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, character set
              files, sample configuration files, SQL for database
installation</td><td> </td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      If you install MySQL using the MySQL Installer, this package creates and sets
      up the data directory that the installed server will use, and also
      creates a pristine <span class="quote">“<span class="quote">template</span>”</span> data directory named
      <code class="filename">data</code> under the installation directory. After
      an installation has been performed using this package, the
      template data directory can be copied to set up additional MySQL
      instances. See <a class="xref" href="server-administration.html#multiple-servers" title="5.3 Running Multiple MySQL Instances on One Machine">Section 5.3, “Running Multiple MySQL Instances on One Machine”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-choosing-package"></a>2.3.2 Choosing An Installation Package</h3>

</div>

</div>

</div>
<p>
      For MySQL 5.7, there are multiple installation
      package formats to choose from when installing MySQL on Windows.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Program Database (PDB) files (with file name extension
        <code class="filename">pdb</code>) provide information for debugging your
        MySQL installation in the event of a problem. These files are
        included in ZIP Archive distributions (but not MSI
        distributions) of MySQL.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>MySQL Installer</strong></span>: This package has a file
          name similar to
          <code class="filename">mysql-installer-community-5.7.13.0.msi</code>
          or
          <code class="filename">mysql-installer-commercial-5.7.13.0.msi</code>,
          and utilizes MSIs to automatically install MySQL server and
          other products. It will download and apply updates to itself,
          and for each of the installed products. It also configures the
          additional non-server products.
        </p><p>
          The installed products are configurable, and this includes:
          documentation with samples and examples, connectors (such as
          C, C++, J, NET, and ODBC), MySQL Workbench, MySQL Notifier, MySQL for Excel,
          and the MySQL Server with its components.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            As of MySQL 5.7.8, MySQL Installer no longer includes debugging
            binaries/information components (including PDB files). These
            are available in a separate Zip archive named
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64-debug-test.zip</code>
            for 64-bit and
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32-debug-test.zip</code>
            for 32-bit.
</p>
</div>
<p>
          MySQL Installer operates on all MySQL supported versions of Windows (see
          <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>).
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Because MySQL Installer is not a native component of Microsoft Windows
            and depends on .NET, it will not work on minimal
            installation options like the "Server Core" version of
            Windows Server 2008.
</p>
</div>
<p>
          For instructions on installing MySQL using MySQL Installer, see
          <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>The Noinstall Archives</strong></span>: These
          packages contain the files found in the complete installation
          package, with the exception of the GUI. This format does not
          include an automated installer, and must be manually installed
          and configured.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            As of MySQL 5.7.6, noinstall archives are split into two
            separate Zip files. The main package is named
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64.zip</code>
            for 64-bit and
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32.zip</code>
            for 32-bit. This contains the components needed to use MySQL
            on your system. The optional MySQL test suite, MySQL
            benchmark suite, and debugging binaries/information
            components (including PDB files) are in a separate Zip file
            named
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64-debug-test.zip</code>
            for 64-bit and
            <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-win32-debug-test.zip</code>
            for 32-bit.
          </p><p>
            Before MySQL 5.7.6, a single noinstall archive contained
            both the main and debugging files.
</p>
</div>
</li></ul>
</div>
<p>
      MySQL Installer is recommended for most users.
    </p><p>
      Your choice of install package affects the installation process
      you must follow. If you choose to use MySQL Installer, see
      <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>. If you choose to install a
      Noinstall archive, see <a class="xref" href="installing.html#windows-install-archive" title="2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">Section 2.3.5, “Installing MySQL on Microsoft Windows Using a noinstall Zip Archive”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-installer"></a>2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#mysql-installer-gui">2.3.3.1 MySQL Installer GUI</a></span></dt><dt><span class="section"><a href="installing.html#MySQLInstallerConsole">2.3.3.2 MySQL Installer Console</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644218300128"></a><p>
    MySQL Installer is an application that manages MySQL products on Microsoft
    Windows. It installs, updates, removes, and configures MySQL
    products, and remains on the system as its own application. MySQL Installer is
    only available for Microsoft Windows, and includes both GUI and
    command-line interfaces.
  </p><p>
    The supported MySQL products include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/" target="_top">MySQL Server</a> (one
        or multiple versions on the same system)
      </p></li><li class="listitem"><p>
        <a class="link" href="workbench.html" title="Chapter 27 MySQL Workbench">MySQL Workbench</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/index-connectors.html" target="_top">MySQL
        Connectors</a> (.Net / Python / ODBC / Java / C / C++)
      </p></li><li class="listitem"><p>
        <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/index.html" target="_top">MySQL for Excel</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/connector-net/en/connector-net-visual-studio.html" target="_top">MySQL for Visual Studio</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://dev.mysql.com/doc/index-utils-fabric.html" target="_top">MySQL Utilities
        and MySQL Fabric</a>
      </p></li><li class="listitem"><p>
        MySQL Samples and Examples
      </p></li><li class="listitem"><p>
        MySQL Documentation
      </p></li><li class="listitem"><p>
        MySQL Installer is also installed and remains on the system as its own
        application, that is used to install additional MySQL products,
        and also to update and configure existing MySQL products
      </p></li><li class="listitem"><p>
        The Enterprise edition installs the Enterprise versions of the
        above products, and also includes MySQL Enterprise Backup and MySQL Enterprise Firewall
</p></li></ul>
</div>
<h4><a name="idm140644218283104"></a>Installer package types</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">Full:</code> Bundles all of the MySQL products
        (including the MySQL server). The file size is over 300MB, and
        its name has the form
        <code class="filename">mysql-installer-community-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code>
        where <code class="literal">VERSION</code> is the MySQL Server version
        number such as 5.7 and
        <code class="literal">N</code> is the package number, which begins at 0.
      </p></li><li class="listitem"><p>
        <code class="literal">Web:</code> Only contains the Installer and
        configuration files, and it downloads the MySQL products you
        choose to install. The size of this file is about 2MB; the name
        of the file has the form
        <code class="filename">mysql-installer-community-<code class="literal">web</code>-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code>
        where <code class="literal">VERSION</code> is the MySQL Server version
        number such as 5.7 and
        <code class="literal">N</code> is the package number, which begins at 0.
      </p></li><li class="listitem"><p>
        <code class="literal">Updates:</code> MySQL Installer can upgrade itself, so an
        additional download is not requires to update MySQL Installer.
</p></li></ul>
</div>
<h4><a name="idm140644218270320"></a>Installer editions</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <code class="literal">Community edition:</code> Downloadable at
        <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">http://dev.mysql.com/downloads/installer/</a>. It installs the
        community edition of all MySQL products.
      </p></li><li class="listitem"><p>
        <code class="literal">Commercial edition:</code> Downloadable at either
        <a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle
        Support</a> (MOS) or
        <a class="ulink" href="https://edelivery.oracle.com/" target="_top">https://edelivery.oracle.com/</a>. It installs the
        commercial version of all MySQL products, including Workbench
        SE/EE, MySQL Enterprise Backup, and MySQL Enterprise Firewall. It also integrates with your MOS
        account.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Entering your MOS credentials is optional when installing
          bundled MySQL products, but your credentials are required when
          choosing non-bundled MySQL products that MySQL Installer must download.
</p>
</div>
</li></ul>
</div>
<p>
    For notes detailing the changes in each release of MySQL Installer, see
    <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-installer/en/" target="_top">MySQL Installer Release
    Notes</a>.
  </p><p>
    MySQL Installer is compatible with pre-existing installations, and adds them to
    its list of installed components. While the standard MySQL Installer is bundled
    with a specific version of MySQL server, a single MySQL Installer instance can
    install and manage multiple MySQL server versions. For example, a
    single MySQL Installer instance can install (and update) versions 5.5, 5.6, and
    5.7 on the same host.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      A single host can <span class="emphasis"><em>not</em></span> have both community and
      commercial editions of MySQL server installed. For example, if you
      want both MySQL Server 5.6 and 5.7 installed on a single host,
      both must be the same edition.
</p>
</div>
<p>
    MySQL Installer handles the initial configuration and set up of the
    applications. For example:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
        It creates the configuration file (<code class="filename">my.ini</code>)
        that is used to configure the MySQL Server. The values written
        to this file are influenced by choices you make during the
        installation process.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Some definitions are host dependent. For example, query_cache
          is enabled if the host has fewer than three cores.
</p>
</div>
</li><li class="listitem"><p>
        It can optionally import example databases.
      </p></li><li class="listitem"><p>
        By default, a Windows service for the MySQL server is added.
      </p></li><li class="listitem"><p>
        It can optionally create MySQL Server user accounts with
        configurable permissions based on general roles, such as DB
        Administrator, DB Designer, and Backup Admin. It optionally
        creates a Windows user named <code class="literal">MysqlSys</code> with
        limited privileges, which would then run the MySQL Server.
      </p><p>
        User accounts may also be added and configured in MySQL Workbench.
      </p></li><li class="listitem"><p>
        Checking <span class="guilabel">Show Advanced Options</span> allows
        additional <span class="guilabel">Logging Options</span> to be set. This
        includes defining custom file paths for the error log, general
        log, slow query log (including the configuration of seconds it
        requires to execute a query), and the binary log.
</p></li></ol>
</div>
<p>
    MySQL Installer can optionally check for updated components and download them
    for you.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installer-gui"></a>2.3.3.1 MySQL Installer GUI</h4>
</div>
</div>
</div>
<p>
      Installing MySQL Installer adds a link to the Start menu under the
      <span class="guimenu">MySQL</span> group. Click <span class="guimenu">Start</span>,
      <span class="guimenu">All Programs</span> <span class="guimenu">MySQL</span>,
      <span class="guimenu">MySQL Installer</span> to reload the MySQL Installer GUI.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Full permissions are granted to the user executing MySQL Installer to all
        generated files, such as <code class="filename">my.ini</code>. This does
        not apply to files and directories for specific products, such
        as the MySQL server data directory in
        <code class="literal">%ProgramData%</code> that is owned by
        <code class="literal">SYSTEM</code>.
</p>
</div>
<p>
      MySQL Installer requires you to accept the license agreement before it will
      install MySQL products.
</p>
<div class="figure">
<a name="mysql-installer-license-agreement"></a><p class="title"><b>Figure 2.7 MySQL Installer - License Agreement</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-license-agreement.png" width="790" height="589" alt="MySQL Installer - License Agreement">
</div>

</div>

</div>
<br class="figure-break">
<h5><a name="idm140644218232000"></a>Installing New Packages</h5>
<p><a name="mysql-installer-choose-setup-type"></a>
      Choose the appropriate <span class="guilabel">Setup Type</span> for your
      system. This type determines which MySQL products are initially
      installed on your system, or select <span class="guilabel">Custom</span> to
      manually choose the products.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Developer</strong></span>: Install all
          products needed to develop applications with MySQL. This is
          the default option.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Server only</strong></span>: Only install the
          MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Client only</strong></span>: Only install the
          MySQL client products, such as MySQL Workbench. This does not
          include the MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Full</strong></span>: Install all available
          MySQL products.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Custom</strong></span>: Manually select the
          MySQL products to install, and optionally configure custom
          MySQL data and installation paths.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            After the initial installation, you may use MySQL Installer to manually
            select MySQL products to install or remove. In other words,
            MySQL Installer becomes a MySQL product management system.
</p>
</div>
</li></ul>
</div>

<div class="figure">
<a name="mysql-installer-choose-setup-page-win"></a><p class="title"><b>Figure 2.8 MySQL Installer - Choosing a Setup Type</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-choosing-setup-type.png" width="790" height="589" alt="MySQL Installer - Choosing a Setup Type">
</div>

</div>

</div>
<br class="figure-break"><p>
      MySQL Installer checks your system for the external requirements
      (pre-requisites) required to install the selected MySQL products.
      MySQL Installer can download and install some prerequisites, but others
      require manual intervention. Download and install all
      prerequisites that have <span class="guilabel">Status</span> set to
      "Manual". Click <span class="guibutton">Check</span> to recheck if a
      manual prerequisite was installed. After manually installing those
      requirements, click <span class="guibutton">Execute</span> to download and
      install the other prerequisites. Once finished, click
      <span class="guibutton">Next</span> to continue.
</p>
<div class="figure">
<a name="mysql-installer-check-requirements"></a><p class="title"><b>Figure 2.9 MySQL Installer - Check Requirements</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-check-requirements.png" width="790" height="590" alt="MySQL Installer - Check Requirements">
</div>

</div>

</div>
<br class="figure-break"><p>
      The next window lists the MySQL products that are scheduled for
      installation:
</p>
<div class="figure">
<a name="mysql-installer-installation-progress-win"></a><p class="title"><b>Figure 2.10 MySQL Installer - Installation Progress</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-installation.png" width="790" height="589" alt="MySQL Installer - Installation Progress">
</div>

</div>

</div>
<br class="figure-break"><p>
      As components are installed, their <span class="guilabel">Status</span>
      changes from a progress percentage to "Complete".
    </p><p>
      After all components are installed, the next step configures some
      of the recently installed MySQL products. The
      <code class="literal">Configuration Overview</code> window displays the
      progress and then loads a configuration window, if required. Our
      example configures MySQL Server 5.6.x.
</p>
<h5><a name="idm140644218189584"></a>Configuring MySQL Server</h5>
<p>
      Configuring the MySQL server begins with defining several
      <span class="guilabel">Type and Networking</span> options.
</p>
<div class="figure">
<a name="mysql-installer-initial-configuration-overview"></a><p class="title"><b>Figure 2.11 MySQL Installer - Configuration Overview</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-product-configuration.png" width="790" height="589" alt="MySQL Installer - Configuration Overview">
</div>

</div>

</div>
<br class="figure-break"><p>
      <span class="bold"><strong>Server Configuration Type</strong></span>
    </p><p>
      Choose the MySQL server configuration type that describes your
      setup. This setting defines the amount of system resources
      (memory) that will be assigned to your MySQL server instance.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Developer</strong></span>: A machine that
          will host many other applications, and typically this is your
          personal workstation. This option configures MySQL to use the
          least amount of memory.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Server</strong></span>: Several other
          applications will be running on this machine, such as a web
          server. This option configures MySQL to use a medium amount of
          memory.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Dedicated</strong></span>: A machine that is
          dedicated to running the MySQL server. Because no other major
          applications will run on this server, such as a web server,
          this option configures MySQL to use the majority of available
          memory.
</p></li></ul>
</div>
<p>
      <span class="bold"><strong>Connectivity</strong></span>
    </p><p>
      Connectivity options control how the connection to MySQL is made.
      Options include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="guilabel">TCP/IP</span>: You may enable TCP/IP Networking
          here as otherwise only localhost connections are allowed. Also
          define the <span class="guilabel">Port Number</span> and whether to
          open the firewall port for network access.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Named Pipe</span>: Enable and define the pipe
          name, similar to using the
          <code class="literal">--enable-named-pipe</code> option.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Shared Memory</span>: Enable and then define the
          memory name, similar to using the
          <code class="literal">--shared-memory</code> option.
</p></li></ul>
</div>
<p>
      <span class="bold"><strong>Advanced Configuration</strong></span>
    </p><p>
      Check <span class="guilabel">Show Advanced Options</span> to set additional
      <span class="guilabel">Logging Options</span>. This includes defining
      custom file paths for the error log, general log, slow query log
      (including the configuration of seconds it requires to execute a
      query), and the binary log.
</p>
<div class="figure">
<a name="mysql-installer-mysql-server-configuration-choice"></a><p class="title"><b>Figure 2.12 MySQL Installer - MySQL Server Configuration: Type and Networking</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-type-and-networking.png" width="790" height="589" alt="MySQL Installer- MySQL Server Configuration: Type and Networking">
</div>

</div>

</div>
<br class="figure-break">
<h5><a name="idm140644218153136"></a>Accounts and Roles</h5>
<p>
      Next, define your MySQL account information. Assigning a root
      password is required.
    </p><p>
      Optionally, you can add additional MySQL user accounts with
      predefined user roles. Each predefined role, such as "DB Admin",
      are configured with their own set of privileges. For example, the
      "DB Admin" role has more privileges than the "DB Designer" role.
      Click the <span class="guilabel">Role</span> dropdown for a list of role
      descriptions.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        If the MySQL Server is already installed, then you must also
        enter the <code class="literal">Current Root Password</code>.
</p>
</div>

<div class="figure">
<a name="mysql-installer-configuration-setup-win"></a><p class="title"><b>Figure 2.13 MySQL Installer - MySQL Server Configuration: User Accounts and Roles</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-accounts-and-roles.png" width="790" height="589" alt="MySQL Installer - MySQL Server Configuration: User Accounts and Roles">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mysql-installer-configuration-adding-a-new-user"></a><p class="title"><b>Figure 2.14 MySQL Installer - MySQL Server Configuration: User Accounts and Roles: Adding a
User</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-accounts-and-roles-new-user.png" width="429" height="300" alt="MySQL Installer - MySQL Server Configuration: User Accounts and Roles: Adding a User">
</div>

</div>

</div>
<br class="figure-break">
<h5><a name="idm140644218134464"></a>Windows Service</h5>
<p>
      Next, configure the <span class="guilabel">Windows Service</span> details.
      This includes the service name, whether the MySQL server should be
      loaded at startup, and how the MySQL server Windows service is
      executed.
</p>
<div class="figure">
<a name="mysql-installer-installation-configuration-win-service-details"></a><p class="title"><b>Figure 2.15 MySQL Installer - MySQL Server Configuration: Windows Service</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-windows-service.png" width="790" height="589" alt="MySQL Installer - MySQL Server Configuration: Windows Service">
</div>

</div>

</div>
<br class="figure-break">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        When configuring <span class="guilabel">Run Windows Services as
        ...</span> using a <span class="guilabel">Custom User</span>, the
        custom user must have privileges to log on to Microsoft Windows
        as a service. The <span class="guibutton">Next</span> button will be
        disabled until this user is configured with the required
        privileges.
      </p><p>
        On Microsoft Windows 7, this is configured by loading the
        <code class="literal">Start Menu</code>, <code class="literal">Control Panel</code>,
        <code class="literal">Administrative Tools</code>, <code class="literal">Local Security
        Policy</code>, <code class="literal">Local Policies</code>,
        <code class="literal">User Rights Assignment</code>, then <code class="literal">Log On
        As A Service</code>. Choose <code class="literal">Add User or
        Group</code> here to add the custom user, and then
        <span class="guibutton">OK</span>, <span class="guibutton">OK</span> to save.
</p>
</div>
<h5><a name="idm140644218114624"></a>Advanced Options</h5>
<p>
      The next configuration step is available if the <span class="guilabel">Advanced
      Configuration</span> option was checked. This section includes
      options that are related to the MySQL log files:
</p>
<div class="figure">
<a name="mysql-installer-installation-configuration-log-options"></a><p class="title"><b>Figure 2.16 MySQL Installer - MySQL Server Configuration: Logging Options</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-advanced-options.png" width="790" height="589" alt="MySQL Installer - MySQL Server Configuration: Logging Options">
</div>

</div>

</div>
<br class="figure-break"><p>
      Click <span class="guibutton">Next</span> to continue on to the final page
      before all of the requested changes are applied. This
      <span class="guilabel">Apply Server Configuration</span> page details the
      configuration steps that will be performed.
</p>
<div class="figure">
<a name="mysql-installer-installation-configuration-apply-server-configuration"></a><p class="title"><b>Figure 2.17 MySQL Installer - MySQL Server Configuration: Apply Server Configuration</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-apply-server-configuration.png" width="790" height="589" alt="MySQL Installer - MySQL Server Configuration: Apply Server Configuration">
</div>

</div>

</div>
<br class="figure-break"><p>
      Click <span class="guibutton">Execute</span> to execute the configuration
      steps. The icon for each step toggles from white to green on
      success, or the process stops on failure. Click the
      <span class="guimenu">Log</span> tab to view the log.
    </p><p>
      After the MySQL Installer configuration process is finished, MySQL Installer reloads the
      opening page where you can execute other installation and
      configuration related actions.
    </p><p>
      MySQL Installer is added to the Microsoft Windows Start menu under the
      <code class="literal">MySQL</code> group. Opening MySQL Installer loads its dashboard
      where installed MySQL products are listed, and other MySQL Installer actions
      are available:
</p>
<div class="figure">
<a name="mysql-installer-main-page"></a><p class="title"><b>Figure 2.18 MySQL Installer - Main Dashboard</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-main-page.png" width="797" height="596" alt="MySQL Installer - Main Dashboard">
</div>

</div>

</div>
<br class="figure-break">
<h5><a name="idm140644218084432"></a>Adding MySQL Products</h5>
<p>
      Click <span class="guibutton">Add</span> to add new products. This loads
      the <span class="guilabel">Select Products and Features</span> page:
</p>
<div class="figure">
<a name="mysql-installer-select-products-and-features"></a><p class="title"><b>Figure 2.19 MySQL Installer - Select Products and Features</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-select-products-features.png" width="790" height="589" alt="MySQL Installer - Select Products and Features">
</div>

</div>

</div>
<br class="figure-break"><p>
      From here, choose the MySQL products you want to install from the
      left <span class="guilabel">Available Products</span> pane, and then click
      the green right arrow to queue products for installation.
    </p><p>
      Optionally, click <span class="guibutton">Edit</span> to open the product
      and features search filter:
</p>
<div class="figure">
<a name="mysql-installer-select-products-and-features-filter"></a><p class="title"><b>Figure 2.20 MySQL Installer - Select Products and Features Filter</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-select-products-features-filter.png" width="790" height="589" alt="MySQL Installer - Select Products and Features Filter">
</div>

</div>

</div>
<br class="figure-break"><p>
      For example, you might choose to include Pre-Release products in
      your selections, such as a Beta product that has not yet reached
      General Availability (GA) status.
    </p><p>
      Select all of the MySQL products you want to install, then click
      <span class="guibutton">Next</span> to continue using the defaults, or
      highlight a selected product and click <span class="guilabel">Advanced
      Options</span> to optionally alter options such as the MySQL
      server data and installation paths. Click
      <span class="guibutton">Execute</span> to execute the installation process
      to install all of the selected products.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-catalog"></a>2.3.3.1.1 MySQL Product Catalog</h5>
</div>
</div>
</div>
<p>
        MySQL Installer stores a MySQL product catalog. The catalog can be updated
        either manually or automatically, and the catalog change history
        is also available. The automatic update is enabled by default.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The product catalog update also checks for a newer version of
          MySQL Installer, and prompts for an update if one is present.
</p>
</div>
<p>
        <span class="bold"><strong>Manual updates</strong></span>
      </p><p>
        You can update the MySQL product catalog at any time by clicking
        <span class="guilabel">Catalog</span> on the Installer dashboard.
</p>
<div class="figure">
<a name="mysql-installer-open-catalog-figure"></a><p class="title"><b>Figure 2.21 MySQL Installer - Open the MySQL Product Catalog</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-dashboard-catalog.png" width="790" height="589" alt="MySQL Installer - Open the MySQL Product Catalog">
</div>

</div>

</div>
<br class="figure-break"><p>
        From there, click <span class="guibutton">Execute</span> to update the
        product catalog.
      </p><p>
        <span class="bold"><strong>Automatic updates</strong></span>
      </p><p>
        MySQL Installer can automatically update the MySQL product catalog. By
        default, this feature is enabled to execute each day at 12:00
        AM. To configure this feature, click the wrench icon on the
        Installer dashboard.
      </p><p>
        The next window configures the <span class="guilabel">Automatic Catalog
        Update</span>. Enable or disable this feature, and also set
        the hour.
</p>
<div class="figure">
<a name="mysql-installer-open-catalog-schedule-configure-figure"></a><p class="title"><b>Figure 2.22 MySQL Installer - Configure the Catalog Scheduler</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-catalog-schedule-configure.png" width="506" height="283" alt="MySQL Installer - Configure the Catalog Scheduler">
</div>

</div>

</div>
<br class="figure-break"><p>
        This option uses the Windows Task Scheduler to schedule a task
        named "ManifestUpdate".
      </p><p>
        <span class="bold"><strong>Change History</strong></span>
      </p><p>
        MySQL Installer tracks the change history for all of the MySQL products.
        Click <span class="guilabel">Catalog</span> from the dashboard,
        optionally update the catalog (or, toggle the <span class="guilabel">Do not
        update at this time</span> checkbox), click
        <span class="guibutton">Next</span>/<span class="guibutton">Execute</span>, and
        then view the change history.
</p>
<div class="figure">
<a name="mysql-installer-change-history-figure"></a><p class="title"><b>Figure 2.23 MySQL Installer - Catalog Change History</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-change-history.png" width="790" height="589" alt="MySQL Installer - Catalog Change History">
</div>

</div>

</div>
<br class="figure-break">
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-remove"></a>2.3.3.1.2 Remove MySQL Products</h5>

</div>

</div>

</div>
<p>
        MySQL Installer can also remove MySQL products from your system. To remove
        a MySQL product, click <span class="guilabel">Remove</span> from the
        Installer dashboard. This opens a window with a list of
        installed MySQL products. Select the MySQL products you want to
        remove (uninstall), and then click
        <span class="guibutton">Execute</span> to begin the removal process.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          To select all MySQL products, click the
          <span class="guilabel">[ ]</span> checkbox to the left of the
          <span class="guilabel">Product</span> label.
</p>
</div>

<div class="figure">
<a name="mysql-installer-remove-products-select-figure"></a><p class="title"><b>Figure 2.24 MySQL Installer - Removing Products: Select</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-remove-products.png" width="790" height="589" alt="MySQL Installer - Removing Products: Select">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mysql-installer-remove-products-executed-figure"></a><p class="title"><b>Figure 2.25 MySQL Installer - Removing Products: Executed</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-remove-products-executed.png" width="790" height="589" alt="MySQL Installer - Removing Products: Executed">
</div>

</div>

</div>
<br class="figure-break">
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-installer-alter"></a>2.3.3.1.3 Alter MySQL Products</h5>

</div>

</div>

</div>
<p>
        Use MySQL Installer to modify, configure, or upgrade your MySQL product
        installations.
</p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h6 class="title"><a name="mysql-installer-alter-upgrade"></a>Upgrade</h6>
</div>

</div>

</div>
<p>
          Upgradable MySQL products are listed on the main dashboard
          with an arrow icon (

          <span class="inlinemediaobject"><img src="images/wb-icon-upgrade-arrow.png" align="middle" width="16" height="16"></span>

          ) next to their version number.
</p>
<div class="figure">
<a name="mysql-installer-dashboard-upgrade-viewable-figure"></a><p class="title"><b>Figure 2.26 MySQL Installer - Upgrade a MySQL Product</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-dashboard-upgrade-icon.png" width="790" height="589" alt="MySQL Installer - Upgrade a MySQL Product">
</div>

</div>

</div>
<br class="figure-break">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            The "upgrade" functionality requires a current product
            catalog. This catalog is updated either manually or
            automatically (daily) by enabling the <span class="guilabel">Automatic
            Catalog Update</span> feature. For additional
            information, see <a class="xref" href="installing.html#mysql-installer-catalog" title="2.3.3.1.1 MySQL Product Catalog">Section 2.3.3.1.1, “MySQL Product Catalog”</a>.
</p>
</div>
<p>
          Click <span class="guilabel">Upgrade</span> to upgrade the available
          products. Our example indicates that MySQL Workbench 6.2.4 can be
          upgraded version 6.3.1 or 6.2.5, and MySQL server from 5.5.41
          to 5.5.42.
</p>
<div class="figure">
<a name="mysql-installer-upgrade-select-products-to-upgrade-figure"></a><p class="title"><b>Figure 2.27 MySQL Installer - Select Products To Upgrade</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-select-products-to-upgrade.png" width="790" height="589" alt="MySQL Installer - Select Products To Upgrade">
</div>

</div>

</div>
<br class="figure-break"><p>
          If multiple upgrade versions are available (such as our
          MySQL Workbench example above), select the desired version for the
          upgrade in the <span class="guilabel">Available Upgrades</span> area.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Optionally, click the
            <span class="bold"><strong>Changes</strong></span> link to view the
            version's release notes.
</p>
</div>
<p>
          After selecting (checking) the products and versions to
          upgrade, click <span class="guibutton">Next</span> to begin the
          upgrade process.
</p>
<div class="figure">
<a name="mysql-installer-upgrade-apply-updates-figure"></a><p class="title"><b>Figure 2.28 MySQL Installer - Apply Updates</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-apply-updates.png" width="790" height="589" alt="MySQL Installer - Apply Updates">
</div>

</div>

</div>
<br class="figure-break"><p>
          A MySQL server upgrade will also check and upgrade the
          server's database. Although optional, this step is
          recommended.
</p>
<div class="figure">
<a name="mysql-installer-check-and-upgrade-database-figure"></a><p class="title"><b>Figure 2.29 MySQL Installer - Check and Upgrade Database</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-check-and-upgrade-database.png" width="790" height="589" alt="MySQL Installer - Check and Upgrade Database">
</div>

</div>

</div>
<br class="figure-break"><p>
          Upon completion, your upgraded products will be upgraded and
          available to use. A MySQL server upgrade also restarts the
          MySQL server.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="mysql-installer-alter-reconfigure"></a>Reconfigure</h6>
</div>

</div>

</div>
<p>
          Some MySQL products, such as the MySQL server, include a
          <span class="guilabel">Reconfigure</span> option. It opens the same
          configuration options that were set when the MySQL product was
          installed, and is pre-populated with the current values.
        </p><p>
          To execute, click the <code class="literal">Reconfigure</code> link
          under the <span class="guilabel">Quick Action</span> column on the main
          dashboard for the MySQL product that you want to reconfigure.
</p>
<div class="figure">
<a name="mysql-installer-reconfigure-link-figure"></a><p class="title"><b>Figure 2.30 MySQL Installer - Reconfigure a MySQL Product</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-dashboard-reconfigure.png" width="790" height="589" alt="MySQL Installer - Reconfigure a MySQL Product">
</div>

</div>

</div>
<br class="figure-break"><p>
          In the case of the MySQL server, this opens a configuration
          wizard that relates to the selected product. For example, for
          MySQL Server this includes setting the type, ports, log paths,
          and so on.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h6 class="title"><a name="mysql-installer-alter-modify"></a>Modify</h6>
</div>

</div>

</div>
<p>
          Many MySQL products contain feature components that can be
          added or removed. For example, <code class="literal">Debug
          binaries</code> and <code class="literal">Client Programs</code> are
          subcomponents of the MySQL server.
        </p><p>
          The modify the features of a product, click
          <span class="guilabel">Modify</span> on the main dashboard.
</p>
<div class="figure">
<a name="mysql-installer-modify-product-features-figure"></a><p class="title"><b>Figure 2.31 MySQL Installer - Modify Product Features</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mi-installation-modify-product-features.png" width="790" height="589" alt="MySQL Installer - Modify Product Features">
</div>

</div>

</div>
<br class="figure-break"><p>
          Click <span class="guibutton">Execute</span> to execute the
          modification request.
</p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="MySQLInstallerConsole"></a>2.3.3.2 MySQL Installer Console</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644217935328"></a><a class="indexterm" name="idm140644217934256"></a><a class="indexterm" name="idm140644217933184"></a><a class="indexterm" name="idm140644217931696"></a><p>
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2 MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> provides functionality
      similar to the GUI version of MySQL Installer, but from the command-line. It
      is installed when MySQL Installer is initially executed, and then available
      within the <code class="filename">MySQL Installer</code> directory.
      Typically that is in <code class="filename">C:\Program Files (x86)\MySQL\MySQL
      Installer\</code>, and the console must be executed with
      administrative privileges.
    </p><p>
      To use, invoke the Command Prompt with administrative privileges
      by choosing <span class="guimenu">Start</span>,
      <span class="guimenu">Accessories</span>, then right-click on
      <span class="guimenu">Command Prompt</span> and choose <code class="literal">Run as
      administrator</code>. And from the command-line, optionally
      change the directory to where
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2 MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> is located:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>cd "C:\Program Files (x86)\MySQL\MySQL Installer for Windows"</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole.exe help</code></strong>

C:\Program Files (x86)\MySQL\MySQL Installer for Windows&gt;MySQLInstallerConsole.exe help

The following commands are available:

Configure - Configures one or more of your installed programs.
Help      - Provides list of available commands.
Install   - Install and configure one or more available MySQL programs.
List      - Provides an interactive way to list all products available.
Modify    - Modifies the features of installed products.
Remove    - Removes one or more products from your system.
Status    - Shows the status of all installed products.
Update    - Update the current product catalog.
Upgrade   - Upgrades one or more of your installed programs.
</pre><p>
      <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.2 MySQL Installer Console"><span class="command"><strong>MySQLInstallerConsole</strong></span></a> supports the following
      options, which are specified on the command line:
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Configuration block values that contain a colon (":") must be
        wrapped in double quotes. For example,
        installdir="C:\MySQL\MySQL Server 5.6".
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="MySQLInstallerConsole-configure"></a>
          <a class="indexterm" name="idm140644217914896"></a>

          <a class="indexterm" name="idm140644217913408"></a>

          <code class="literal">configure</code> [product1]:[setting]=[value];
          [product2]:[setting]=[value]; [...]
        </p><p>
          Configure one or more MySQL products on your system. Multiple
          setting=value pairs can be configured for each product.
        </p><p>
          Switches include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-showsettings</code> : Displays the available
              options for the selected product, by passing in the
              product name after <code class="literal">-showsettings</code>.
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code> : Disable confirmation prompts.
</p></li></ul>
</div>
<pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>configure -showsettings server</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>configure server:port=3307</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-help"></a>
          <a class="indexterm" name="idm140644217902016"></a>

          <a class="indexterm" name="idm140644217900528"></a>

          <code class="literal">help [command]</code>
        </p><p>
          Displays a help message with usage examples, and then exits.
          Pass in an additional command to receive help specific to that
          command.
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>help</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>help install</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-install"></a>
          <a class="indexterm" name="idm140644217893888"></a>

          <a class="indexterm" name="idm140644217892400"></a>

          <code class="literal">install</code> [product]:[features]:[config
          block]:[config block]:[config block]; [...]
        </p><p>
          Install one or more MySQL products on your system.
        </p><p>
          Switches and syntax options include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-type=[SetupType]</code> : Installs a
              predefined set of software. The "SetupType" can be one of
              the following:
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                Non-custom setup types can only be chosen if no other
                MySQL products are installed.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <span class="bold"><strong>Developer</strong></span>: Installs a
                  complete development environment.
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Server</strong></span>: Installs a
                  single MySQL server
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Client</strong></span>: Installs
                  client programs and libraries
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Full</strong></span>: Installs
                  everything
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>Custom</strong></span>: Installs user
                  selected products. This is the default option.
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <code class="literal">-showsettings</code> : Displays the available
              options for the selected product, by passing in the
              product name after <code class="literal">-showsettings</code>.
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code> : Disable confirmation prompts.
            </p></li><li class="listitem"><p>
              <code class="literal">[config block]</code>: One or more
              configuration blocks can be specified. Each configuration
              block is a semicolon separated list of key value pairs. A
              block can include either a "config" or "user" type key,
              where "config" is the default type if one is not defined.
            </p><p>
              Configuration block values that contain a colon (":") must
              be wrapped in double quotes. For example,
              installdir="C:\MySQL\MySQL Server 5.6".
            </p><p>
              Only one "config" type block can be defined per product. A
              "user" block should be defined for each user that should
              be created during the product's installation.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
                Adding users is not supported when a product is being
                reconfigured.
</p>
</div>
</li><li class="listitem"><p>
              <code class="literal">[feature]</code>: The feature block is a
              semicolon separated list of features, or '*' to select all
              features.
</p></li></ul>
</div>
<pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>install server;5.6.25:*:port=3307;serverid=2:type=user;username=foo;password=bar;role=DBManager</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>install server;5.6.25;x64 -silent</code></em></code></strong>
</pre><p>
          An example that passes in additional configuration blocks,
          broken up by <code class="literal">^</code> to fit this screen:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>install server;5.6.25;x64:*:type=config;openfirewall=true; ^
          generallog=true;binlog=true;serverid=3306;enable_tcpip=true;port=3306;rootpasswd=pass; ^
          installdir="C:\MySQL\MySQL Server 5.6":type=user;datadir="C:\MySQL\data";username=foo;password=bar;role=DBManager</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-list"></a>
          <a class="indexterm" name="idm140644217861648"></a>

          <a class="indexterm" name="idm140644217860160"></a>

          <code class="literal">list</code>
        </p><p>
          Lists an interactive console where all of the available MySQL
          products can be searched. Execute
          <code class="literal">MySQLInstallerConsole list</code> to launch the
          console, and enter in a substring to search.
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>list</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-modify"></a>
          <a class="indexterm" name="idm140644217853776"></a>

          <a class="indexterm" name="idm140644217852288"></a>

          <code class="literal">modify <em class="replaceable"><code>[product1:-removelist|+addlist]
          [product2:-removelist|+addlist] [...]</code></em></code>
        </p><p>
          Modifies or displays features of a previously installed MySQL
          product.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">-silent</code> : Disable confirmation prompts.
</p></li></ul>
</div>
<pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server:+documentation</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>modify server:-debug</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-remove"></a>
          <a class="indexterm" name="idm140644217842368"></a>

          <a class="indexterm" name="idm140644217840880"></a>

          <code class="literal">remove <em class="replaceable"><code>[product1] [product2]
          [...]</code></em></code>
        </p><p>
          Removes one ore more products from your system.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code> : Pass in <code class="literal">*</code> to
              remove all of the MySQL products.
            </p></li><li class="listitem"><p>
              <code class="literal">-continue</code> : Continue the operation even
              if an error occurs.
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code> : Disable confirmation prompts.
</p></li></ul>
</div>
<pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>remove *</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>remove server</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-status"></a>
          <a class="indexterm" name="idm140644217828400"></a>

          <a class="indexterm" name="idm140644217826912"></a>

          <code class="literal">status</code>
        </p><p>
          Provides a quick overview of the MySQL products that are
          installed on the system. Information includes product name and
          version, architecture, date installed, and install location.
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>status</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-upgrade"></a>
          <a class="indexterm" name="idm140644217821232"></a>

          <a class="indexterm" name="idm140644217819744"></a>

          <code class="literal">upgrade [product1:version] [product2:version],
          [...]</code>
        </p><p>
          Upgrades one or more products on your system. Syntax options
          include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">*</code> : Pass in <code class="literal">*</code> to
              upgrade all products to the latest version, or pass in
              specific products.
            </p></li><li class="listitem"><p>
              <code class="literal">!</code> : Pass in <code class="literal">!</code> as a
              version number to upgrade the MySQL product to its latest
              version.
            </p></li><li class="listitem"><p>
              <code class="literal">-silent</code> : Disable confirmation prompts.
</p></li></ul>
</div>
<pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade *</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:6.3.5</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:!</code></em></code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>upgrade workbench:6.3.5 excel:1.3.2</code></em></code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-update"></a>
          <a class="indexterm" name="idm140644217804720"></a>

          <a class="indexterm" name="idm140644217803232"></a>

          <code class="literal">update</code>
        </p><p>
          Downloads the latest MySQL product catalog to your system. On
          success, the download catalog will be applied the next time
          either MySQLInstaller or MySQLInstallerConsole is executed.
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole <em class="replaceable"><code>update</code></em></code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            The <span class="guilabel">Automatic Catalog Update</span> GUI option
            executes this command from the Windows Task Scheduler.
</p>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-notifier"></a>2.3.4 MySQL Notifier</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#windows-notifier-usage">2.3.4.1 MySQL Notifier Usage</a></span></dt><dt><span class="section"><a href="installing.html#windows-notifier-installation">2.3.4.2 Remote monitoring set up and installation instructions</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644217795136"></a><a class="indexterm" name="idm140644217794096"></a><p>
    The MySQL Notifier is a tool that enables you to monitor and adjust the
    status of your local and remote MySQL Server instances through an
    indicator that resides in the system tray. The MySQL Notifier also
    gives quick access to several MySQL GUI tools (such as MySQL Workbench)
    through its context menu.
  </p><p>
    The MySQL Notifier is installed by MySQL Installer, and (by default) will start-up
    when Microsoft Windows is started.
  </p><p>
    To install, download and execute the
    <a class="ulink" href="http://dev.mysql.com/downloads/installer/" target="_top">MySQL Installer</a>, be sure
    the MySQL Notifier product is selected, then proceed with the
    installation. See the <a class="link" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">MySQL Installer
    manual</a> for additional details.
  </p><p>
    For notes detailing the changes in each release of MySQL Notifier, see
    the <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-notifier/en/" target="_top">MySQL
    Notifier Release Notes</a>.
  </p><p>
    Visit the <a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top">MySQL
    Notifier forum</a> for additional MySQL Notifier help and support.
</p>
<h4><a name="idm140644217787184"></a>Features include:</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Start, Stop, and Restart instances of the MySQL Server.
      </p></li><li class="listitem"><p>
        Automatically detects (and adds) new MySQL Server services.
        These are listed under <span class="guimenu">Manage Monitored
        Items</span>, and may also be configured.
      </p></li><li class="listitem"><p>
        The Tray icon changes, depending on the status. It's green if
        all monitored MySQL Server instances are running, or red if at
        least one service is stopped. The <span class="guilabel">Update MySQL
        Notifier tray icon based on service status</span> option,
        which dictates this behavior, is enabled by default for each
        service.
      </p></li><li class="listitem"><p>
        Links to other applications like MySQL Workbench, MySQL Installer, and the
        MySQL Utilities. For example, choosing <span class="guimenu">Configure
        Instance</span> will load the MySQL Workbench Server
        Administration window for that particular instance.
      </p></li><li class="listitem"><p>
        If MySQL Workbench is also installed, then the <span class="guimenu">Configure
        Instance</span> and <span class="guimenu">SQL Editor</span> options are
        available for local (but not remote) MySQL instances.
      </p></li><li class="listitem"><p>
        Monitors both local and remote MySQL instances.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-notifier-usage"></a>2.3.4.1 MySQL Notifier Usage</h4>

</div>

</div>

</div>
<p>
      The MySQL Notifier resides in the system tray and provides visual
      status information for your MySQL Server instances. A green icon
      is displayed at the top left corner of the tray icon if the
      current MySQL Server is running, or a red icon if the service is
      stopped.
    </p><p>
      The MySQL Notifier automatically adds discovered MySQL Services on
      the local machine, and each service is saved and configurable. By
      default, the <span class="guilabel">Automatically add new services whose name
      contains</span> option is enabled and set to
      <code class="literal">mysql</code>. Related <span class="guilabel">Notifications
      Options</span> include being notified when new services are
      either discovered or experience status changes, and are also
      enabled by default. And uninstalling a service will also remove
      the service from the MySQL Notifier.
    </p><p>
      Clicking the system tray icon will reveal several options, as seen
      in the screenshots below:
    </p><p>
      The Service Instance menu is the main MySQL Notifier window, and
      enables you to Stop, Start, and Restart the MySQL Server.
</p>
<div class="figure">
<a name="windows-notifier-server-instance"></a><p class="title"><b>Figure 2.32 MySQL Notifier Service Instance menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-server-instance.png" width="341" height="213" alt="MySQL Notifier Service Instance menu">
</div>

</div>

</div>
<br class="figure-break"><p>
      The <span class="guimenu">Actions</span> menu includes several links to
      external applications (if they are installed), and a
      <span class="guilabel">Refresh Status</span> option to manually refresh the
      status of all monitored services (in both local and remote
      computers) and MySQL instances.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        The main menu will not show the <span class="guimenu">Actions</span> menu
        when there are no services being monitored by MySQL Notifier.
</p>
</div>

<div class="figure">
<a name="windows-notifier-actions"></a><p class="title"><b>Figure 2.33 MySQL Notifier Actions menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-actions.png" width="503" height="225" alt="MySQL Notifier Actions menu">
</div>

</div>

</div>
<br class="figure-break"><p>
      The <span class="guimenu">Actions</span>, <span class="guimenu">Options</span> menu
      configures MySQL Notifier and includes options to:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="guilabel">Use colorful status icons</span>: Enables a
          colorful style of icons for the tray of the MySQL Notifier.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Run at Windows Startup</span>: Allows the
          application to be loaded when Microsoft Windows starts.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Automatically Check For Updates Every</span> #
          Weeks: Checks for a new version of MySQL Notifier, and runs this
          check every # weeks.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Automatically add new services whose name
          contains</span>: The text used to filter services and add
          them automatically to the monitored list of the local computer
          running MySQL Notifier, and on remote computers already
          monitoring Windows services. monitored services, and also
          filters the list of the Microsoft Windows services for the
          <span class="guilabel">Add New Service</span> dialog.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Notify me when a service is automatically
          added</span>: Will display a balloon notification from the
          taskbar when a newly discovered service is added to the
          monitored services list.
        </p></li><li class="listitem"><p>
          <span class="guilabel">Notify me when a service changes status</span>:
          Will display a balloon notification from the taskbar when a
          monitored service changes its status.
</p></li></ul>
</div>

<div class="figure">
<a name="windows-notifier-options"></a><p class="title"><b>Figure 2.34 MySQL Notifier Options menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-options.png" width="428" height="480" alt="MySQL Notifier Options menu">
</div>

</div>

</div>
<br class="figure-break"><p>
      The <span class="guimenu">Actions</span>, <span class="guimenu">Manage Monitored
      Items</span> menu enables you to configure the monitored
      services and MySQL instances. First, with the
      <span class="guilabel">Services</span> tab open:
</p>
<div class="figure">
<a name="windows-notifier-manage-services"></a><p class="title"><b>Figure 2.35 MySQL Notifier Manage Services menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-services.png" width="602" height="529" alt="MySQL Notifier Manage Services menu">
</div>

</div>

</div>
<br class="figure-break"><p>
      The <span class="guilabel">Instances</span> tab is similar:
</p>
<div class="figure">
<a name="windows-notifier-manage-instances"></a><p class="title"><b>Figure 2.36 MySQL Notifier Manage Instances menu</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-instances.png" width="602" height="529" alt="MySQL Notifier Manage Instances menu">
</div>

</div>

</div>
<br class="figure-break"><p>
      Adding a service or instance (after clicking
      <span class="guibutton">Add</span> in the <span class="guimenu">Manage Monitored
      Items</span> window) enables you to select a running Microsoft
      Windows service or instance connection, and configure MySQL Notifier
      to monitor it. Add a new service or instance by clicking service
      name from the list, then <span class="guibutton">OK</span> to accept.
      Multiple services and instances may be selected.
</p>
<div class="figure">
<a name="windows-notifier-add-services"></a><p class="title"><b>Figure 2.37 MySQL Notifier Adding new services</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-services-add.png" width="504" height="578" alt="MySQL Notifier Adding new services">
</div>

</div>

</div>
<br class="figure-break"><p>
      Add instances:
</p>
<div class="figure">
<a name="windows-notifier-add-instances"></a><p class="title"><b>Figure 2.38 MySQL Notifier Adding new instances</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-manage-instances-add.png" width="610" height="600" alt="MySQL Notifier Adding new instances">
</div>

</div>

</div>
<br class="figure-break">
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="windows-notifier-troubleshooting"></a>Troubleshooting</h5>

</div>

</div>

</div>
<p>
        For issues that are not documented here, visit the
        <a class="ulink" href="http://forums.mysql.com/list.php?173" target="_top">MySQL Notifier
        Support Forum</a> for MySQL Notifier help and support.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>Problem</em></span>: attempting to
            start/stop/restart a MySQL service might generate an error
            similar to "The Service
            <span class="bold"><strong>MySQL<em class="replaceable"><code>VERSION</code></em></strong></span>
            failed the most recent status change request with the
            message "The service
            <span class="bold"><strong>mysql<em class="replaceable"><code>VERSION</code></em></strong></span>
            was not found in the Windows Services".
          </p><p>
            <span class="emphasis"><em>Explanation</em></span>: this is a case-sensitivity
            issue, in that the service name is
            <span class="bold"><strong>MySQL<em class="replaceable"><code>VERSION</code></em></strong></span>
            compared to having
            <span class="bold"><strong>mysql<em class="replaceable"><code>VERSION</code></em></strong></span>
            in the configuration file.
          </p><p>
            <span class="emphasis"><em>Solution</em></span>: either update your
            MySQL Notifier configuration file with the correct information,
            or stop Notifier and delete this configuration file. The
            Notifier configuration file is located at
            <code class="filename">%APPDATA%\Oracle\MySQL
            Notifier\settings.config</code> where
            <code class="literal">%APPDATA%</code> is a variable and depends on
            your system. A typical location is
            "C:\Users\YourUsername\AppData\Running\Oracle\MySQL
            Notifier\system.config" where
            <em class="replaceable"><code>YourUsername</code></em> is your system's
            username. In this file, and within the ServerList section,
            change the ServerName values from lowercase to the actual
            service names. For example, change
            <span class="bold"><strong>mysql<em class="replaceable"><code>VERSION</code></em></strong></span>
            to
            <span class="bold"><strong>MySQL<em class="replaceable"><code>VERSION</code></em></strong></span>,
            save, and then restart Notifier. Alternatively, stop
            MySQL Notifier, delete this file, then restart MySQL Notifier.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-notifier-installation"></a>2.3.4.2 Remote monitoring set up and installation instructions</h4>

</div>

</div>

</div>
<p>
      The MySQL Notifier uses Windows Management Instrumentation (WMI) to
      manage and monitor services in remote computers running Windows XP
      or later. This guide explains how it works, and how to set up your
      system to monitor remote MySQL instances.
    </p><p>
      In order to configure WMI, it is important to understand that the
      underlying Distributed Component Object Model (DCOM) architecture
      is doing the WMI work. Specifically, MySQL Notifier is using
      asynchronous notification queries on remote Microsoft Windows
      hosts as .NET events. These events send an asynchronous callback
      to the computer running the MySQL Notifier so it knows when a service
      status has changed on the remote computer. Asynchronous
      notifications offer the best performance compared to
      semisynchronous notifications or synchronous notifications that
      use timers.
    </p><p>
      Asynchronous notifications requires the remote computer to send a
      callback to the client computer (thus opening a reverse
      connection), so the Windows Firewall and DCOM settings must be
      properly configured for the communication to function properly.
</p>
<div class="figure">
<a name="windows-notifier-installation-wmi"></a><p class="title"><b>Figure 2.39 MySQL Notifier Distributed Component Object Model (DCOM)</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/windows-notifier-wmi-diagram.png" width="661" height="193" alt="MySQL Notifier Distributed Component Object Model (DCOM)">
</div>

</div>

</div>
<br class="figure-break"><p>
      Most of the common errors thrown by asynchronous WMI notifications
      are related to Windows Firewall blocking the communication, or to
      DCOM / WMI settings not being set up properly. For a list of
      common errors with solutions, see
      <a class="xref" href="installing.html#windows-notifier-installation-errors" title="Common Errors">Common Errors</a>.
    </p><p>
      The following steps are required to make WMI function. These steps
      are divided between two machines. A single host computer that runs
      MySQL Notifier (Computer A), and multiple remote machines that are
      being monitored (Computer B).
</p>
<h5><a name="idm140644217669648"></a>Computer running MySQL Notifier (Computer A)</h5>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Allow for remote administration by either editing the
          <span class="guilabel">Group Policy Editor</span>, or using
          <code class="literal">NETSH</code>:
        </p><p>
          Using the <span class="guilabel">Group Policy Editor</span>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="filename">GPEDIT.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the <span class="guilabel">Local Computer Policy</span>
              heading, double-click <span class="guilabel">Computer
              Configuration</span>.
            </p></li><li class="listitem"><p>
              Double-click <span class="guilabel">Administrative
              Templates</span>, then <span class="guilabel">Network</span>,
              <span class="guilabel">Network Connections</span>, and then
              <span class="guilabel">Windows Firewall</span>.
            </p></li><li class="listitem"><p>
              If the computer is in the domain, then double-click
              <span class="guilabel">Domain Profile</span>; otherwise,
              double-click <span class="guilabel">Standard Profile</span>.
            </p></li><li class="listitem"><p>
              Click <span class="guilabel">Windows Firewall: Allow inbound remote
              administration exception</span>.
            </p></li><li class="listitem"><p>
              On the Action menu either select
              <span class="guibutton">Edit</span>, or double-click the selection
              from the previous step.
            </p></li><li class="listitem"><p>
              Check the <span class="guibutton">Enabled</span> radio button, and
              then click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            The "netsh firewall" command is deprecated as of Microsoft
            Server 2008 and Vista, and replaced with "netsh advfirewall
            firewall".
</p>
</div>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guilabel">Run as Administrator</span>).
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">
NETSH advfirewall firewall set service RemoteAdmin enable
</pre><p>
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Open the DCOM port TCP 135:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guilabel">Run as Administrator</span>) .
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">
NETSH advfirewall firewall add portopening protocol=tcp port=135 name=DCOM_TCP135
</pre><p>
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Add the client application which contains the sink for the
          callback (<code class="filename">MySqlNotifier.exe</code>) to the
          Windows Firewall Exceptions List (use either the Windows
          Firewall configuration or <code class="literal">NETSH</code>):
        </p><p>
          Using the Windows Firewall configuration:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the Control Panel, double-click <span class="guilabel">Windows
              Firewall</span>.
            </p></li><li class="listitem"><p>
              In the Windows Firewall window's left panel, click
              <span class="guilabel">Allow a program or feature through Windows
              Firewall</span>.
            </p></li><li class="listitem"><p>
              In the Allowed Programs window, click <span class="guibutton">Change
              Settings</span>.
            </p></li><li class="listitem"><p>
              If <code class="filename">MySqlNotifier.exe</code> is in the
              Allowed programs and features list, make sure it is
              checked for the type of networks the computer connects to
              (Private, Public or both).
            </p></li><li class="listitem"><p>
              If <code class="filename">MySqlNotifier.exe</code> is not in the
              list, click <span class="guibutton">Allow another
              program...</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Add a Program</span> window, select
              the <code class="filename">MySqlNotifier.exe</code> if it exists in
              the Programs list, otherwise click Browse... and go to the
              directory where <code class="filename">MySqlNotifier.exe</code> was
              installed to select it, then click
              <span class="guibutton">Add</span>.
            </p></li><li class="listitem"><p>
              Make sure <code class="filename">MySqlNotifier.exe</code> is
              checked for the type of networks the computer connects to
              (Private, Public or both).
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click
              <span class="guibutton">Run as Administrator</span>).
            </p></li><li class="listitem"><p>
              Execute the following command, where you change
              "<em class="replaceable"><code>[YOUR_INSTALL_DIRECTORY]</code></em>":
            </p><pre class="programlisting">
NETSH advfirewall firewall add allowedprogram program=[YOUR_INSTALL_DIRECTORY]\MySqlNotifier.exe name=MySqlNotifier
</pre></li></ol>
</div>
</li><li class="listitem"><p>
          If Computer B is either a member of
          <code class="literal">WORKGROUP</code> or is in a different domain that
          is untrusted by Computer A, then the callback connection
          (Connection 2) is created as an Anonymous connection. To grant
          Anonymous connections DCOM Remote Access permissions:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the Access Permission dialog box, select
              <span class="guilabel">ANONYMOUS LOGON name</span> in the Group or
              user names box. In the Allow column under Permissions for
              User, select <span class="guilabel">Remote Access</span>, and then
              click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li></ol>
</div>
<h5><a name="idm140644217596000"></a>Monitored Remote Computer (Computer B)</h5>
<p>
      If the user account that is logged into the computer running the
      MySQL Notifier (Computer A) is a local administrator on the remote
      computer (Computer B), such that the same account is an
      administrator on Computer B, you can skip to the "Allow for remote
      administration" step.
    </p><p>
      Setting DCOM security to allow a non-administrator user to access
      a computer remotely:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Grant "DCOM remote launch" and activation permissions for a
          user or group:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Launch Permission</span> dialog box,
              follow these steps if your name or your group does not
              appear in the Groups or user names list:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="i"><li class="listitem"><p>
                  In the <span class="guilabel">Launch Permission</span> dialog
                  box, click <span class="guibutton">Add</span>.
                </p></li><li class="listitem"><p>
                  In the Select Users, Computers, or Groups dialog box,
                  add your name and the group in the "Enter the object
                  names to select" box, and then click
                  <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
              In the <span class="guilabel">Launch Permission</span> dialog box,
              select your user and group in the Group or user names box.
              In the Allow column under Permissions for User, select
              <span class="guilabel">Remote Launch</span>, select
              <span class="guilabel">Remote Activation</span>, and then click
              <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Grant DCOM remote access permissions:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="literal">DCOMCNFG</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              In the Component Services dialog box, expand Component
              Services, expand Computers, and then right-click
              <span class="guilabel">My Computer</span> and click
              <span class="guibutton">Properties</span>.
            </p></li><li class="listitem"><p>
              In the My Computer Properties dialog box, click the
              <span class="guilabel">COM Security</span> tab.
            </p></li><li class="listitem"><p>
              Under Access Permissions, click <span class="guibutton">Edit
              Limits</span>.
            </p></li><li class="listitem"><p>
              In the Access Permission dialog box, select
              <span class="guilabel">ANONYMOUS LOGON name</span> in the Group or
              user names box. In the Allow column under Permissions for
              User, select <span class="guilabel">Remote Access</span>, and then
              click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Allowing non-administrator users access to a specific WMI
          namespace:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the Control Panel, double-click
              <span class="guilabel">Administrative Tools</span>.
            </p></li><li class="listitem"><p>
              In the Administrative Tools window, double-click
              <span class="guilabel">Computer Management</span>.
            </p></li><li class="listitem"><p>
              In the Computer Management window, expand the
              <span class="guilabel">Services and Applications</span> tree and
              double-click the <span class="guilabel">WMI Control</span>.
            </p></li><li class="listitem"><p>
              Right-click the WMI Control icon and select
              <span class="guilabel">Properties</span>.
            </p></li><li class="listitem"><p>
              In the WMI Control Properties window, click the
              <span class="guilabel">Security</span> tab.
            </p></li><li class="listitem"><p>
              In the Security tab, select the namespace and click
              <span class="guilabel">Security</span>.
            </p></li><li class="listitem"><p>
              Locate the appropriate account and check <span class="guilabel">Remote
              Enable in the Permissions list</span>.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Allow for remote administration by either editing the
          <span class="guilabel">Group Policy Editor</span> or using
          <code class="literal">NETSH</code>:
        </p><p>
          Using the <span class="guilabel">Group Policy Editor</span>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click <span class="guibutton">Start</span>, click
              <span class="guibutton">Run</span>, type
              <code class="filename">GPEDIT.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the Local Computer Policy heading, double-click
              <span class="guilabel">Computer Configuration</span>.
            </p></li><li class="listitem"><p>
              Double-click <span class="guilabel">Administrative
              Templates</span>, then <span class="guilabel">Network</span>,
              <span class="guilabel">Network Connections</span>, and then
              <span class="guilabel">Windows Firewall</span>.
            </p></li><li class="listitem"><p>
              If the computer is in the domain, then double-click
              <span class="guilabel">Domain Profile</span>; otherwise,
              double-click <span class="guilabel">Standard Profile</span>.
            </p></li><li class="listitem"><p>
              Click <span class="guilabel">Windows Firewall: Allow inbound remote
              administration exception</span>.
            </p></li><li class="listitem"><p>
              On the Action menu either select
              <span class="guibutton">Edit</span>, or double-click the selection
              from the previous step.
            </p></li><li class="listitem"><p>
              Check the <span class="guibutton">Enabled</span> radio button, and
              then click <span class="guibutton">OK</span>.
</p></li></ol>
</div>
<p>
          Using the <code class="literal">NETSH</code> command:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Open a command prompt window with Administrative rights
              (you can right-click the Command Prompt icon and click Run
              as Administrator).
            </p></li><li class="listitem"><p>
              Execute the following command:

</p><pre class="programlisting">
NETSH advfirewall firewall set service RemoteAdmin enable
</pre><p>
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Now, be sure the user you are logging in with uses the
          <code class="literal">Name</code> value and not the <code class="literal">Full
          Name</code> value:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              In the <span class="guilabel">Control Panel</span>, double-click
              <span class="guilabel">Administrative Tools</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Administrative Tools</span> window,
              double-click <span class="guilabel">Computer Management</span>.
            </p></li><li class="listitem"><p>
              In the <span class="guilabel">Computer Management</span> window,
              expand the <span class="guilabel">System Tools then Local Users and
              Groups</span>.
            </p></li><li class="listitem"><p>
              Click the <span class="guilabel">Users</span> node, and on the
              right side panel locate your user and make sure it uses
              the <span class="guilabel">Name</span> value to connect, and not
              the <span class="guilabel">Full Name</span> value.
</p></li></ol>
</div>
</li><li class="listitem"><p>
          If the remote computer is running on <code class="literal">Windows XP
          Professional</code>, make sure that remote logins are not
          being forcefully changed to the guest account user (also known
          as <code class="literal">ForceGuest</code>), which is enabled by default
          on computers that are not attached to a domain.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Click Start, click Run, type
              <code class="filename">SECPOL.MSC</code>, and then click
              <span class="guibutton">OK</span>.
            </p></li><li class="listitem"><p>
              Under the <span class="guilabel">Local Policies</span> node,
              double-click <span class="guilabel">Security Options</span>.
            </p></li><li class="listitem"><p>
              Select <span class="guilabel">Network Access: Sharing and security
              model for local accounts</span> and save.
</p></li></ol>
</div>
</li></ol>
</div>
<h5><a name="windows-notifier-installation-errors"></a>Common Errors</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">0x80070005</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              DCOM Security was not configured properly (see Computer B,
              the <code class="literal">Setting DCOM security...</code> step).
            </p></li><li class="listitem"><p>
              The remote computer (Computer B) is a member of WORKGROUP
              or is in a domain that is untrusted by the client computer
              (Computer A) (see Computer A, the <code class="literal">Grant Anonymous
              connections DCOM Remote Access permissions</code>
              step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x8007000E</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The remote computer (Computer B) is a member of WORKGROUP
              or is in a domain that is untrusted by the client computer
              (Computer A) (see Computer A, the <code class="literal">Grant Anonymous
              connections DCOM Remote Access permissions</code>
              step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x80041003</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Access to the remote WMI namespace was not configured
              properly (see Computer B, the <code class="literal">Allowing
              non-administrator users access to a specific WMI
              namespace</code> step).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <code class="literal">0x800706BA</code>
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The DCOM port is not open on the client computers
              (Computer A) firewall. See the <code class="literal">Open the DCOM port
              TCP 135</code> step for Computer A.
            </p></li><li class="listitem"><p>
              The remote computer (Computer B) is inaccessible because
              its network location is set to Public. Make sure you can
              access it through the Windows Explorer.
</p></li></ul>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-install-archive"></a>2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#windows-extract-archive">2.3.5.1 Extracting the Install Archive</a></span></dt><dt><span class="section"><a href="installing.html#windows-create-option-file">2.3.5.2 Creating an Option File</a></span></dt><dt><span class="section"><a href="installing.html#windows-select-server">2.3.5.3 Selecting a MySQL Server Type</a></span></dt><dt><span class="section"><a href="installing.html#windows-initialize-data-directory">2.3.5.4 Initializing the Data Directory</a></span></dt><dt><span class="section"><a href="installing.html#windows-server-first-start">2.3.5.5 Starting the Server for the First Time</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-command-line">2.3.5.6 Starting MySQL from the Windows Command Line</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installation-windows-path">2.3.5.7 Customizing the PATH for MySQL Tools</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-service">2.3.5.8 Starting MySQL as a Windows Service</a></span></dt><dt><span class="section"><a href="installing.html#windows-testing">2.3.5.9 Testing The MySQL Installation</a></span></dt></dl>
</div>
<p>
      Users who are installing from the <code class="literal">noinstall</code>
      package can use the instructions in this section to manually
      install MySQL. The process for installing MySQL from a Zip archive
      is as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Extract the main archive to the desired install directory
        </p><p>
          <span class="emphasis"><em>Optional</em></span>: also extract the debug-test
          archive if you plan to execute the MySQL benchmark and test
          suite
        </p></li><li class="listitem"><p>
          Create an option file
        </p></li><li class="listitem"><p>
          Choose a MySQL server type
        </p></li><li class="listitem"><p>
          Initialize MySQL
        </p></li><li class="listitem"><p>
          Start the MySQL server
        </p></li><li class="listitem"><p>
          Secure the default user accounts
</p></li></ol>
</div>
<p>
      This process is described in the sections that follow.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-extract-archive"></a>2.3.5.1 Extracting the Install Archive</h4>
</div>
</div>
</div>
<p>
        To install MySQL manually, do the following:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            If you are upgrading from a previous version please refer to
            <a class="xref" href="installing.html#windows-upgrading" title="2.3.8 Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>, before beginning the
            upgrade process.
          </p></li><li class="listitem"><p>
            Make sure that you are logged in as a user with
            administrator privileges.
          </p></li><li class="listitem"><p>
            Choose an installation location. Traditionally, the MySQL
            server is installed in <code class="filename">C:\mysql</code>. The
            MySQL Installation Wizard installs MySQL under
            <code class="filename">C:\Program Files\MySQL</code>. If you do not
            install MySQL at <code class="filename">C:\mysql</code>, you must
            specify the path to the install directory during startup or
            in an option file. See
            <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              The MySQL Installer installs MySQL under <code class="filename">C:\Program
              Files\MySQL</code>.
</p>
</div>
</li><li class="listitem"><p>
            Extract the install archive to the chosen installation
            location using your preferred Zip archive tool. Some tools
            may extract the archive to a folder within your chosen
            installation location. If this occurs, you can move the
            contents of the subfolder into the chosen installation
            location.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-create-option-file"></a>2.3.5.2 Creating an Option File</h4>

</div>

</div>

</div>
<p>
        If you need to specify startup options when you run the server,
        you can indicate them on the command line or place them in an
        option file. For options that are used every time the server
        starts, you may find it most convenient to use an option file to
        specify your MySQL configuration. This is particularly true
        under the following circumstances:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The installation or data directory locations are different
            from the default locations (<code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.7</code> and
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.7\data</code>).
          </p></li><li class="listitem"><p>
            You need to tune the server settings, such as memory, cache,
            or InnoDB configuration information.
</p></li></ul>
</div>
<p>
        When the MySQL server starts on Windows, it looks for option
        files in several locations, such as the Windows directory,
        <code class="filename">C:\</code>, and the MySQL installation directory
        (for the full list of locations, see
        <a class="xref" href="programs.html#option-files" title="4.2.6 Using Option Files">Section 4.2.6, “Using Option Files”</a>). The Windows directory typically
        is named something like <code class="filename">C:\WINDOWS</code>. You can
        determine its exact location from the value of the
        <code class="literal">WINDIR</code> environment variable using the
        following command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
        MySQL looks for options in each location first in the
        <code class="filename">my.ini</code> file, and then in the
        <code class="filename">my.cnf</code> file. However, to avoid confusion,
        it is best if you use only one file. If your PC uses a boot
        loader where <code class="filename">C:</code> is not the boot drive, your
        only option is to use the <code class="filename">my.ini</code> file.
        Whichever option file you use, it must be a plain text file.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          When using the MySQL Installer to install MySQL Server, it will create
          the <code class="filename">my.ini</code> at the default location, and
          the user executing MySQL Installer is granted full permissions to this
          new <code class="filename">my.ini</code> file.
        </p><p>
          In other words, be sure that the MySQL Server user has
          permission to read the <code class="filename">my.ini</code> file.
</p>
</div>
<p>
        You can also make use of the example option files included with
        your MySQL distribution; see
        <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 Server Configuration Defaults">Section 5.1.2, “Server Configuration Defaults”</a>.
      </p><p>
        An option file can be created and modified with any text editor,
        such as Notepad. For example, if MySQL is installed in
        <code class="filename">E:\mysql</code> and the data directory is in
        <code class="filename">E:\mydata\data</code>, you can create an option
        file containing a <code class="literal">[mysqld]</code> section to specify
        values for the <code class="option">basedir</code> and
        <code class="option">datadir</code> options:
      </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=E:/mydata/data
</pre><p>
        Microsoft Windows path names are specified in option files using
        (forward) slashes rather than backslashes. If you do use
        backslashes, double them:
      </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:\\mysql
# set datadir to the location of your data directory
datadir=E:\\mydata\\data
</pre><p>
        The rules for use of backslash in option file values are given
        in <a class="xref" href="programs.html#option-files" title="4.2.6 Using Option Files">Section 4.2.6, “Using Option Files”</a>.
      </p><p>
        As of MySQL 5.7.6, the Zip Archive no longer includes a
        <code class="filename">data</code> directory. To initialize a MySQL
        installation by creating the data directory and populating the
        tables in the mysql system database, initialize MySQL using
        either <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> or
        <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a>. For
        additional information, see
        <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>.
      </p><p>
        If you would like to use a data directory in a different
        location, you should copy the entire contents of the
        <code class="filename">data</code> directory to the new location. For
        example, if you want to use <code class="filename">E:\mydata</code> as
        the data directory instead, you must do two things:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Move the entire <code class="filename">data</code> directory and all
            of its contents from the default location (for example
            <code class="filename">C:\Program Files\MySQL\MySQL Server
            5.7\data</code>) to
            <code class="filename">E:\mydata</code>.
          </p></li><li class="listitem"><p>
            Use a <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option to
            specify the new data directory location each time you start
            the server.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-select-server"></a>2.3.5.3 Selecting a MySQL Server Type</h4>

</div>

</div>

</div>
<p>
        The following table shows the available servers for Windows in
        MySQL 5.7.
</p>
<div class="informaltable">
<table summary="This table shows the available servers for Windows in
          MySQL 5.7." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Binary</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a></td><td>Optimized binary with named-pipe support</td></tr><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld-debug</strong></span></a></td><td>Like <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, but compiled with full debugging and
automatic memory allocation checking</td></tr></tbody></table>
</div>
<p>
        All of the preceding binaries are optimized for modern Intel
        processors, but should work on any Intel i386-class or higher
        processor.
      </p><p>
        Each of the servers in a distribution support the same set of
        storage engines. The <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.16 SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a>
        statement displays which engines a given server supports.
      </p><p>
        All Windows MySQL 5.7 servers have support for
        symbolic linking of database directories.
      </p><a class="indexterm" name="idm140644217401632"></a><a class="indexterm" name="idm140644217400560"></a><p>
        MySQL supports TCP/IP on all Windows platforms. MySQL servers on
        Windows also support named pipes, if you start the server with
        the <a class="link" href="server-administration.html#option_mysqld_enable-named-pipe"><code class="option">--enable-named-pipe</code></a> option.
        It is necessary to use this option explicitly because some users
        have experienced problems with shutting down the MySQL server
        when named pipes were used. The default is to use TCP/IP
        regardless of platform because named pipes are slower than
        TCP/IP in many Windows configurations.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-initialize-data-directory"></a>2.3.5.4 Initializing the Data Directory</h4>

</div>

</div>

</div>
<p>
        If you installed MySQL using the <code class="literal">Noinstall</code>
        package, you may need to initialize the data directory:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows distributions prior to MySQL 5.7.7 include a data
            directory with a set of preinitialized accounts in the
            <code class="literal">mysql</code> database.
          </p></li><li class="listitem"><p>
            As of 5.7.7, Windows installation operations performed using
            the <code class="literal">Noinstall</code> package do not include a
            data directory. To initialize the data directory, use the
            instructions at
            <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-server-first-start"></a>2.3.5.5 Starting the Server for the First Time</h4>

</div>

</div>

</div>
<p>
        This section gives a general overview of starting the MySQL
        server. The following sections provide more specific information
        for starting the MySQL server from the command line or as a
        Windows service.
      </p><p>
        The information here applies primarily if you installed MySQL
        using the <code class="literal">Noinstall</code> version, or if you wish
        to configure and test MySQL manually rather than with the GUI
        tools.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The MySQL server will automatically start after using the
          MySQL Installer, and the
          <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI can be
          used to start/stop/restart at any time.
</p>
</div>
<p>
        The examples in these sections assume that MySQL is installed
        under the default location of <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.7</code>. Adjust the
        path names shown in the examples if you have MySQL installed in
        a different location.
      </p><p>
        Clients have two options. They can use TCP/IP, or they can use a
        named pipe if the server supports named-pipe connections.
      </p><p>
        MySQL for Windows also supports shared-memory connections if the
        server is started with the
        <a class="link" href="server-administration.html#option_mysqld_shared-memory"><code class="option">--shared-memory</code></a> option. Clients
        can connect through shared memory by using the
        <a class="link" href="programs.html#option_general_protocol"><code class="option">--protocol=MEMORY</code></a> option.
      </p><p>
        For information about which server binary to run, see
        <a class="xref" href="installing.html#windows-select-server" title="2.3.5.3 Selecting a MySQL Server Type">Section 2.3.5.3, “Selecting a MySQL Server Type”</a>.
      </p><p>
        Testing is best done from a command prompt in a console window
        (or <span class="quote">“<span class="quote">DOS window</span>”</span>). In this way you can have the
        server display status messages in the window where they are easy
        to see. If something is wrong with your configuration, these
        messages make it easier for you to identify and fix any
        problems.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The database must be initialized before MySQL can be started.
          For additional information about the initialization process,
          see <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>.
</p>
</div>
<p>
        To start the server, enter this command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --console</code></strong>
</pre><p>
        For a server that includes <code class="literal">InnoDB</code> support,
        you should see the messages similar to those following as it
        starts (the path names and sizes may differ):
      </p><pre class="programlisting">
InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
InnoDB: a new database to be created!
InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
InnoDB: Database physically writes the file full: wait...
InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
InnoDB: Doublewrite buffer not found: creating new
InnoDB: Doublewrite buffer created
InnoDB: creating foreign key constraint system tables
InnoDB: foreign key constraint system tables created
011024 10:58:25  InnoDB: Started
</pre><p>
        When the server finishes its startup sequence, you should see
        something like this, which indicates that the server is ready to
        service client connections:
      </p><pre class="programlisting">
mysqld: ready for connections
Version: '5.7.13'  socket: ''  port: 3306
</pre><p>
        The server continues to write to the console any further
        diagnostic output it produces. You can open a new console window
        in which to run client programs.
      </p><p>
        If you omit the <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option,
        the server writes diagnostic output to the error log in the data
        directory (<code class="filename">C:\Program Files\MySQL\MySQL Server
        5.7\data</code> by default). The error log is
        the file with the <code class="filename">.err</code> extension, and may
        be set using the <a class="link" href="server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a>
        option.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The initial <code class="literal">root</code> account in the MySQL grant
          tables has no password. After starting the server, you should
          set up a password for it using the instructions in
          <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-command-line"></a>2.3.5.6 Starting MySQL from the Windows Command Line</h4>

</div>

</div>

</div>
<p>
        The MySQL server can be started manually from the command line.
        This can be done on any version of Windows.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI
          can also be used to start/stop/restart the MySQL server.
</p>
</div>
<p>
        To start the <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server from the command
        line, you should start a console window (or <span class="quote">“<span class="quote">DOS
        window</span>”</span>) and enter this command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld"</code></strong>
</pre><p>
        The path to <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> may vary depending on the
        install location of MySQL on your system.
      </p><p>
        You can stop the MySQL server by executing this command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
</p>
</div>
<p>
        This command invokes the MySQL administrative utility
        <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Users in the MySQL grant system are wholly independent from
          any login users under Microsoft Windows.
</p>
</div>
<p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> doesn't start, check the error log
        to see whether the server wrote any messages there to indicate
        the cause of the problem. By default, the error log is located
        in the <code class="filename">C:\Program Files\MySQL\MySQL Server
        5.7\data</code> directory. It is the file with
        a suffix of <code class="filename">.err</code>, or may be specified by
        passing in the <a class="link" href="server-administration.html#option_mysqld_log-error"><code class="option">--log-error</code></a>
        option. Alternatively, you can try to start the server with the
        <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option; in this case,
        the server may display some useful information on the screen
        that will help solve the problem.
      </p><p>
        The last option is to start <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
        <a class="link" href="server-administration.html#option_mysqld_standalone"><code class="option">--standalone</code></a> and
        <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> options. In this case,
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> writes a log file
        <code class="filename">C:\mysqld.trace</code> that should contain the
        reason why <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> doesn't start. See
        <a class="xref" href="extending-mysql.html#dbug-package" title="25.5.3 The DBUG Package">Section 25.5.3, “The DBUG Package”</a>.
      </p><p>
        Use <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld --verbose --help</strong></span></a> to display all
        the options that <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> supports.
</p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-installation-windows-path"></a>2.3.5.7 Customizing the PATH for MySQL Tools</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644217328368"></a><a class="indexterm" name="idm140644217327280"></a>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
</p>
</div>
<p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li class="listitem"><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li class="listitem"><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li class="listitem"><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span class="keycap"><strong>End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.7\bin</code>)
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              There must be a semicolon separating this path from any
              values present in this field.
</p>
</div>
<p>
            Dismiss this dialogue, and each dialogue in turn, by
            clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. The new
            <code class="literal">PATH</code> value should now be available to any
            new command shell you open, allowing you to invoke any MySQL
            executable program by typing its name at the DOS prompt from
            any directory on the system, without having to supply the
            path. This includes the servers, the
            <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, and all MySQL command-line
            utilities such as <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> and
            <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
</p></li></ul>
</div>
<p>
        You should not add the MySQL <code class="filename">bin</code> directory
        to your Windows <code class="literal">PATH</code> if you are running
        multiple MySQL servers on the same machine.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-start-service"></a>2.3.5.8 Starting MySQL as a Windows Service</h4>

</div>

</div>

</div>
<p>
        On Windows, the recommended way to run MySQL is to install it as
        a Windows service, so that MySQL starts and stops automatically
        when Windows starts and stops. A MySQL server installed as a
        service can also be controlled from the command line using
        <span class="command"><strong>NET</strong></span> commands, or with the graphical
        <span class="command"><strong>Services</strong></span> utility. Generally, to install MySQL
        as a Windows service you should be logged in using an account
        that has administrator rights.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a> GUI
          can also be used to monitor the status of the MySQL service.
</p>
</div>
<p>
        The <span class="command"><strong>Services</strong></span> utility (the Windows
        <span class="command"><strong>Service Control Manager</strong></span>) can be found in the
        Windows Control Panel (under <span class="guimenuitem">Administrative
        Tools</span> on Windows 2000, XP, Vista, and Server
        2003). To avoid conflicts, it is advisable to close the
        <span class="command"><strong>Services</strong></span> utility while performing server
        installation or removal operations from the command line.
</p>
<h5><a name="idm140644217290432"></a>Installing the service</h5>
<p>
        Before installing MySQL as a Windows service, you should first
        stop the current server if it is running by using the following
        command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          If the MySQL <code class="literal">root</code> user account has a
          password, you need to invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          with the <code class="option">-p</code> option and supply the password
          when prompted.
</p>
</div>
<p>
        This command invokes the MySQL administrative utility
        <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to connect to the server and tell
        it to shut down. The command connects as the MySQL
        <code class="literal">root</code> user, which is the default
        administrative account in the MySQL grant system.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          Users in the MySQL grant system are wholly independent from
          any login users under Windows.
</p>
</div>
<p>
        Install the server as a service using this command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --install</code></strong>
</pre><p>
        The service-installation command does not start the server.
        Instructions for that are given later in this section.
      </p><p>
        To make it easier to invoke MySQL programs, you can add the path
        name of the MySQL <code class="filename">bin</code> directory to your
        Windows system <code class="literal">PATH</code> environment variable:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            On the Windows desktop, right-click the <span class="guiicon">My
            Computer</span> icon, and select
            <span class="guimenuitem">Properties</span>.
          </p></li><li class="listitem"><p>
            Next select the <span class="guimenuitem">Advanced</span> tab from
            the <span class="guimenu">System Properties</span> menu that appears,
            and click the <span class="guibutton">Environment Variables</span>
            button.
          </p></li><li class="listitem"><p>
            Under <span class="guilabel">System Variables</span>, select
            <span class="guimenuitem">Path</span>, and then click the
            <span class="guibutton">Edit</span> button. The <span class="guimenu">Edit System
            Variable</span> dialogue should appear.
          </p></li><li class="listitem"><p>
            Place your cursor at the end of the text appearing in the
            space marked <span class="guilabel">Variable Value</span>. (Use the
            <span class="keycap"><strong>End</strong></span> key to ensure that your cursor is
            positioned at the very end of the text in this space.) Then
            enter the complete path name of your MySQL
            <code class="filename">bin</code> directory (for example,
            <code class="literal">C:\Program Files\MySQL\MySQL Server
            5.7\bin</code>), and there should be a
            semicolon separating this path from any values present in
            this field. Dismiss this dialogue, and each dialogue in
            turn, by clicking <span class="guibutton">OK</span> until all of the
            dialogues that were opened have been dismissed. You should
            now be able to invoke any MySQL executable program by typing
            its name at the DOS prompt from any directory on the system,
            without having to supply the path. This includes the
            servers, the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, and all MySQL
            command-line utilities such as <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
            and <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
          </p><p>
            You should not add the MySQL <code class="filename">bin</code>
            directory to your Windows <code class="literal">PATH</code> if you are
            running multiple MySQL servers on the same machine.
</p></li></ul>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Warning
</div>
<p>
          You must exercise great care when editing your system
          <code class="literal">PATH</code> by hand; accidental deletion or
          modification of any portion of the existing
          <code class="literal">PATH</code> value can leave you with a
          malfunctioning or even unusable system.
</p>
</div>
<p>
        The following additional arguments can be used when installing
        the service:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            You can specify a service name immediately following the
            <code class="option">--install</code> option. The default service name
            is <code class="literal">MySQL</code>.
          </p></li><li class="listitem"><p>
            If a service name is given, it can be followed by a single
            option. By convention, this should be
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
            to specify the name of an option file from which the server
            should read options when it starts.
          </p><p>
            The use of a single option other than
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is possible
            but discouraged.
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> is more
            flexible because it enables you to specify multiple startup
            options for the server by placing them in the named option
            file.
          </p></li><li class="listitem"><p>
            You can also specify a <code class="option">--local-service</code>
            option following the service name. This causes the server to
            run using the <code class="literal">LocalService</code> Windows
            account that has limited system privileges. This account is
            available only for Windows XP or newer. If both
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> and
            <code class="option">--local-service</code> are given following the
            service name, they can be in any order.
</p></li></ul>
</div>
<p>
        For a MySQL server that is installed as a Windows service, the
        following rules determine the service name and option files that
        the server uses:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If the service-installation command specifies no service
            name or the default service name (<code class="literal">MySQL</code>)
            following the <code class="option">--install</code> option, the server
            uses the service name of <code class="literal">MySQL</code> and reads
            options from the <code class="literal">[mysqld]</code> group in the
            standard option files.
          </p></li><li class="listitem"><p>
            If the service-installation command specifies a service name
            other than <code class="literal">MySQL</code> following the
            <code class="option">--install</code> option, the server uses that
            service name. It reads options from the
            <code class="literal">[mysqld]</code> group and the group that has the
            same name as the service in the standard option files. This
            enables you to use the <code class="literal">[mysqld]</code> group for
            options that should be used by all MySQL services, and an
            option group with the service name for use by the server
            installed with that service name.
          </p></li><li class="listitem"><p>
            If the service-installation command specifies a
            <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option after
            the service name, the server reads options the same way as
            described in the previous item, except that it reads options
            only from the named file and ignores the standard option
            files.
</p></li></ul>
</div>
<p>
        As a more complex example, consider the following command:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p>
        Here, the default service name (<code class="literal">MySQL</code>) is
        given after the <code class="option">--install</code> option. If no
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option had been
        given, this command would have the effect of causing the server
        to read the <code class="literal">[mysqld]</code> group from the standard
        option files. However, because the
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option is
        present, the server reads options from the
        <code class="literal">[mysqld]</code> option group, and only from the
        named file.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          On Windows, if the server is started with the
          <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> and
          <a class="link" href="server-administration.html#option_mysqld_install"><code class="option">--install</code></a> options,
          <a class="link" href="server-administration.html#option_mysqld_install"><code class="option">--install</code></a> must be first.
          Otherwise, <code class="literal">mysqld.exe</code> will attempt to start
          the MySQL server.
</p>
</div>
<p>
        You can also specify options as Start parameters in the Windows
        <span class="command"><strong>Services</strong></span> utility before you start the MySQL
        service.
</p>
<h5><a name="idm140644217217008"></a>Starting the service</h5>
<p>
        Once a MySQL server has been installed as a service, Windows
        starts the service automatically whenever Windows starts. The
        service also can be started immediately from the
        <span class="command"><strong>Services</strong></span> utility, or by using a <span class="command"><strong>NET
        START MySQL</strong></span> command. The <span class="command"><strong>NET</strong></span>
        command is not case sensitive.
      </p><p>
        When run as a service, <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> has no access
        to a console window, so no messages can be seen there. If
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> does not start, check the error log to
        see whether the server wrote any messages there to indicate the
        cause of the problem. The error log is located in the MySQL data
        directory (for example, <code class="filename">C:\Program Files\MySQL\MySQL
        Server 5.7\data</code>). It is the file with a
        suffix of <code class="filename">.err</code>.
      </p><p>
        When a MySQL server has been installed as a service, and the
        service is running, Windows stops the service automatically when
        Windows shuts down. The server also can be stopped manually by
        using the <code class="literal">Services</code> utility, the <span class="command"><strong>NET
        STOP MySQL</strong></span> command, or the <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin
        shutdown</strong></span></a> command.
      </p><p>
        You also have the choice of installing the server as a manual
        service if you do not wish for the service to be started
        automatically during the boot process. To do this, use the
        <code class="option">--install-manual</code> option rather than the
        <code class="option">--install</code> option:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --install-manual</code></strong>
</pre>
<h5><a name="idm140644217202576"></a>Removing the service</h5>
<p>
        To remove a server that is installed as a service, first stop it
        if it is running by executing <span class="command"><strong>NET STOP MySQL</strong></span>.
        Then use the <a class="link" href="server-administration.html#option_mysqld_remove"><code class="option">--remove</code></a> option to
        remove it:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqld" --remove</code></strong>
</pre><p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is not running as a service, you
        can start it from the command line. For instructions, see
        <a class="xref" href="installing.html#windows-start-command-line" title="2.3.5.6 Starting MySQL from the Windows Command Line">Section 2.3.5.6, “Starting MySQL from the Windows Command Line”</a>.
      </p><p>
        If you encounter difficulties during installation. see
        <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="windows-testing"></a>2.3.5.9 Testing The MySQL Installation</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644217193008"></a><a class="indexterm" name="idm140644217191968"></a><p>
        You can test whether the MySQL server is working by executing
        any of the following commands:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqlshow"</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqlshow" -u root mysql</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin" version status proc</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysql" test</code></strong>
</pre><p>
        If <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is slow to respond to TCP/IP
        connections from client programs, there is probably a problem
        with your DNS. In this case, start <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        with the <a class="link" href="server-administration.html#option_mysqld_skip-name-resolve"><code class="option">--skip-name-resolve</code></a>
        option and use only <code class="literal">localhost</code> and IP
        addresses in the <code class="literal">Host</code> column of the MySQL
        grant tables. (Be sure that an account exists that specifies an
        IP address or you may not be able to connect.)
      </p><p>
        You can force a MySQL client to use a named-pipe connection
        rather than TCP/IP by specifying the
        <a class="link" href="programs.html#option_general_pipe"><code class="option">--pipe</code></a> or
        <a class="link" href="programs.html#option_general_protocol"><code class="option">--protocol=PIPE</code></a> option, or by
        specifying <code class="literal">.</code> (period) as the host name. Use
        the <a class="link" href="programs.html#option_general_socket"><code class="option">--socket</code></a> option to specify
        the name of the pipe if you do not want to use the default pipe
        name.
      </p><p>
        If you have set a password for the <code class="literal">root</code>
        account, deleted the anonymous account, or created a new user
        account, then to connect to the MySQL server you must use the
        appropriate <code class="option">-u</code> and <code class="option">-p</code> options
        with the commands shown previously. See
        <a class="xref" href="programs.html#connecting" title="4.2.2 Connecting to the MySQL Server">Section 4.2.2, “Connecting to the MySQL Server”</a>.
      </p><p>
        For more information about <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>, see
        <a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information">Section 4.5.7, “<span class="command"><strong>mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-troubleshooting"></a>2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation</h3>

</div>

</div>

</div>
<p>
      When installing and running MySQL for the first time, you may
      encounter certain errors that prevent the MySQL server from
      starting. This section helps you diagnose and correct some of
      these errors.
    </p><p>
      Your first resource when troubleshooting server issues is the
      <a class="link" href="glossary.html#glos_error_log" title="error log">error log</a>. The MySQL server
      uses the error log to record information relevant to the error
      that prevents the server from starting. The error log is located
      in the <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>
      specified in your <code class="filename">my.ini</code> file. The default
      data directory location is <code class="filename">C:\Program Files\MySQL\MySQL
      Server 5.7\data</code>, or
      <code class="filename">C:\ProgramData\Mysql</code> on Windows 7 and Windows
      Server 2008. The <code class="filename">C:\ProgramData</code> directory is
      hidden by default. You need to change your folder options to see
      the directory and contents. For more information on the error log
      and understanding the content, see <a class="xref" href="server-administration.html#error-log" title="5.2.2 The Error Log">Section 5.2.2, “The Error Log”</a>.
    </p><p>
      For information regarding possible errors, also consult the
      console messages displayed when the MySQL service is starting. Use
      the <span class="command"><strong>NET START MySQL</strong></span> command from the command
      line after installing <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as a service to
      see any error messages regarding the starting of the MySQL server
      as a service. See <a class="xref" href="installing.html#windows-start-service" title="2.3.5.8 Starting MySQL as a Windows Service">Section 2.3.5.8, “Starting MySQL as a Windows Service”</a>.
    </p><p>
      The following examples show other common error messages you might
      encounter when installing MySQL and starting the server for the
      first time:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If the MySQL server cannot find the <code class="literal">mysql</code>
          privileges database or other critical files, it displays these
          messages:
        </p><pre class="programlisting">
System error 1067 has occurred.
Fatal error: Can't open and lock privilege tables:
Table 'mysql.user' doesn't exist
</pre><p>
          These messages often occur when the MySQL base or data
          directories are installed in different locations than the
          default locations (<code class="filename">C:\Program Files\MySQL\MySQL
          Server 5.7</code> and <code class="filename">C:\Program
          Files\MySQL\MySQL Server 5.7\data</code>,
          respectively).
        </p><p>
          This situation can occur when MySQL is upgraded and installed
          to a new location, but the configuration file is not updated
          to reflect the new location. In addition, old and new
          configuration files might conflict. Be sure to delete or
          rename any old configuration files when upgrading MySQL.
        </p><p>
          If you have installed MySQL to a directory other than
          <code class="filename">C:\Program Files\MySQL\MySQL Server
          5.7</code>, ensure that the MySQL server is
          aware of this through the use of a configuration
          (<code class="filename">my.ini</code>) file. Put the
          <code class="filename">my.ini</code> file in your Windows directory,
          typically <code class="filename">C:\WINDOWS</code>. To determine its
          exact location from the value of the <code class="literal">WINDIR</code>
          environment variable, issue the following command from the
          command prompt:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
          You can create or modify an option file with any text editor,
          such as Notepad. For example, if MySQL is installed in
          <code class="filename">E:\mysql</code> and the data directory is
          <code class="filename">D:\MySQLdata</code>, you can create the option
          file and set up a <code class="literal">[mysqld]</code> section to
          specify values for the <code class="option">basedir</code> and
          <code class="option">datadir</code> options:
        </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=D:/MySQLdata
</pre><p>
          Microsoft Windows path names are specified in option files
          using (forward) slashes rather than backslashes. If you do use
          backslashes, double them:
        </p><pre class="programlisting">
[mysqld]
# set basedir to your installation path
basedir=C:\\Program Files\\MySQL\\MySQL Server 5.7
# set datadir to the location of your data directory
datadir=D:\\MySQLdata
</pre><p>
          The rules for use of backslash in option file values are given
          in <a class="xref" href="programs.html#option-files" title="4.2.6 Using Option Files">Section 4.2.6, “Using Option Files”</a>.
        </p><p>
          If you change the <code class="option">datadir</code> value in your MySQL
          configuration file, you must move the contents of the existing
          MySQL data directory before restarting the MySQL server.
        </p><p>
          See <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2 Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>.
        </p></li><li class="listitem"><p>
          If you reinstall or upgrade MySQL without first stopping and
          removing the existing MySQL service and install MySQL using
          the MySQL Installer, you might see this error:
        </p><pre class="programlisting">
Error: Cannot create Windows service for MySql. Error: 0
</pre><p>
          This occurs when the Configuration Wizard tries to install the
          service and finds an existing service with the same name.
        </p><p>
          One solution to this problem is to choose a service name other
          than <code class="literal">mysql</code> when using the configuration
          wizard. This enables the new service to be installed
          correctly, but leaves the outdated service in place. Although
          this is harmless, it is best to remove old services that are
          no longer in use.
        </p><p>
          To permanently remove the old <code class="literal">mysql</code>
          service, execute the following command as a user with
          administrative privileges, on the command line:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>sc delete mysql</code></strong>
[SC] DeleteService SUCCESS
</pre><p>
          If the <code class="literal">sc</code> utility is not available for your
          version of Windows, download the <code class="literal">delsrv</code>
          utility from
          <a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</a>
          and use the <code class="literal">delsrv mysql</code> syntax.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-postinstallation"></a>2.3.7 Windows Postinstallation Procedures</h3>

</div>

</div>

</div>
<p>
      GUI tools exist that perform most of the tasks described in this
      section, including:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">MySQL Installer</a>: Used to install
          and upgrade MySQL products.
        </p></li><li class="listitem"><p>
          <a class="link" href="workbench.html" title="Chapter 27 MySQL Workbench">MySQL Workbench</a>: Manages the
          MySQL server and edits SQL statements.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#windows-notifier" title="2.3.4 MySQL Notifier">MySQL Notifier</a>:
          Starts, stops, or restarts the MySQL server, and monitors its
          status.
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://dev.mysql.com/doc/mysql-for-excel/en/index.html" target="_top">MySQL for Excel</a>: Edits
          MySQL data with Microsoft Excel.
</p></li></ul>
</div>
<p>
      If necessary, initialize the data directory and create the MySQL
      grant tables. Windows distributions prior to MySQL 5.7.7 include a
      data directory with a set of preinitialized accounts in the
      <code class="literal">mysql</code> database. As of 5.7.7, Windows
      installation operations performed by MySQL Installer initialize the data
      directory automatically. For installation from a Zip package, you
      can initialize the data directory as described at
      <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>.
    </p><p>
      Regarding passwords, if you installed MySQL using the MySQL Installer, you
      may have already assigned a passwords to the initial
      <code class="literal">root</code> account. (See
      <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.) Otherwise, use the
      password-assignment procedure given in
      <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      Before assigning passwords, you might want to try running some
      client programs to make sure that you can connect to the server
      and that it is operating properly. Make sure that the server is
      running (see <a class="xref" href="installing.html#windows-server-first-start" title="2.3.5.5 Starting the Server for the First Time">Section 2.3.5.5, “Starting the Server for the First Time”</a>). You
      can also set up a MySQL service that runs automatically when
      Windows starts (see <a class="xref" href="installing.html#windows-start-service" title="2.3.5.8 Starting MySQL as a Windows Service">Section 2.3.5.8, “Starting MySQL as a Windows Service”</a>).
    </p><p>
      These instructions assume that your current location is the MySQL
      installation directory and that it has a <code class="filename">bin</code>
      subdirectory containing the MySQL programs used here. If that is
      not true, adjust the command path names accordingly.
    </p><p>
      If you installed MySQL using MySQL Installer (see
      <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>), the default installation
      directory is <code class="filename">C:\Program Files\MySQL\MySQL Server
      5.7</code>:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>cd "C:\Program Files\MySQL\MySQL Server 5.7"</code></strong>
</pre><p>
      A common installation location for installation from a Zip package
      is <code class="filename">C:\mysql</code>:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>cd C:\mysql</code></strong>
</pre><a class="indexterm" name="idm140644217105168"></a><a class="indexterm" name="idm140644217104080"></a><p>
      Alternatively, add the <code class="filename">bin</code> directory to your
      <code class="literal">PATH</code> environment variable setting. That enables
      your command interpreter to find MySQL programs properly, so that
      you can run a program by typing only its name, not its path name.
      See <a class="xref" href="installing.html#mysql-installation-windows-path" title="2.3.5.7 Customizing the PATH for MySQL Tools">Section 2.3.5.7, “Customizing the PATH for MySQL Tools”</a>.
    </p><p>
      With the server running, issue the following commands to verify
      that you can retrieve information from the server. The output
      should be similar to that shown here.
    </p><p>
      Use <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> to see what databases exist:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin\mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      The list of installed databases may vary, but will always include
      the minimum of <code class="literal">mysql</code> and
      <code class="literal">information_schema</code>. Before MySQL 5.7.7, a
      <code class="literal">test</code> database may also be created
      automatically.
    </p><p>
      The preceding command (and commands for other MySQL programs such
      as <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>) may not work if the correct MySQL
      account does not exist. For example, the program may fail with an
      error, or you may not be able to view all databases. If you
      installed MySQL using MySQL Installer, the <code class="literal">root</code> user will
      have been created automatically with the password you supplied. In
      this case, you should use the <code class="option">-u root</code> and
      <code class="option">-p</code> options. (You must use those options if you
      have already secured the initial MySQL accounts.) With
      <code class="option">-p</code>, the client program prompts for the
      <code class="literal">root</code> password. For example:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin\mysqlshow -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      If you specify a database name, <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>
      displays a list of the tables within the database:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin\mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| engine_cost               |
| event                     |
| func                      |
| general_log               |
| gtid_executed             |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| innodb_index_stats        |
| innodb_table_stats        |
| ndb_binlog_index          |
| plugin                    |
| proc                      |
| procs_priv                |
| proxies_priv              |
| server_cost               |
| servers                   |
| slave_master_info         |
| slave_relay_log_info      |
| slave_worker_info         |
| slow_log                  |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      Use the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> program to select information
      from a table in the <code class="literal">mysql</code> database:
    </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin\mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong>
+------+-----------+-----------------------+
| User | Host      | plugin                |
+------+-----------+-----------------------+
| root | localhost | mysql_native_password |
+------+-----------+-----------------------+
</pre><p>
      For more information about <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> and
      <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>, see <a class="xref" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool">Section 4.5.1, “<span class="command"><strong>mysql</strong></span> — The MySQL Command-Line Tool”</a>, and
      <a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information">Section 4.5.7, “<span class="command"><strong>mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="windows-upgrading"></a>2.3.8 Upgrading MySQL on Windows</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644217072448"></a><p>
      To upgrade MySQL on Windows, follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review <a class="xref" href="installing.html#upgrading" title="2.11.1 Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>, for additional information
          on upgrading MySQL that is not specific to Windows.
        </p></li><li class="listitem"><p>
          Always back up your current MySQL installation before
          performing an upgrade. See <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 Database Backup Methods">Section 7.2, “Database Backup Methods”</a>.
        </p></li><li class="listitem"><p>
          Download the latest Windows distribution of MySQL from
          <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>.
        </p></li><li class="listitem"><p>
          Before upgrading MySQL, stop the server. If the server is
          installed as a service, stop the service with the following
          command from the command prompt:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>NET STOP MySQL</code></strong>
</pre><p>
          If you are not running the MySQL server as a service, use
          <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to stop it. For example, before
          upgrading from MySQL 5.6 to 5.7,
          use <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> from MySQL 5.6
          as follows:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.6\bin\mysqladmin" -u root shutdown</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            If the MySQL <code class="literal">root</code> user account has a
            password, invoke <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> with the
            <code class="option">-p</code> option and enter the password when
            prompted.
</p>
</div>
</li><li class="listitem"><p>
          Before upgrading to MySQL 5.7 from a version
          previous to 4.1.5, or from a version of MySQL installed from a
          Zip archive to a version of MySQL installed with the MySQL
          Installation Wizard, you must first manually remove the
          previous installation and MySQL service (if the server is
          installed as a service).
        </p><p>
          To remove the MySQL service, use the following command:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\mysql\bin\mysqld --remove</code></strong>
</pre><p>
          <span class="bold"><strong>If you do not remove the existing
          service, the MySQL Installation Wizard may fail to properly
          install the new MySQL service.</strong></span>
        </p></li><li class="listitem"><p>
          If you are using the MySQL Installer, start it as described in
          <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>.
        </p></li><li class="listitem"><p>
          If you are upgrading MySQL from a Zip archive, extract the
          archive. You may either overwrite your existing MySQL
          installation (usually located at
          <code class="filename">C:\mysql</code>), or install it into a different
          directory, such as <code class="literal">C:\mysql5</code>. Overwriting
          the existing installation is recommended. However, for
          upgrades (as opposed to installing for the first time), you
          must remove the data directory from your existing MySQL
          installation to avoid replacing your current data files. To do
          so, follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Unzip the Zip archive in some location other than your
              current MySQL installation
            </p></li><li class="listitem"><p>
              Remove the data directory
            </p></li><li class="listitem"><p>
              Rezip the Zip archive
            </p></li><li class="listitem"><p>
              Unzip the modified Zip archive on top of your existing
              installation
</p></li></ol>
</div>
<p>
          Alternatively:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Unzip the Zip archive in some location other than your
              current MySQL installation
            </p></li><li class="listitem"><p>
              Remove the data directory
            </p></li><li class="listitem"><p>
              Move the data directory from the current MySQL
              installation to the location of the just-removed data
              directory
            </p></li><li class="listitem"><p>
              Remove the current MySQL installation
            </p></li><li class="listitem"><p>
              Move the unzipped installation to the location of the
              just-removed installation
</p></li></ol>
</div>
</li><li class="listitem"><p>
          If you were running MySQL as a Windows service and you had to
          remove the service earlier in this procedure, reinstall the
          service. (See <a class="xref" href="installing.html#windows-start-service" title="2.3.5.8 Starting MySQL as a Windows Service">Section 2.3.5.8, “Starting MySQL as a Windows Service”</a>.)
        </p></li><li class="listitem"><p>
          Restart the server. For example, use <span class="command"><strong>NET START
          MySQL</strong></span> if you run MySQL as a service, or invoke
          <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly otherwise.
        </p></li><li class="listitem"><p>
          As Administrator, run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to
          check your tables, attempt to repair them if necessary, and
          update your grant tables if they have changed so that you can
          take advantage of any new capabilities. See
          <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a>.
        </p></li><li class="listitem"><p>
          If you encounter errors, see
          <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
</p></li></ol>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="osx-installation"></a>2.4 Installing MySQL on OS X</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#osx-installation-notes">2.4.1 General Notes on Installing MySQL on OS X</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-pkg">2.4.2 Installing MySQL on OS X Using Native Packages</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-launchd">2.4.3 Installing a MySQL Launch Daemon</a></span></dt><dt><span class="section"><a href="installing.html#osx-installation-prefpane">2.4.4 Installing and Using the MySQL Preference Pane</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644217025856"></a><a class="indexterm" name="idm140644217024400"></a><p>
    For a list of OS X versions that the MySQL server supports, see
    <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>.
  </p><p>
    MySQL for OS X is available in a number of different forms:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Native Package Installer, which uses the native OS X installer
        (DMG) to walk you through the installation of MySQL. For more
        information, see <a class="xref" href="installing.html#osx-installation-pkg" title="2.4.2 Installing MySQL on OS X Using Native Packages">Section 2.4.2, “Installing MySQL on OS X Using Native Packages”</a>. You can
        use the package installer with OS X. The user you use to perform
        the installation must have administrator privileges.
      </p></li><li class="listitem"><p>
        Compressed TAR archive, which uses a file packaged using the
        Unix <span class="command"><strong>tar</strong></span> and <span class="command"><strong>gzip</strong></span>
        commands. To use this method, you will need to open a
        <span class="command"><strong>Terminal</strong></span> window. You do not need
        administrator privileges using this method, as you can install
        the MySQL server anywhere using this method. For more
        information on using this method, you can use the generic
        instructions for using a tarball,
        <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
      </p><p>
        In addition to the core installation, the Package Installer also
        includes <a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 Installing a MySQL Launch Daemon">Section 2.4.3, “Installing a MySQL Launch Daemon”</a> and
        <a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.4 Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>, both of which
        simplify the management of your installation.
</p></li></ul>
</div>
<p>
    For additional information on using MySQL on OS X, see
    <a class="xref" href="installing.html#osx-installation-notes" title="2.4.1 General Notes on Installing MySQL on OS X">Section 2.4.1, “General Notes on Installing MySQL on OS X”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-notes"></a>2.4.1 General Notes on Installing MySQL on OS X</h3>
</div>
</div>
</div>
<p>
      You should keep the following issues and notes in mind:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          As of MySQL server 5.7.8, the DMG bundles a launchd daemon
          instead of the deprecated startup item. Startup items do not
          function as of OS X 10.10 (Yosemite), so using launchd is
          preferred. The available MySQL preference pane under OS X
          <span class="guilabel">System Preferences</span> was also updated to
          use launchd.
        </p></li><li class="listitem"><p>
          You may need (or want) to create a specific
          <code class="literal">mysql</code> user to own the MySQL directory and
          data. You can do this through the <span class="command"><strong>Directory
          Utility</strong></span>, and the <code class="literal">mysql</code> user
          should already exist. For use in single user mode, an entry
          for <code class="literal">_mysql</code> (note the underscore prefix)
          should already exist within the system
          <code class="filename">/etc/passwd</code> file.
        </p></li><li class="listitem"><p>
          Because the MySQL package installer installs the MySQL
          contents into a version and platform specific directory, you
          can use this to upgrade and migrate your database between
          versions. You will need to either copy the
          <code class="filename">data</code> directory from the old version to
          the new version, or alternatively specify an alternative
          <code class="option">datadir</code> value to set location of the data
          directory. By default, the MySQL directories are installed
          under <code class="filename">/usr/local/</code>.
        </p></li><li class="listitem"><p>
          You might want to add aliases to your shell's resource file to
          make it easier to access commonly used programs such as
          <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> and <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>
          from the command line. The syntax for <span class="command"><strong>bash</strong></span>
          is:
        </p><pre class="programlisting">
alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin
</pre><p>
          For <span class="command"><strong>tcsh</strong></span>, use:
        </p><pre class="programlisting">
alias mysql /usr/local/mysql/bin/mysql
alias mysqladmin /usr/local/mysql/bin/mysqladmin
</pre><p>
          Even better, add <code class="literal">/usr/local/mysql/bin</code> to
          your <code class="literal">PATH</code> environment variable. You can do
          this by modifying the appropriate startup file for your shell.
          For more information, see <a class="xref" href="programs.html#invoking-programs" title="4.2.1 Invoking MySQL Programs">Section 4.2.1, “Invoking MySQL Programs”</a>.
        </p></li><li class="listitem"><p>
          After you have copied over the MySQL database files from the
          previous installation and have successfully started the new
          server, you should consider removing the old installation
          files to save disk space. Additionally, you should also remove
          older versions of the Package Receipt directories located in
          <code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code>.
        </p></li><li class="listitem"><p>
          Prior to OS X 10.7, MySQL server was bundled with OS X Server.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-pkg"></a>2.4.2 Installing MySQL on OS X Using Native Packages</h3>

</div>

</div>

</div>
<p>
      The package is located inside a disk image
      (<code class="literal">.dmg</code>) file that you first need to mount by
      double-clicking its icon in the Finder. It should then mount the
      image and display its contents.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Before proceeding with the installation, be sure to stop all
        running MySQL server instances by using either the MySQL Manager
        Application (on OS X Server), the preference pane, or
        <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin shutdown</strong></span></a> on the command line.
</p>
</div>
<p>
      When installing from the package version, you can also install the
      MySQL preference pane, which will enable you to control the
      startup and execution of your MySQL server from System
      Preferences. For more information, see
      <a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.4 Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
    </p><p>
      When installing using the package installer, the files are
      installed into a directory within <code class="filename">/usr/local</code>
      matching the name of the installation version and platform. For
      example, the installer file
      <code class="filename">mysql-5.7.13-<em class="replaceable"><code>osx10.9-x86_64.dmg</code></em></code>
      installs MySQL into
      <code class="filename">/usr/local/mysql-5.7.13-osx10.9-x86_64/
      </code>. The following table shows the layout of the
      installation directory.
</p>
<div class="table">
<a name="mysql-installation-layout-osx"></a><p class="title"><b>Table 2.5 MySQL Installation Layout on OS X</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout on OS X" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Directory</th><th scope="col">Contents of Directory</th></tr></thead><tbody><tr><td scope="row"><code class="filename">bin</code>, <code class="filename">scripts</code></td><td><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server, client and utility programs</td></tr><tr><td scope="row"><code class="filename">data</code></td><td>Log files, databases</td></tr><tr><td scope="row"><code class="filename">docs</code></td><td>Helper documents, like the Release Notes and build information</td></tr><tr><td scope="row"><code class="filename">include</code></td><td>Include (header) files</td></tr><tr><td scope="row"><code class="filename">lib</code></td><td>Libraries</td></tr><tr><td scope="row"><code class="filename">man</code></td><td>Unix manual pages</td></tr><tr><td scope="row"><code class="filename">mysql-test</code></td><td>MySQL test suite</td></tr><tr><td scope="row"><code class="filename">share</code></td><td>Miscellaneous support files, including error messages, sample
configuration files, SQL for database installation</td></tr><tr><td scope="row"><code class="filename">sql-bench</code></td><td>Benchmarks</td></tr><tr><td scope="row"><code class="filename">support-files</code></td><td>Scripts and sample configuration files</td></tr><tr><td scope="row"><code class="filename">/tmp/mysql.sock</code></td><td>Location of the MySQL Unix socket</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      During the package installer process, a symbolic link from
      <code class="filename">/usr/local/mysql</code> to the version/platform
      specific directory created during installation will be created
      automatically.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package file.
          Double-click the disk image to open it.
</p>
<div class="figure">
<a name="mac-installer-dmg-contents"></a><p class="title"><b>Figure 2.40 MySQL Package Installer: DMG Contents</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-dmg-contents.png" width="428" height="382" alt="MySQL Package Installer: DMG Contents">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          Double-click the MySQL installer package. It will be named
          according to the version of MySQL you have downloaded. For
          example, if you have downloaded MySQL server
          5.7.13, double-click
          <code class="filename">mysql-5.7.13-osx-<em class="replaceable"><code>10.9-x86_64</code></em>.pkg</code>.
        </p></li><li class="listitem"><p>
          You will be presented with the opening installer dialog. Click
          <span class="guibutton">Continue</span> to begin installation.
</p>
<div class="figure">
<a name="mac-installer-dmg-introduction"></a><p class="title"><b>Figure 2.41 MySQL Package Installer: Introduction</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-dmg-introduction.png" width="732" height="550" alt="MySQL Package Installer: Introduction">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          If you have downloaded the community version of MySQL, you
          will be shown a copy of the relevant GNU General Public
          License. Click <span class="guibutton">Continue</span> and then
          <span class="guibutton">Agree</span> to continue.
        </p></li><li class="listitem"><p>
          From the <span class="guilabel">Installation Type</span> page you can
          either click <span class="guibutton">Install</span> to execute the
          installation wizard using all defaults, click
          <span class="guibutton">Customize</span> to alter which components to
          install (MySQL server, Preference Pane, Launchd Support -- all
          enabled by default), or click <span class="guibutton">Change Installation
          Location</span> to change the type of installation, if
          available.
</p>
<div class="figure">
<a name="mac-installer-installation-type-main"></a><p class="title"><b>Figure 2.42 MySQL Package Installer: Installation Type</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-installation-type.png" width="732" height="550" alt="MySQL Package Installer: Installation Type">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-installation-destination-select"></a><p class="title"><b>Figure 2.43 MySQL Package Installer: Destination Select (Change Installation
Location)</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-installation-destination.png" width="733" height="550" alt="MySQL Package Installer: Destination Select (Change Installation Location)">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-installation-customize-main"></a><p class="title"><b>Figure 2.44 MySQL Package Installer: Customize</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-installation-customize.png" width="732" height="550" alt="MySQL Package Installer: Customize">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          Click <span class="guibutton">Install</span> to begin the installation
          process.
        </p></li><li class="listitem"><p>
          Once the installation has been completed successfully, you
          will be provided with your temporary root password. This
          cannot be recovered, so you must save this password. For
          example:
</p>
<div class="figure">
<a name="mac-installer-installation-root-password"></a><p class="title"><b>Figure 2.45 MySQL Package Installer: Temporary Root Password</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-root-password.png" width="600" height="316" alt="MySQL Package Installer: Temporary Root Password">
</div>

</div>

</div>
<br class="figure-break">
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            After logging into MySQL using this temporary password,
            MySQL will expire this password and require you to create a
            new password.
</p>
</div>
</li><li class="listitem"><p>
          Next is an <span class="guilabel">Install Succeeded</span> message with
          a short summary. Now, <span class="guibutton">Close</span> the wizard
          and begin using the MySQL server.
</p>
<div class="figure">
<a name="mac-installer-installation-summary"></a><p class="title"><b>Figure 2.46 MySQL Package Installer: Summary</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-summary.png" width="732" height="550" alt="MySQL Package Installer: Summary">
</div>

</div>

</div>
<br class="figure-break"></li></ol>
</div>
<p>
      MySQL server is now installed, but it is not loaded (or started)
      by default. Use either launchctl from the command line, or start
      MySQL by clicking "Start" using the MySQL preference pane. For
      additional information, see
      <a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 Installing a MySQL Launch Daemon">Section 2.4.3, “Installing a MySQL Launch Daemon”</a>, and
      <a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.4 Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>. Use launchd to
      configure MySQL to automatically start at bootup.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-launchd"></a>2.4.3 Installing a MySQL Launch Daemon</h3>

</div>

</div>

</div>
<p>
      OS X uses launch daemons to automatically start, stop, and manage
      processes and applications such as MySQL.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Before MySQL 5.7.8, the OS X builds installed startup items
        instead of launchd daemons. However, startup items do not
        function as of OS X 10.10 (Yosemite). The OS X builds now
        install launchd daemons.
</p>
</div>
<p>
      By default, the installation package (DMG) on OS X installs a
      launchd file named
      <code class="filename">/Library/LaunchDaemons/com.oracle.oss.mysql.mysqld.plist</code>
      that contains a plist definition similar to:
    </p><pre class="programlisting">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
    &lt;key&gt;Label&lt;/key&gt;             &lt;string&gt;com.oracle.oss.mysql.mysqld&lt;/string&gt;
    &lt;key&gt;ProcessType&lt;/key&gt;       &lt;string&gt;Interactive&lt;/string&gt;
    &lt;key&gt;Disabled&lt;/key&gt;          &lt;false/&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;SessionCreate&lt;/key&gt;     &lt;true/&gt;
    &lt;key&gt;LaunchOnlyOnce&lt;/key&gt;    &lt;false/&gt;
    &lt;key&gt;UserName&lt;/key&gt;          &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;GroupName&lt;/key&gt;         &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;ExitTimeOut&lt;/key&gt;       &lt;integer&gt;600&lt;/integer&gt;
    &lt;key&gt;Program&lt;/key&gt;           &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
            &lt;string&gt;--user=_mysql&lt;/string&gt;
            &lt;string&gt;--basedir=/usr/local/mysql&lt;/string&gt;
            &lt;string&gt;--datadir=/usr/local/mysql/data&lt;/string&gt;
            &lt;string&gt;--plugin-dir=/usr/local/mysql/lib/plugin&lt;/string&gt;
            &lt;string&gt;--log-error=/usr/local/mysql/data/mysqld.local.err&lt;/string&gt;
            &lt;string&gt;--pid-file=/usr/local/mysql/data/mysqld.local.pid&lt;/string&gt;
        &lt;/array&gt;
    &lt;key&gt;WorkingDirectory&lt;/key&gt;  &lt;string&gt;/usr/local/mysql&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;

</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        Some users report that adding a plist DOCTYPE declaration causes
        the launchd operation to fail, despite it passing the lint
        check. We suspect it's a copy-n-paste error. The md5 checksum of
        a file containing the above snippet is
        <span class="emphasis"><em>24710a27dc7a28fb7ee6d825129cd3cf</em></span>.
</p>
</div>
<p>
      To enable the launchd service, you can either:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Click <span class="guibutton">Start MySQL Server</span> from the MySQL
          preference pane.
</p>
<div class="figure">
<a name="mac-installer-preference-pane-location-start"></a><p class="title"><b>Figure 2.47 MySQL Preference Pane: Location</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-preference-pane-location.png" width="800" height="746" alt="MySQL Preference Pane: Location">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-preference-pane-usage"></a><p class="title"><b>Figure 2.48 MySQL Preference Pane: Usage</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-preference-pane-usage.png" width="780" height="426" alt="MySQL Preference Pane: Usage">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          Or, manually load the launchd file.
        </p><pre class="programlisting">
shell&gt; cd /Library/LaunchDaemons
shell&gt; sudo launchctl load -F com.oracle.oss.mysql.mysqld.plist
        </pre></li><li class="listitem"><p>
          To configure MySQL to automatically start at bootup, you can:
        </p><pre class="programlisting">
shell&gt; sudo launchctl load -w com.oracle.oss.mysql.mysqld.plist
</pre></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
        When upgrading MySQL server, the launchd installation process
        will remove the old startup items that were installed with MySQL
        server 5.7.7 and below.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="osx-installation-prefpane"></a>2.4.4 Installing and Using the MySQL Preference Pane</h3>

</div>

</div>

</div>
<p>
      The MySQL Installation Package includes a MySQL preference pane
      that enables you to start, stop, and control automated startup
      during boot of your MySQL installation.
    </p><p>
      This preference pane is installed by default, and is listed under
      your system's <span class="emphasis"><em>System Preferences</em></span> window.
</p>
<div class="figure">
<a name="mac-installer-preference-pane-location-start-2"></a><p class="title"><b>Figure 2.49 MySQL Preference Pane: Location</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-preference-pane-location.png" width="800" height="746" alt="MySQL Preference Pane: Location">
</div>

</div>

</div>
<br class="figure-break"><p>
      To install the MySQL Preference Pane:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Download and open the MySQL package installer, which is
          provided on a disk image (<code class="filename">.dmg</code>) that
          includes the main MySQL installation package.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Before MySQL 5.7.8, OS X packages included the deprecated
            startup items instead of launchd daemons, and the preference
            pane managed that intstead of launchd.
</p>
</div>

<div class="figure">
<a name="mac-installer-dmg-contents-prefpane"></a><p class="title"><b>Figure 2.50 MySQL Package Installer: DMG Contents</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-dmg-contents.png" width="428" height="382" alt="MySQL Package Installer: DMG Contents">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          Go through the process of installing the MySQL server, as
          described in the documentation at
          <a class="xref" href="installing.html#osx-installation-pkg" title="2.4.2 Installing MySQL on OS X Using Native Packages">Section 2.4.2, “Installing MySQL on OS X Using Native Packages”</a>.
        </p></li><li class="listitem"><p>
          Click <span class="guibutton">Customize</span> at the
          <span class="guilabel">Installation Type</span> step. The "Preference
          Pane" option is listed there and enabled by default.
</p>
<div class="figure">
<a name="mac-startup-installer-customize-prefpane"></a><p class="title"><b>Figure 2.51 MySQL Installer on OS X: Customize</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-installation-customize.png" width="732" height="550" alt="MySQL Installer on OS X: Customize">
</div>

</div>

</div>
<br class="figure-break"></li><li class="listitem"><p>
          Complete the MySQL server installation process.
</p></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
        The MySQL preference pane only starts and stops MySQL
        installation installed from the MySQL package installation that
        have been installed in the default location.
</p>
</div>
<p>
      Once the MySQL preference pane has been installed, you can control
      your MySQL server instance using the preference pane. To use the
      preference pane, open the <span class="guilabel">System
      Preferences...</span> from the Apple menu. Select the MySQL
      preference pane by clicking the MySQL logo within the
      <span class="guilabel">bottom</span> section of the preference panes list.
</p>
<div class="figure">
<a name="mac-installer-preference-pane-location"></a><p class="title"><b>Figure 2.52 MySQL Preference Pane: Location</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-preference-pane-location.png" width="800" height="746" alt="MySQL Preference Pane: Location">
</div>

</div>

</div>
<br class="figure-break">
<div class="figure">
<a name="mac-installer-preference-pane-usage-3"></a><p class="title"><b>Figure 2.53 MySQL Preference Pane: Usage</b></p>
<div class="figure-contents">

<div class="mediaobject">
<img src="images/mac-installer-preference-pane-usage.png" width="780" height="426" alt="MySQL Preference Pane: Usage">
</div>

</div>

</div>
<br class="figure-break"><p>
      The MySQL Preference Pane shows the current status of the MySQL
      server, showing <span class="guilabel">stopped</span> (in red) if the
      server is not running and <span class="guilabel">running</span> (in green)
      if the server has already been started. The preference pane also
      shows the current setting for whether the MySQL server has been
      set to start automatically.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>To start the MySQL server using the
          preference pane: </strong></span>
        </p><p>
          Click <span class="guibutton">Start MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to start the MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To stop the MySQL server using the
          preference pane: </strong></span>
        </p><p>
          Click <span class="guibutton">Stop MySQL Server</span>. You may be
          prompted for the username and password of a user with
          administrator privileges to stop the MySQL server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To automatically start the MySQL server
          when the system boots:</strong></span>
        </p><p>
          Check the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>To disable automatic MySQL server
          startup when the system boots:</strong></span>
        </p><p>
          Uncheck the check box next to <span class="guilabel">Automatically Start
          MySQL Server on Startup</span>.
</p></li></ul>
</div>
<p>
      You can close the <span class="command"><strong>System Preferences...</strong></span> window
      once you have completed your settings.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="linux-installation"></a>2.5 Installing MySQL on Linux</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository</a></span></dt><dt><span class="section"><a href="installing.html#replace-third-party-yum">2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum
Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.3 Installing MySQL on Linux Using the MySQL APT Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.6 Installing MySQL on Linux Using Debian Packages from Oracle</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 Installing MySQL on Linux from the Native Software Repositories</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-docker">2.5.8 Installing MySQL on Linux with docker</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-juju">2.5.9 Installing MySQL on Linux with juju</a></span></dt><dt><span class="section"><a href="installing.html#server-management-using-systemd">2.5.10 Managing MySQL Server with systemd</a></span></dt></dl>
</div>
<p>
    Linux supports a number of different solutions for installing MySQL.
    We recommend that you use one of the distributions from Oracle, for
    which several methods for installation are available:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Installing with Yum using the
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum
        repository</a>. For details, see
        <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a>.
      </p></li><li class="listitem"><p>
        Installing with APT using the
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT
        Repository</a>. For details, see
        <a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 Installing MySQL on Linux Using the MySQL APT Repository">Section 2.5.3, “Installing MySQL on Linux Using the MySQL APT Repository”</a>.
      </p></li><li class="listitem"><p>
        Installing with Zypper using the
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL SLES
        Repository</a>. For details, see
        <a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository">Section 2.5.4, “Installing MySQL on Linux Using the MySQL SLES Repository”</a>.
      </p></li><li class="listitem"><p>
        Installing using a precompiled RPM package. For more
        information, see <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle">Section 2.5.5, “Installing MySQL on Linux Using RPM Packages from Oracle”</a>.
      </p></li><li class="listitem"><p>
        Installing using a precompiled Debian package. For more
        information, see <a class="xref" href="installing.html#linux-installation-debian" title="2.5.6 Installing MySQL on Linux Using Debian Packages from Oracle">Section 2.5.6, “Installing MySQL on Linux Using Debian Packages from Oracle”</a>.
      </p></li><li class="listitem"><p>
        Installing from a generic binary package in
        <code class="filename">.tar.gz</code> format. See
        <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a> for more information.
      </p></li><li class="listitem"><p>
        Installing using Oracle's Unbreakable Linux Network (ULN). For
        more information, see <a class="xref" href="installing.html#uln-installation" title="2.6 Installing MySQL Using Unbreakable Linux Network (ULN)">Section 2.6, “Installing MySQL Using Unbreakable Linux Network (ULN)”</a>.
      </p></li><li class="listitem"><p>
        Extracting and compiling MySQL from a source distribution. For
        detailed instructions, see
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p></li></ul>
</div>
<p>
    As an alternative, you can use the package manager on your system to
    automatically download and install MySQL with packages from the
    native software repositories of your Linux distribution. These
    native packages are often several versions behind the currently
    available release. You will also normally be unable to install
    development milestone releases (DMRs), as these are not usually made
    available in the native repositories. For more information on using
    the native package installers, see
    <a class="xref" href="installing.html#linux-installation-native" title="2.5.7 Installing MySQL on Linux from the Native Software Repositories">Section 2.5.7, “Installing MySQL on Linux from the Native Software Repositories”</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      For many Linux installations, you will want to set up MySQL to be
      started automatically when your machine starts. Many of the native
      package installations perform this operation for you, but for
      source, binary and RPM solutions you may need to set this up
      separately. The required script, <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>,
      can be found in the <code class="filename">support-files</code> directory
      under the MySQL installation directory or in a MySQL source tree.
      You can install it as <code class="filename">/etc/init.d/mysql</code> for
      automatic MySQL startup and shutdown. See
      <a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script">Section 4.3.3, “<span class="command"><strong>mysql.server</strong></span> — MySQL Server Startup Script”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-yum-repo"></a>2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644216767792"></a><a class="indexterm" name="idm140644216766720"></a><p>
      MySQL provides a Yum-style software repository for the following
      Linux platforms:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          EL5, EL6, and EL7-based platforms (for example, the
          corresponding versions of Red Hat Enterprise Linux, Oracle
          Linux, and CentOS)
        </p></li><li class="listitem"><p>
          Fedora 22 and 23
</p></li></ul>
</div>
<p>
      Currently, the <a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL
      Yum repository</a> for the above-mentioned platforms provides
      RPM packages for installing the MySQL server, client, MySQL
      Workbench, MySQL Utilities, Connector/ODBC, and Connector/Python
      (not all packages are available for all the platforms; see
      <a class="xref" href="installing.html#yum-install-components" title="Installing Additional MySQL Products and Components with Yum">Installing Additional MySQL Products and Components with Yum</a> for details).
</p>
<h4><a name="idm140644216760768"></a>Before You Start</h4>
<p>
      As a popular, open-source software, MySQL, in its original or
      re-packaged form, is widely installed on many systems from various
      sources, including different software download sites, software
      repositories, and so on. The following instructions assume that
      MySQL is not already installed on your system using a
      third-party-distributed RPM package; if that is not the case,
      follow the instructions given in
      <a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">Section 2.11.1.2, “Upgrading MySQL with the MySQL Yum Repository”</a> or
      <a class="xref" href="installing.html#replace-third-party-yum" title="2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum Repository">Section 2.5.2, “Replacing a Third-Party Distribution of MySQL Using the MySQL Yum
      Repository”</a>.
</p>
<h4><a name="idm140644216757760"></a>Steps for a Fresh Installation of MySQL</h4>
<p>
      Follow the steps below to install the latest GA version of MySQL
      with the MySQL Yum repository:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="yum-repo-setup"></a>Adding the MySQL Yum Repository</h4>
<p>
          First, add the MySQL Yum repository to your system's
          repository list. This is a one-time operation, which can be
          performed by installing an RPM provided by MySQL. Follow these
          steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="a"><li class="listitem"><p>
              Go to the Download MySQL Yum Repository page
              (<a class="ulink" href="http://dev.mysql.com/downloads/repo/yum/" target="_top">http://dev.mysql.com/downloads/repo/yum/</a>)
              in the MySQL Developer Zone.
            </p></li><li class="listitem"><p>
              Select and download the release package for your platform.
            </p></li><li class="listitem"><p>
              Install the downloaded release package with the following
              command (except for EL5-based systems), replacing
              <em class="replaceable"><code>platform-and-version-specific-package-name</code></em>
              with the name of the downloaded RPM package:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum localinstall <em class="replaceable"><code>platform-and-version-specific-package-name</code></em>.rpm</code></strong>
</pre><p>
              For an EL6-based system, the command is in the form of:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum localinstall mysql57-community-release-el6-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              For an EL7-based system:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum localinstall mysql57-community-release-el7-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              For Fedora 22:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dnf install mysql57-community-release-fc22-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              For Fedora 23:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dnf install mysql57-community-release-fc23-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              For an EL5-based system, use the following command
              instead:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo rpm -Uvh mysql57-community-release-el5-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              The installation command adds the MySQL Yum repository to
              your system's repository list and downloads the GnuPG key
              to check the integrity of the software packages. See
              <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.3.2 Signature Checking Using GnuPG">Section 2.1.3.2, “Signature Checking Using GnuPG”</a> for details on
              GnuPG key checking.
            </p><p>
              You can check that the MySQL Yum repository has been
              successfully added by the following command (for
              dnf-enabled systems, replace <span class="command"><strong>yum</strong></span> in the
              command with <span class="command"><strong>dnf</strong></span>):
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist enabled | grep "mysql.*-community.*"</code></strong>
</pre></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
            Once the MySQL Yum repository is enabled on your system, any
            system-wide update by the <span class="command"><strong>yum update</strong></span>
            command (or <span class="command"><strong>dnf upgrade</strong></span> for dnf-enabled
            systems) will upgrade MySQL packages on your system and also
            replace any native third-party packages, if Yum finds
            replacements for them in the MySQL Yum repository; see
            <a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">Section 2.11.1.2, “Upgrading MySQL with the MySQL Yum Repository”</a> and, for a discussion on
            some possible effects of that on your system, see
            <a class="xref" href="installing.html#updating-yum-repo-client-lib" title="Upgrading the Shared Client Libraries">Upgrading the Shared Client Libraries</a>.
</p>
</div>
</li><li class="listitem">
<h4><a name="yum-repo-select-series"></a>Selecting a Release Series</h4>
<p>
          When using the MySQL Yum repository, the latest GA series
          (currently MySQL 5.7) is selected for installation by default.
          If this is what you want, you can skip to the next step,
          <a class="xref" href="installing.html#yum-repo-installing-mysql" title="Installing MySQL">Installing MySQL</a>.
        </p><p>
          Within the MySQL Yum repository, different release series of
          the MySQL Community Server are hosted in different
          subrepositories. The subrepository for the latest GA series
          (currently MySQL 5.7) is enabled by default, and the
          subrepositories for all other series (for example, the MySQL
          5.6 series) are disabled by default. Use this command to see
          all the subrepositories in the MySQL Yum repository, and see
          which of them are enabled or disabled (for dnf-enabled
          systems, replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist all | grep mysql</code></strong>
</pre><p>
          To install the latest release from the latest GA series, no
          configuration is needed. To install the latest release from a
          specific series other than the latest GA series, disable the
          subrepository for the latest GA series and enable the
          subrepository for the specific series before running the
          installation command. If your platform supports
          <span class="command"><strong>yum-config-manager</strong></span>, you can do that by
          issuing these commands, which disable the subrepository for
          the 5.7 series and enable the one for the 5.6 series:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable mysql57-community</code></strong>
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --enable mysql56-community</code></strong>
</pre><p>
          For dnf-enabled platforms:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dnf config-manager --disable mysql57-community</code></strong>
shell&gt; <strong class="userinput"><code>sudo dnf config-manager --enable mysql56-community</code></strong>
</pre><p>
          Besides using <span class="command"><strong>yum-config-manager</strong></span> or the
          <span class="command"><strong>dnf config-manager</strong></span> command, you can also
          select a release series by editing manually the
          <code class="filename">/etc/yum.repos.d/mysql-community.repo</code>
          file. This is a typical entry for a release series'
          subrepository in the file:
        </p><pre class="programlisting">
[mysql57-community]
name=MySQL 5.7 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</pre><p>
          Find the entry for the subrepository you want to configure,
          and edit the <code class="option">enabled</code> option. Specify
          <code class="option">enabled=0</code> to disable a subrepository, or
          <code class="option">enabled=1</code> to enable a subrepository. For
          example, to install MySQL 5.6, make sure you have
          <code class="option">enabled=0</code> for the above subrepository entry
          for MySQL 5.7, and have <code class="option">enabled=1</code> for the
          entry for the 5.6 series:
        </p><pre class="programlisting">
# Enable to use MySQL 5.6
[mysql56-community]
name=MySQL 5.6 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.6-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</pre><p>
          You should only enable subrepository for one release series at
          any time. When subrepositories for more than one release
          series are enabled, the latest series will be used by Yum.
        </p><p>
          Verify that the correct subrepositories have been enabled and
          disabled by running the following command and checking its
          output (for dnf-enabled systems, replace
          <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum repolist enabled | grep mysql</code></strong>
</pre></li><li class="listitem">
<h4><a name="yum-repo-installing-mysql"></a>Installing MySQL</h4>
<p>
          Install MySQL by the following command (for dnf-enabled
          systems, replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-server</code></strong>
</pre><p>
          This installs the package for MySQL server
          (<code class="filename">mysql-community-server</code>) and also
          packages for the components required to run the server,
          including packages for the client
          (<code class="filename">mysql-community-client</code>), the common
          error messages and character sets for client and server
          (<code class="filename">mysql-community-common</code>), and the shared
          client libraries (<code class="filename">mysql-community-libs</code>).
</p></li><li class="listitem">
<h4><a name="yum-repo-starting-and-stopping-server"></a>Starting the MySQL Server</h4>
<p>
          Start the MySQL server with the following command:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo service mysqld start</code></strong>
Starting mysqld:[ OK ]
</pre><p>
          You can check the status of the MySQL server with the
          following command:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo service mysqld status</code></strong>
mysqld (pid 3066) is running.
</pre></li></ol>
</div>
<p>
      At the initial start up of the server, the following happens,
      given that the data directory of the server is empty:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The server is initialized.
        </p></li><li class="listitem"><p>
          An SSL certificate and key files are generated in the data
          directory.
        </p></li><li class="listitem"><p>
          The <a class="link" href="security.html#validate-password-plugin" title="6.4.2 The Password Validation Plugin">validate_password
          plugin</a> is installed and enabled.
        </p></li><li class="listitem"><p>
          A superuser account <code class="literal">'root'@'localhost</code> is
          created. A password for the superuser is set and stored in the
          error log file. To reveal it, use the following command:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p>
          Change the root password as soon as possible by logging in
          with the generated, temporary password and set a custom
          password for the superuser account:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong> 
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            MySQL's
            <a class="link" href="security.html#validate-password-plugin" title="6.4.2 The Password Validation Plugin">validate_password</a>
            plugin is installed by default. This will require that
            passwords contain at least one upper case letter, one lower
            case letter, one digit, and one special character, and that
            the total password length is at least 8 characters.
</p>
</div>
</li></ul>
</div>
<p>
      For more information on the postinstallation procedures, see
      <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p><a name="yum-install-compatibility-el7"></a>
        <span class="emphasis"><em>Compatibility Information for EL7-based
        platforms:</em></span> The following RPM packages from the native
        software repositories of the platforms are incompatible with the
        package from the MySQL Yum repository that installs the MySQL
        server. Once you have installed MySQL using the MySQL Yum
        repository, you will not be able to install these packages (and
        vice versa).
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            akonadi-mysql
          </p></li><li class="listitem"><p>
            ocsinventory
</p></li></ul>
</div>

</div>
<h4><a name="yum-install-components"></a>Installing Additional MySQL Products and Components with Yum</h4>
<p>
      You can use Yum to install and manage individual components of
      MySQL. Some of these components are hosted in sub-repositories of
      the MySQL Yum repository: for example, the MySQL Connectors are to
      be found in the MySQL Connectors Community sub-repository, and the
      MySQL Workbench in MySQL Tools Community. You can use the
      following command to list the packages for all the MySQL
      components available for your platform from the MySQL Yum
      repository (for dnf-enabled systems, replace
      <span class="command"><strong>yum</strong></span> in the command with
      <span class="command"><strong>dnf</strong></span>):
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum --disablerepo=\* --enablerepo='mysql*-community*' list available</code></strong>
</pre><p>
      Install any packages of your choice with the following command,
      replacing <em class="replaceable"><code>package-name</code></em> with name of the
      package (for dnf-enabled systems, replace <span class="command"><strong>yum</strong></span>
      in the command with <span class="command"><strong>dnf</strong></span>):
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum install <em class="replaceable"><code>package-name</code></em></code></strong>
</pre><p>
      For example, to install MySQL Workbench on Fedora 22:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dnf install mysql-workbench-community</code></strong>
</pre><p>
      To install the shared client libraries (for dnf-enabled systems,
      replace <span class="command"><strong>yum</strong></span> in the command with
      <span class="command"><strong>dnf</strong></span>):
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-libs</code></strong>
</pre>
<h4><a name="idm140644216654432"></a>Updating MySQL with Yum</h4>
<p>
      Besides installation, you can also perform updates for MySQL
      products and components using the MySQL Yum repository. See
      <a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">Section 2.11.1.2, “Upgrading MySQL with the MySQL Yum Repository”</a> for details.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="replace-third-party-yum"></a>2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum
Repository</h3>
</div>
</div>
</div>
<a class="indexterm" name="idm140644216651264"></a><a class="indexterm" name="idm140644216650224"></a><p>
      For supported Yum-based platforms (see
      <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a>, for a list), you
      can replace a third-party distribution of MySQL with the latest GA
      release (from the MySQL 5.7 series currently)

      

      from the MySQL Yum repository. According to how your third-party
      distribution of MySQL was installed, there are different steps to
      follow:
</p>
<h4><a name="replace-third-party-yum-native"></a>Replacing a Native Third-Party Distribution of MySQL</h4>
<p>
      If you have installed a third-party distribution of MySQL from a
      native software repository (that is, a software repository
      provided by your own Linux distribution), follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="idm140644216644304"></a>Backing Up Your Database</h4>
<p>
          To avoid loss of data, always back up your database before
          trying to replace your MySQL installation using the MySQL Yum
          repository. See <a class="xref" href="backup-and-recovery.html" title="Chapter 7 Backup and Recovery">Chapter 7, <i>Backup and Recovery</i></a>, on how
          to back up your database.
</p></li><li class="listitem">
<h4><a name="idm140644216641760"></a>Adding the MySQL Yum Repository</h4>
<p>
          Add the MySQL Yum repository to your system's repository list
          by following the instructions given in
          <a class="xref" href="installing.html#yum-repo-setup" title="Adding the MySQL Yum Repository">Adding the MySQL Yum Repository</a>.
</p></li><li class="listitem">
<h4><a name="idm140644216639360"></a>Replacing the Native Third-Party Distribution by a Yum Update or a DNF
Upgrade</h4>
<p>
          By design, the MySQL Yum repository will replace your native,
          third-party MySQL with the latest GA release (from the MySQL
          5.7 series currently) from the MySQL Yum repository when you
          perform a <span class="command"><strong>yum update</strong></span> command (or
          <span class="command"><strong>dnf upgrade</strong></span> for dnf-enabled systems) on the
          system, or a <span class="command"><strong>yum update mysql-server</strong></span> (or
          <span class="command"><strong>dnf upgrade mysql-server</strong></span> for dnf-enabled
          systems).
</p></li></ol>
</div>
<p>
      After updating MySQL using the Yum repository, applications
      compiled with older versions of the shared client libraries should
      continue to work. However, <span class="emphasis"><em>if you want to recompile
      applications and dynamically link them with the updated
      libraries</em></span>, see
      <a class="xref" href="installing.html#updating-yum-repo-client-lib" title="Upgrading the Shared Client Libraries">Upgrading the Shared Client Libraries</a>, for some special
      considerations.
</p>
<h4><a name="replace-third-party-yum-nonnative"></a>Replacing a Nonnative Third-Party Distribution of MySQL</h4>
<p>
      If you have installed a third-party distribution of MySQL from a
      nonnative software repository (that is, a software repository not
      provided by your own Linux distribution), follow these steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h4><a name="idm140644216629936"></a>Backing Up Your Database</h4>
<p>
          To avoid loss of data, always back up your database before
          trying to replace your MySQL installation using the MySQL Yum
          repository. See <a class="xref" href="backup-and-recovery.html" title="Chapter 7 Backup and Recovery">Chapter 7, <i>Backup and Recovery</i></a>, on how
          to back up your database.
</p></li><li class="listitem">
<h4><a name="stop-third-party"></a>Stopping Yum from Receiving MySQL Packages from Third-Party, Nonnative
Repositories</h4>
<p>
          Before you can use the MySQL Yum repository for installing
          MySQL, you must stop your system from receiving MySQL packages
          from any third-party, nonnative Yum repositories.
        </p><p>
          For example, if you have installed MariaDB using their own
          software repository, get a list of the installed MariaDB
          packages using the following command (for dnf-enabled systems,
          replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum list installed mariadb\*</code></strong>
MariaDB-common.i686                      10.0.4-1                       @mariadb
MariaDB-compat.i686                      10.0.4-1                       @mariadb
MariaDB-server.i686                      10.0.4-1                       @mariadb
</pre><p>
          From the command output, we can identify the installed
          packages (<code class="literal">MariaDB-common</code>,
          <code class="literal">MariaDB-compat</code>, and
          <code class="literal">MariaDB-server</code>) and the source of them (a
          nonnative software repository named
          <code class="literal">mariadb</code>).
        </p><p>
          As another example, if you have installed Percona using their
          own software repository, get a list of the installed Percona
          packages using the following command (for dnf-enabled systems,
          replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum list installed Percona\*</code></strong>
Percona-Server-client-55.i686     5.5.39-rel36.0.el6          @percona-release-i386
Percona-Server-server-55.i686     5.5.39-rel36.0.el6          @percona-release-i386
Percona-Server-shared-55.i686     5.5.39-rel36.0.el6          @percona-release-i386
percona-release.noarch            0.1-3                       @/percona-release-0.1-3.noarch
</pre><p>
          From the command output, we can identify the installed
          packages (<code class="literal">Percona-Server-client</code>,
          <code class="literal">Percona-Server-server</code>,
          <code class="literal">Percona-Server-shared</code>, and
          <code class="literal">percona-release.noarch</code>) and the source of
          them (a nonnative software repository named
          <code class="literal">percona-release</code>).
        </p><p>
          If you are not sure which third-party MySQL fork you have
          installed, this command should reveal it and list the RPM
          packages installed for it, as well as the third-party
          repository that supplies the packages (for dnf-enabled
          systems, replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum --disablerepo=\* provides mysql\*</code></strong>
</pre><p>
          The next step is to stop Yum from receiving packages from the
          nonnative repository. If the
          <span class="command"><strong>yum-config-manager</strong></span> utility is supported on
          your platform, you can, for example, use this command for
          stopping delivery from MariaDB (on dnf-enabled systems, use
          the <span class="command"><strong>dnf config-manager</strong></span> command instead of
          <span class="command"><strong>yum-config-manager</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable mariadb</code></strong>
</pre><p>
          Use this command for stopping delivery from Percona (on
          dnf-enabled systems, use the <span class="command"><strong>dnf
          config-manager</strong></span> command instead of
          <span class="command"><strong>yum-config-manager</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable percona-release</code></strong>
</pre><p>
          You can perform the same task by removing the entry for the
          software repository existing in one of the repository files
          under the <code class="filename">/etc/yum.repos.d/</code> directory.
          This is how the entry typically looks for MariaDB:
        </p><pre class="programlisting">
[mariadb] name = MariaDB
 baseurl = <em class="replaceable"><code>[base URL for repository]</code></em>
 gpgkey = <em class="replaceable"><code>[URL for GPG key]</code></em>
 gpgcheck =1 
</pre><p>
          The entry is usually found in the file
          <code class="filename">/etc/yum.repos.d/MariaDB.repo</code> for
          MariaDB—delete the file, or remove entry from it (or
          from the file in which you find the entry).
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            This step is not necessary for an installation that was
            configured with a Yum repository release package (like
            Percona) if you are going to remove the release package
            (<code class="filename">percona-release.noarch</code> for Percona),
            as shown in the uninstall command for Percona in Step 3
            below.
</p>
</div>
</li><li class="listitem">
<h4><a name="idm140644216592960"></a>Uninstalling the Nonnative Third-Party MySQL Distribution of MySQL</h4>
<p>
          The nonnative third-party MySQL distribution must first be
          uninstalled before you can use the MySQL Yum repository to
          install MySQL. For the MariaDB packages found in Step 2 above,
          uninstall them with the following command (for dnf-enabled
          systems, replace <span class="command"><strong>yum</strong></span> in the command with
          <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum remove MariaDB-common MariaDB-compat MariaDB-server</code></strong>
</pre><p>
          For the Percona packages we found in Step 2 above (for
          dnf-enabled systems, replace <span class="command"><strong>yum</strong></span> in the
          command with <span class="command"><strong>dnf</strong></span>):
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum remove Percona-Server-client-55 Percona-Server-server-55 \
  Percona-Server-shared-55.i686 percona-release</code></strong>
</pre></li><li class="listitem">
<h4><a name="idm140644216584896"></a>Installing MySQL with the MySQL Yum Repository</h4>
<p>
          Then, install MySQL with the MySQL Yum repository by following
          the instructions given in
          <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a>: .
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
            If you have chosen to replace your third-party MySQL
            distribution with a newer version of MySQL from the MySQL
            Yum repository, remember to run
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> after the server starts, to
            check and possibly resolve any incompatibilities between the
            old data and the upgraded software.
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> also performs other
            functions; see <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a> for details.
          </p><p>
            <span class="emphasis"><em>For EL7-based platforms:</em></span> See
            <a class="xref" href="installing.html#yum-install-compatibility-el7">Compatibility Information for EL7-based platforms</a>.
</p>
</div>
</li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-apt-repo"></a>2.5.3 Installing MySQL on Linux Using the MySQL APT Repository</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644216575376"></a><a class="indexterm" name="idm140644216573888"></a><p>
      The MySQL APT repository provides <code class="filename">deb</code>
      packages for installing and managing the MySQL server, client, and
      other components on the following Linux platforms: :
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Debian 7.x (<span class="quote">“<span class="quote">wheezy</span>”</span>)
        </p></li><li class="listitem"><p>
          Debian 8.x (<span class="quote">“<span class="quote">jessie</span>”</span>)
        </p></li><li class="listitem"><p>
          Ubuntu 12.04 LTS (<span class="quote">“<span class="quote">Precise Pangolin</span>”</span>)
        </p></li><li class="listitem"><p>
          Ubuntu 14.04 LTS (<span class="quote">“<span class="quote">Trusty Tahr</span>”</span>)
        </p></li><li class="listitem"><p>
          Ubuntu 15.10 (<span class="quote">“<span class="quote">Wily Werewolf</span>”</span>)
</p></li></ul>
</div>
<p>
      Instructions for using the MySQL APT Repository are available in
      <a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A Quick
      Guide to Using the MySQL APT Repository</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-sles-repo"></a>2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644216561856"></a><a class="indexterm" name="idm140644216560368"></a><p>
      The MySQL SLES repository provides RPM packages for installing and
      managing the MySQL server, client, and other components on SUSE
      Enterprise Linux Server.
    </p><p>
      Instructions for using the MySQL SLES repository are available in
      <a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/" target="_top">A
      Quick Guide to Using the MySQL SLES Repository</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        The MySQL SLES repository is now in development release. We
        encourage you to try it and provide us with feedback. Please
        report any bugs or inconsistencies you observe to our
        <a class="ulink" href="http://bugs.mysql.com" target="_top">Bugs Database</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-rpm"></a>2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644216554480"></a><a class="indexterm" name="idm140644216553440"></a><a class="indexterm" name="idm140644216552368"></a><p>
      The recommended way to install MySQL on RPM-based Linux
      distributions is by using the RPM packages provided by Oracle.
      There are two sources for obtaining them, for the Community
      Edition of MySQL:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          From the MySQL software repositories:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              The MySQL Yum repository (see
              <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a> for
              details).
            </p></li><li class="listitem"><p>
              The MySQL SLES repository (see
              <a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository">Section 2.5.4, “Installing MySQL on Linux Using the MySQL SLES Repository”</a> for
              details).
</p></li></ul>
</div>
</li><li class="listitem"><p>
          From the <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">MySQL
          Downloads</a> page in the
          <a class="ulink" href="http://dev.mysql.com/" target="_top">MySQL Developer Zone</a>.
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
        RPM distributions of MySQL are also provided by other vendors.
        Be aware that they may differ from those built by Oracle in
        features, capabilities, and conventions (including communication
        setup), and that the installation instructions in this manual do
        not necessarily apply to them. The vendor's instructions should
        be consulted instead.
      </p><p>
        If you have such a third-party distribution of MySQL running on
        your system and now want to migrate to Oracle's distribution
        using the RPM packages downloaded from the MySQL Developer Zone,
        see <a class="xref" href="installing.html#linux-installing-rpm-compat" title="Compatibility with RPM Packages from Other Vendors">Compatibility with RPM Packages from Other Vendors</a> below. The
        preferred method of migration, however, is to use the
        <a class="link" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">MySQL Yum
        repository</a> or
        <a class="link" href="installing.html#linux-installation-sles-repo" title="2.5.4 Installing MySQL on Linux Using the MySQL SLES Repository">MySQL SLES
        repository</a>.
</p>
</div>
<p>
      RPM packages for MySQL are listed in the following tables:
</p>
<div class="table">
<a name="idm140644216538320"></a><p class="title"><b>Table 2.6 RPM Packages for MySQL Community Edition</b></p>
<div class="table-contents">
<table summary="RPM Packages for MySQL Community Edition" border="1"><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><th scope="col">Package Name</th><th scope="col">Summary</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql-community-server</code></td><td>Database server and related tools</td></tr><tr><td scope="row"><code class="literal">mysql-community-client</code></td><td>MySQL client applications and tools</td></tr><tr><td scope="row"><code class="literal">mysql-community-common</code></td><td>Common files for server and client libraries</td></tr><tr><td scope="row"><code class="literal">mysql-community-devel </code></td><td>Development header files and libraries for MySQL database client
              applications</td></tr><tr><td scope="row"><code class="literal">mysql-community-libs </code></td><td>Shared libraries for MySQL database client applications</td></tr><tr><td scope="row"><code class="literal">mysql-community-libs-compat</code></td><td>Shared compatibility libraries for previous MySQL installations</td></tr><tr><td scope="row"><code class="literal">mysql-community-embedded</code></td><td>MySQL embedded library</td></tr><tr><td scope="row"><code class="literal">mysql-community-embedded-devel</code></td><td>Development header files and libraries for MySQL as an embeddable
library</td></tr><tr><td scope="row"><code class="literal">mysql-community-test </code></td><td>Test suite for the MySQL server</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="idm140644216517648"></a><p class="title"><b>Table 2.7 RPM Packages for the MySQL Enterprise Edition</b></p>
<div class="table-contents">
<table summary="RPM Packages for the MySQL Enterprise Edition" border="1"><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><th scope="col">Package Name</th><th scope="col">Summary</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql-commercial-server</code></td><td>Database server and related tools</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-client</code></td><td>MySQL client applications and tools</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-common</code></td><td>Common files for server and client libraries</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-devel </code></td><td>Development header files and libraries for MySQL database client
              applications</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-libs </code></td><td>Shared libraries for MySQL database client applications</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-libs-compat</code></td><td>Shared compatibility libraries for previous MySQL installations</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-embedded</code></td><td>MySQL embedded library</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-embedded-devel</code></td><td>Development header files and libraries for MySQL as an embeddable
library</td></tr><tr><td scope="row"><code class="literal">mysql-commercial-test </code></td><td>Test suite for the MySQL server</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      Dependency relationships exist among some of the packages. If you
      plan to install many of the packages, you may wish to download the
      RPM bundle <span class="command"><strong>tar</strong></span> file instead, which contains all
      the RPM packages listed above, so that you need not download them
      separately.
    </p><p>
      The full names for the RPMs have the following syntax:
    </p><pre class="programlisting">
<em class="replaceable"><code>packagename</code></em>-<em class="replaceable"><code>version</code></em>-<em class="replaceable"><code>distribution</code></em>-<em class="replaceable"><code>arch</code></em>.rpm
</pre><p>
      The <em class="replaceable"><code>distribution</code></em> and
      <em class="replaceable"><code>arch</code></em> values indicate the Linux
      distribution and the processor type for which the package was
      built. See the table below for lists of the distribution
      identifiers:
</p>
<div class="table">
<a name="idm140644216491472"></a><p class="title"><b>Table 2.8 MySQL Linux RPM Package Distribution Identifiers</b></p>
<div class="table-contents">
<table summary="MySQL Linux RPM Package Distribution Identifiers" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">distribution Value</th><th scope="col">Intended Use</th></tr></thead><tbody><tr><td scope="row"><code class="literal">el5</code>, <code class="literal">el6</code>, <code class="literal">el7</code></td><td>Red Hat Enterprise Linux/Oracle Linux/CentOS 5, 6, or 7</td></tr><tr><td scope="row"><code class="literal">fc22</code>, <code class="literal">fc23</code></td><td>Fedora 22 or 23</td></tr><tr><td scope="row"><code class="literal">sles12</code></td><td>SUSE Linux Enterprise Server 12</td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      To see all files in an RPM package (for example,
      <code class="literal">mysql-community-server</code>), use the following
      command:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpm -qpl mysql-community-server-<em class="replaceable"><code>version</code></em>-<em class="replaceable"><code>distribution</code></em>-<em class="replaceable"><code>arch</code></em>.rpm</code></strong>
</pre><p>
      In most cases, you need to install the
      <code class="literal">mysql-community-server</code>,
      <code class="literal">mysql-community-client</code>,
      <code class="literal">mysql-community-libs</code>,
      <code class="literal">mysql-community-common</code>, and
      <code class="literal">mysql-community-libs-compat</code> to get a
      functional, standard MySQL installation. To perform such a
      standard, minimal installation, go to the folder that contains all
      those packages (and, preferably, no other RPM packages with
      similar names), and issue the following command for platforms
      <span class="emphasis"><em>other than</em></span> Red Hat Enterprise Linux/Oracle
      Linux/CentOS 5:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{server,client,common,libs}-* </code></strong> 
</pre><p>
      For Red Hat Enterprise Linux/Oracle Linux/CentOS 5 systems, there
      is an extra package
      (<strong class="userinput"><code>mysql-<em class="replaceable"><code>version</code></em>-el5-<em class="replaceable"><code>arch</code></em>.rpm</code></strong>)
      to be installed; use the following command:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{server,client,common,libs}-* mysql-5.* </code></strong> 
</pre><p>
      Replace <span class="command"><strong>yum</strong></span> with <span class="command"><strong>zypper</strong></span> for
      SLES systems, and with <span class="command"><strong>dnf</strong></span> for dnf-enabled
      systems (like Fedora 22).
    </p><p>
      While it is much preferable to use a high-level package management
      tool like <span class="command"><strong>yum</strong></span> to install the packages, users
      who prefer direct <span class="command"><strong>rpm</strong></span> commands can replace the
      <span class="command"><strong>yum install</strong></span> command with the <span class="command"><strong>rpm
      -Uvh</strong></span> command; however, using <span class="command"><strong>rpm -Uvh</strong></span>
      instead makes the installation process more prone to failure, due
      to potential dependency issues the installation process might run
      into.
    </p><p>
      To install only the client programs, you can skip
      <code class="literal">mysql-community-server</code> in your list of packages
      to install; issue the following command for platforms
      <span class="emphasis"><em>other than</em></span> Red Hat Enterprise Linux/Oracle
      Linux/CentOS 5:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{client,common,libs}-* </code></strong> 
</pre><p>
      For Red Hat Enterprise Linux/Oracle Linux/CentOS 5 systems:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{client,common,libs}-* mysql-5.* </code></strong> 
</pre><p>
      A standard installation of MySQL using the RPM packages result in
      files and resources created under the system directories, shown in
      the following table.
</p>
<div class="table">
<a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b>Table 2.9 MySQL Installation Layout for Linux RPM Packages from the MySQL
Developer Zone</b></p>
<div class="table-contents">
<table summary="MySQL Installation Layout for Linux RPM Packages from the MySQL
        Developer Zone" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Files or Resources</th><th scope="col">Location</th></tr></thead><tbody><tr><td scope="row">Client programs and scripts</td><td><code class="filename">/usr/bin</code></td></tr><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server</td><td><code class="filename">/usr/sbin</code></td></tr><tr><td scope="row">Configuration file</td><td><code class="filename">/etc/my.cnf</code></td></tr><tr><td scope="row">Data directory</td><td><code class="filename">/var/lib/mysql</code></td></tr><tr><td scope="row">Error log file</td><td><p>
                For RHEL, Oracle Linux, CentOS or Fedora platforms:
                <code class="filename">/var/log/mysqld.log</code>
              </p>



              <p>
                For SLES: <code class="filename">/var/log/mysql/mysqld.log</code>
              </p></td></tr><tr><td scope="row">Value of <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a></td><td><code class="filename">/var/lib/mysql-files</code></td></tr><tr><td scope="row">System V init script</td><td><p>
                For RHEL, Oracle Linux, CentOS or Fedora platforms:
                <code class="filename">/etc/init.d/mysqld</code>
              </p>



              <p>
                For SLES: <code class="filename">/etc/init.d/mysql</code>
              </p></td></tr><tr><td scope="row">Systemd service</td><td><p>
                For RHEL, Oracle Linux, CentOS or Fedora platforms:
                <code class="filename">mysqld</code>
              </p>



              <p>
                For SLES: <code class="filename">mysql</code>
              </p></td></tr><tr><td scope="row">Pid file</td><td><code class="filename"> /var/run/mysql/mysqld.pid</code></td></tr><tr><td scope="row">Socket</td><td><code class="filename">/var/lib/mysql/mysql.sock</code></td></tr><tr><td scope="row">Keyring directory</td><td><code class="filename">/var/lib/mysql-keyring</code></td></tr><tr><td scope="row">Unix manual pages</td><td><code class="filename">/usr/share/man</code></td></tr><tr><td scope="row">Include (header) files</td><td><code class="filename">/usr/include/mysql</code></td></tr><tr><td scope="row">Libraries</td><td><code class="filename">/usr/lib/mysql</code></td></tr><tr><td scope="row">Miscellaneous support files (for example, error messages, and character
set files)</td><td><code class="filename">/usr/share/mysql</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      The installation also creates a user named
      <code class="literal">mysql</code> and a group named
      <code class="literal">mysql</code> on the system.
    </p><p>
      MySQL is NOT automatically started at the end of the installation
      process. Use the following command to start MySQL:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>service mysqld start</code></strong>
</pre><p>
      If the operating system is systemd enabled, standard
      <span class="command"><strong>service</strong></span> commands such as
      <span class="command"><strong>stop</strong></span>, <span class="command"><strong>start</strong></span>,
      <span class="command"><strong>status</strong></span> and <span class="command"><strong>restart</strong></span> should be
      used to manage the MySQL server service. The
      <code class="literal">mysqld</code> service is enabled by default, and it
      starts on system reboot. Notice that certain things might work
      differently on systemd platforms: for example, changing the
      location of the data directory might cause issues. See
      <a class="xref" href="installing.html#server-management-using-systemd" title="2.5.10 Managing MySQL Server with systemd">Section 2.5.10, “Managing MySQL Server with systemd”</a> for additional
      information.
    </p><p>
      At the initial start up of the server, the following happens,
      given that the data directory of the server is empty:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The server is initialized.
        </p></li><li class="listitem"><p>
          An SSL certificate and key files are generated in the data
          directory.
        </p></li><li class="listitem"><p>
          The <a class="link" href="security.html#validate-password-plugin" title="6.4.2 The Password Validation Plugin">validate_password
          plugin</a> is installed and enabled.
        </p></li><li class="listitem"><p>
          A superuser account <code class="literal">'root'@'localhost'</code> is
          created. A password for the superuser is set and stored in the
          error log file. To reveal it, use the following command for
          RHEL, Oracle Linux, CentOS, and Fedora platform:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p>
          Use the following command for SLES platform:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>grep 'temporary password' /var/log/mysql/mysqld.log</code></strong>
</pre><p>
          The next step is to log in with the generated, temporary
          password and set a custom password for the superuser account:
</p></li></ul>
</div>
<pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong> 
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        MySQL's
        <a class="link" href="security.html#validate-password-plugin" title="6.4.2 The Password Validation Plugin">validate_password</a>
        plugin is installed by default. This will require that passwords
        contain at least one upper case letter, one lower case letter,
        one digit, and one special character, and that the total
        password length is at least 8 characters.
</p>
</div>
<p>
      If something goes wrong during installation, you might find debug
      information in the error log file
      <code class="filename">/var/log/mysqld.log</code>.
    </p><p><a name="linux-installing-rpm-compat"></a><b>Compatibility with RPM Packages from Other Vendors. </b>
        If you have installed packages for MySQL from your Linux
        distribution's local software repository, it is much preferable
        to install the new, directly-downloaded packages from Oracle
        using the package management system of your platform
        (<span class="command"><strong>yum</strong></span>, <span class="command"><strong>dnf</strong></span>, or
        <span class="command"><strong>zypper</strong></span>), as described above. The command
        replaces old packages with new ones to ensure compatibility of
        old applications with the new installation; for example, the old
        <code class="literal">mysql-libs</code> package is replaced with the
        <code class="literal">mysql-community-libs-compat</code> package, which
        provides a replacement-compatible client library for
        applications that were using your older MySQL installation. If
        there was an older version of
        <code class="literal">mysql-community-libs-compat</code> on the system, it
        also gets replaced.
      </p><p>
      If you have installed third-party packages for MySQL that are NOT
      from your Linux distribution's local software repository (for
      example, packages directly downloaded from a vendor other than
      Oracle), you should uninstall all those packages before installing
      the new, directly-downloaded packages from Oracle. This is because
      conflicts may arise between those vendor's RPM packages and
      Oracle's: for example, a vendor's convention about which files
      belong with the server and which belong with the client library
      may differ from that used for Oracle packages. Attempts to install
      an Oracle RPM may then result in messages saying that files in the
      RPM to be installed conflict with files from an installed package.
    </p><p><b>Debug Package. </b>
        A special variant of MySQL Server compiled with the
        <a class="link" href="extending-mysql.html#dbug-package" title="25.5.3 The DBUG Package">debug package</a> has been
        included in the server RPM packages. It performs debugging and
        memory allocation checks and produces a trace file when the
        server is running. To use that debug version, start MySQL with
        <code class="filename">/usr/sbin/mysqld-debug</code>, instead of starting
        it as a service or with <code class="filename">/usr/sbin/mysqld</code>.
        See <a class="xref" href="extending-mysql.html#dbug-package" title="25.5.3 The DBUG Package">Section 25.5.3, “The DBUG Package”</a> for the debug options you can
        use.
      </p><p><b>Rebuilding RPMs from source SRPMs. </b>
        Source code SRPM packages for MySQL are available for download.
        They can be used as-is to rebuild the MySQL RPMs with the
        standard <span class="command"><strong>rpmbuild</strong></span> tool chain.
      </p><p><b><code class="literal">root</code> passwords for pre-GA releases. </b>
        <a class="indexterm" name="idm140644216376096"></a>

        For MySQL 5.7.4 and 5.7.5, the initial random
        <code class="literal">root</code> password is written to the
        <code class="filename">.mysql_secret</code> file in the directory named
        by the <code class="literal">HOME</code> environment variable. When trying
        to access the file, bear in mind that depending on operating
        system, using a command such as <span class="command"><strong>sudo</strong></span> may
        cause the value of <code class="literal">HOME</code> to refer to the home
        directory of the <code class="literal">root</code> system user

        

        . <code class="filename">.mysql_secret</code> is created with mode 600 to
        be accessible only to the system user for whom it is created.
        Before MySQL 5.7.4, the accounts (including
        <code class="literal">root</code>) created in the MySQL grant tables for
        an RPM installation initially have no passwords; after starting
        the server, you should assign passwords to them using the
        instructions in <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>."
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-debian"></a>2.5.6 Installing MySQL on Linux Using Debian Packages from Oracle</h3>

</div>

</div>

</div>
<p>
      Oracle provides Debian packages for installing MySQL on Debian or
      Debian-like Linux systems. The packages are available through two
      different channels:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT
          Repository</a>. This is the preferred method for
          installing MySQL on Debian-like systems, as it provides a
          simple and convenient way to install and update MySQL
          products. For details, see
          <a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 Installing MySQL on Linux Using the MySQL APT Repository">Section 2.5.3, “Installing MySQL on Linux Using the MySQL APT Repository”</a>.
        </p></li><li class="listitem"><p>
          The <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">MySQL Developer Zone's
          Download Area</a>. For details, see
          <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>. The following are some
          information on the Debian packages available there and the
          instructions for installing them:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Various Debian packages are provided in the MySQL
              Developer Zone for installing different components of
              MySQL on different Debian or Ubuntu platforms (currently,
              Debian 7 and 8, and Ubuntu 12, 14, and 15 are supported).
              The preferred method is to use the tarball bundle, which
              contains the packages needed for a basic setup of MySQL.
              The tarball bundles have names in the format of
              <code class="filename">mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code>.
              <em class="replaceable"><code>MVER</code></em> is the MySQL version and
              <em class="replaceable"><code>DVER</code></em> is the Linux distribution
              version. The <em class="replaceable"><code>CPU</code></em> value
              indicates the processor type or family for which the
              package is built, as shown in the following table:
</p>
<div class="table">
<a name="idm140644216355424"></a><p class="title"><b>Table 2.10 MySQL Debian and Ubuntu Installation Packages CPU Identifiers</b></p>
<div class="table-contents">
<table summary="MySQL Debian and Ubuntu Installation Packages CPU Identifiers" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><em class="replaceable"><code>CPU</code></em> Value</th><th scope="col">Intended Processor Type or Family</th></tr></thead><tbody><tr><td scope="row"><code class="literal">i386</code></td><td>Pentium processor or better, 32 bit</td></tr><tr><td scope="row"><code class="literal">amd64</code></td><td>64-bit x86 processor</td></tr></tbody></table>
</div>

</div>
<br class="table-break"></li><li class="listitem"><p>
              After downloading the tarball, unpack it with the
              following command:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar -xvf mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code></strong>
</pre></li><li class="listitem"><p>
              <a class="indexterm" name="idm140644216343248"></a>

              You may need to install the <code class="literal">libaio</code>
              library if it is not already present on your system:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo apt-get install libaio1</code></strong>
</pre></li><li class="listitem"><p>
              Preconfigure the MySQL server package with the following
              command:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dpkg-preconfigure mysql-community-server_*.deb</code></strong>
</pre><p>
              You will be asked to provide a password for the root user
              for your MySQL installation. You might also be asked other
              questions regarding the installation.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
                Make sure you remember the root password you set. Users
                who want to set a password later can leave the
                <span class="guilabel">password</span> field blank in the
                dialogue box and just press <span class="guibutton">OK</span>;
                in that case, root access to the server is authenticated
                using the
                <a class="link" href="security.html#socket-authentication-plugin" title="6.4.1.9 The Socket Peer-Credential Authentication Plugin">MySQL
                Socket Peer-Credential Authentication Plugin</a> for
                connections using a Unix socket file. You can set the
                root password later using
                <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>.
</p>
</div>
</li><li class="listitem"><p>
              For a basic installation of the MySQL server, install the
              database common files package, the client package, the
              client metapackage, the server package, and the server
              metapackage (in that order); you can do that with a single
              command:
            </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo dpkg -i mysql-{common,community-client,client,community-server,server}_*.deb</code></strong>
</pre><p>
              If you are being warned of unmet dependencies by
              <span class="command"><strong>dpkg</strong></span>, you can fix them using
              <span class="command"><strong>apt-get</strong></span>:
            </p><pre class="programlisting"><strong class="userinput"><code>sudo apt-get -f install</code></strong></pre><p>
              Here are where the files are installed on the system:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  All configuration files (like
                  <code class="filename">my.cnf</code>) are under
                  <code class="filename">/etc/mysql</code>
                </p></li><li class="listitem"><p>
                  All binaries, libraries, headers, etc., are under
                  <code class="filename">/usr/bin</code> and
                  <code class="filename">/usr/sbin</code>
                </p></li><li class="listitem"><p>
                  The data directory is under
                  <code class="filename">/var/lib/mysql</code>
</p></li></ul>
</div>
</li></ul>
</div>
</li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
        Debian distributions of MySQL are also provided by other
        vendors. Be aware that they may differ from those built by
        Oracle in features, capabilities, and conventions (including
        communication setup), and that the instructions in this manual
        do not necessarily apply to installing them. The vendor's
        instructions should be consulted instead.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-native"></a>2.5.7 Installing MySQL on Linux from the Native Software Repositories</h3>

</div>

</div>

</div>
<p>
      Many Linux distributions include a version of the MySQL server,
      client tools, and development components in their native software
      repositories and can be installed with the platforms' standard
      package management systems. This section provides basic
      instructions for installing MySQL using those package management
      systems.
</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
        Native packages are often several versions behind the currently
        available release. You will also normally be unable to install
        development milestone releases (DMRs), as these are not usually
        made available in the native repositories. Before proceeding, we
        recommend that you check out the other installation options
        described in <a class="xref" href="installing.html#linux-installation" title="2.5 Installing MySQL on Linux">Section 2.5, “Installing MySQL on Linux”</a>.
</p>
</div>
<p>
      Distribution specific instructions are shown below:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Red Hat Linux, Fedora, CentOS</strong></span>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            For EL5, EL6, or EL7-based Linux platforms and Fedora 22 or
            23, you can install MySQL using the MySQL Yum repository
            instead of the platform's native software repository. See
            <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a> for details.
</p>
</div>
<p>
          For Red Hat and similar distributions, the MySQL distribution
          is divided into a number of separate packages,
          <code class="literal">mysql</code> for the client tools,
          <code class="literal">mysql-server</code> for the server and associated
          tools, and <code class="literal">mysql-libs</code> for the libraries.
          The libraries are required if you want to provide connectivity
          from different languages and environments such as Perl, Python
          and others.
        </p><p>
          To install, use the <span class="command"><strong>yum</strong></span> command to specify
          the packages that you want to install. For example:
        </p><pre class="programlisting">
root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server
Loaded plugins: presto, refresh-packagekit
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
--&gt; Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
--&gt; Running transaction check
---&gt; Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 mysql                 x86_64        5.1.48-2.fc13         updates        889 k
 mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
 mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
Installing for dependencies:
 perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

Transaction Summary
================================================================================
Install       4 Package(s)
Upgrade       0 Package(s)

Total download size: 10 M
Installed size: 30 M
Is this ok [y/N]: y
Downloading Packages:
Setting up and reading Presto delta metadata
Processing delta metadata
Package(s) data still to download: 10 M
(1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04
(2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06
(3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40
(4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00
--------------------------------------------------------------------------------
Total                                           201 kB/s |  10 MB     00:52
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4
  Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4
  Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4
  Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4

Installed:
  mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13
  mysql-server.x86_64 0:5.1.48-2.fc13

Dependency Installed:
  perl-DBD-MySQL.x86_64 0:4.017-1.fc13

Complete!
</pre><p>
          MySQL and the MySQL server should now be installed. A sample
          configuration file is installed into
          <code class="filename">/etc/my.cnf</code>. An init script, to start and
          stop the server, will have been installed into
          <code class="filename">/etc/init.d/mysqld</code>. To start the MySQL
          server use <span class="command"><strong>service</strong></span>:
        </p><pre class="programlisting">
root-shell&gt; service mysqld start
</pre><p>
          To enable the server to be started and stopped automatically
          during boot, use <span class="command"><strong>chkconfig</strong></span>:
        </p><pre class="programlisting">
root-shell&gt; chkconfig --levels 235 mysqld on
</pre><p>
          Which enables the MySQL server to be started (and stopped)
          automatically at the specified the run levels.
        </p><p>
          The database tables will have been automatically created for
          you, if they do not already exist. You should, however, run
          <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> to set the root
          passwords on your server.
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Debian, Ubuntu, Kubuntu</strong></span>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            For Debian 7 and 8, and Ubuntu 12, 14, and 15, MySQL can be
            installed using the
            <a class="ulink" href="http://dev.mysql.com/downloads/repo/apt/" target="_top">MySQL APT
            Repository</a> instead of the platform's native software
            repository. See
            <a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 Installing MySQL on Linux Using the MySQL APT Repository">Section 2.5.3, “Installing MySQL on Linux Using the MySQL APT Repository”</a> for details.
</p>
</div>
<p>
          On Debian and related distributions, there are two packages
          for MySQL in their software repositories,
          <code class="literal">mysql-client</code> and
          <code class="literal">mysql-server</code>, for the client and server
          components respectively. You should specify an explicit
          version, for example <code class="literal">mysql-client-5.1</code>, to
          ensure that you install the version of MySQL that you want.
        </p><p>
          To download and install, including any dependencies, use the
          <span class="command"><strong>apt-get</strong></span> command, specifying the packages
          that you want to install.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Before installing, make sure that you update your
            <code class="literal">apt-get</code> index files to ensure you are
            downloading the latest available version.
</p>
</div>
<p>
          A sample installation of the MySQL packages might look like
          this (some sections trimmed for clarity):
        </p><pre class="programlisting">
root-shell&gt; apt-get install mysql-client-5.1 mysql-server-5.1
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages were automatically installed and are no longer required:
  linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic
Use 'apt-get autoremove' to remove them.
The following extra packages will be installed:
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-common postfix
Suggested packages:
  dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql
  postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb
The following NEW packages will be installed
  bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
  libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
  mysql-client-5.1 mysql-common mysql-server-5.1 postfix
0 upgraded, 13 newly installed, 0 to remove and 182 not upgraded.
Need to get 1907kB/25.3MB of archives.
After this operation, 59.5MB of additional disk space will be used.
Do you want to continue [Y/n]? Y
Get: 1 http://gb.archive.ubuntu.com jaunty-updates/main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]
Get: 2 http://gb.archive.ubuntu.com jaunty-updates/main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]
Fetched 1907kB in 9s (205kB/s)
Preconfiguring packages ...
Selecting previously deselected package mysql-common.
(Reading database ... 121260 files and directories currently installed.)
...
Processing 1 added doc-base file(s)...
Registering documents with scrollkeeper...
Setting up libnet-daemon-perl (0.43-1) ...
Setting up libplrpc-perl (0.2020-1) ...
Setting up libdbi-perl (1.607-1) ...
Setting up libmysqlclient15off (5.1.30really5.0.75-0ubuntu10.5) ...

Setting up libdbd-mysql-perl (4.008-1) ...
Setting up libmysqlclient16 (5.1.31-1ubuntu2) ...

Setting up mysql-client-5.1 (5.1.31-1ubuntu2) ...

Setting up mysql-server-5.1 (5.1.31-1ubuntu2) ...
 * Stopping MySQL database server mysqld
   ...done.
2013-09-24T13:03:09.048353Z 0 [Note] InnoDB: 5.7.13 started; log sequence number 1566036
2013-09-24T13:03:10.057269Z 0 [Note] InnoDB: Starting shutdown...
2013-09-24T13:03:10.857032Z 0 [Note] InnoDB: Shutdown completed; log sequence number 1566036
 * Starting MySQL database server mysqld
   ...done.
 * Checking for corrupt, not cleanly closed and upgrade needing tables.
...
Processing triggers for libc6 ...
ldconfig deferred processing now taking place
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            The <span class="command"><strong>apt-get</strong></span> command will install a number
            of packages, including the MySQL server, in order to provide
            the typical tools and application environment. This can mean
            that you install a large number of packages in addition to
            the main MySQL package.
</p>
</div>
<p>
          During installation, the initial database will be created, and
          you will be prompted for the MySQL root password (and
          confirmation). A configuration file will have been created in
          <code class="filename">/etc/mysql/my.cnf</code>. An init script will
          have been created in <code class="filename">/etc/init.d/mysql</code>.
        </p><p>
          The server will already be started. You can manually start and
          stop the server using:
        </p><pre class="programlisting">
root-shell&gt; service mysql [start|stop]
</pre><p>
          The service will automatically be added to the 2, 3 and 4 run
          levels, with stop scripts in the single, shutdown and restart
          levels.

          
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-docker"></a>2.5.8 Installing MySQL on Linux with docker</h3>

</div>

</div>

</div>
<p>
      The docker deployment framework supports easy installation and
      configuration of MySQL servers. For instructions, see
      <a class="ulink" href="https://hub.docker.com/r/mysql/mysql-server/" target="_top">https://hub.docker.com/r/mysql/mysql-server/</a>. This
      page also provides extensive documentation about using MySQL under
      docker.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="linux-installation-juju"></a>2.5.9 Installing MySQL on Linux with juju</h3>

</div>

</div>

</div>
<p>
      The juju deployment framework supports easy installation and
      configuration of MySQL servers. For instructions, see
      <a class="ulink" href="https://jujucharms.com/mysql/" target="_top">https://jujucharms.com/mysql/</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="server-management-using-systemd"></a>2.5.10 Managing MySQL Server with systemd</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644216262752"></a><p>
      As of MySQL 5.7.6, if you install MySQL using an RPM distribution
      on the following Linux platforms, server startup and shutdown is
      managed by systemd:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Red Hat Enterprise Linux 7, Oracle Linux 7, CentOS 7
        </p></li><li class="listitem"><p>
          SUSE Linux Enterprise Server 12
        </p></li><li class="listitem"><p>
          Fedora 22 and 23
</p></li></ul>
</div>
<p>
      To obtain systemd support if you install from a source
      distribution, configure the distribution using the
      <a class="link" href="installing.html#option_cmake_with_systemd"><code class="option">-DWITH_SYSTEMD=1</code></a>
      <span class="command"><strong>CMake</strong></span> option.
    </p><p>
      systemd provides automatic server startup and shutdown. It also
      enables manual server management using the
      <span class="command"><strong>systemctl</strong></span> command. For example:
    </p><pre class="programlisting">
systemctl {start|stop|restart|status} mysqld
</pre><p>
      Alternatively, use the <span class="command"><strong>service</strong></span> command (with
      the arguments reversed), which is compatible with System V
      systems:
    </p><pre class="programlisting">
service mysqld {start|stop|restart|status}
</pre><p>
      For the <span class="command"><strong>systemctl</strong></span> or <span class="command"><strong>service</strong></span>
      commands, if the MySQL service name is not
      <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, use the appropriate name (for example,
      <code class="literal">mysql</code> on SLES systems).
    </p><p>
      Support for systemd includes these files:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">mysqld.service</code>: systemd service unit
          configuration, with details about the
          <code class="literal">mysqld</code> service.
        </p></li><li class="listitem"><p>
          <code class="filename">mysqld.tmpfiles.d</code>: File containing
          information to support the <code class="literal">tmpfiles</code>
          feature. This file is installed under the name
          <code class="filename">mysql.conf</code>.
        </p></li><li class="listitem"><p>
          <code class="filename">mysqld_pre_systemd</code>: Support script for
          the unit file.
</p></li></ul>
</div>
<p>
      On platforms for which systemd support is installed, scripts such
      as <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> and the System V initialization
      script are not installed because they are unnecessary. For
      example, <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> can handle server
      restarts, but systemd provides the same capability, and does so in
      a manner consistent with management of other services rather than
      using an application-specific program.
</p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="systemd-mysql-configuration"></a>Configuring MySQL Using systemd</h4>
</div>
</div>
</div>
<p>
        To add or change systemd options for MySQL, these methods are
        available:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Use a localized systemd configuration file.
          </p></li><li class="listitem"><p>
            Arrange for systemd to set environment variables for the
            MySQL server process.
          </p></li><li class="listitem"><p>
            Set the <code class="literal">MYSQLD_OPTS</code> systemd variable.
</p></li></ul>
</div>
<p>
        To use a localized systemd configuration file, create the
        <code class="filename">/etc/systemd/system/mysqld.service.d</code>
        directory if it does not exist. In that directory, create a file
        that contains a <code class="literal">[Service]</code> section listing the
        desired settings. For example:
      </p><pre class="programlisting">
[Service]
LimitNOFILE=<em class="replaceable"><code>max_open_files</code></em>
PIDFile=<em class="replaceable"><code>/path/to/pid/file</code></em>
Nice=<em class="replaceable"><code>nice_level</code></em>
LimitCore=<em class="replaceable"><code>core_file_limit</code></em>
Environment="LD_PRELOAD=<em class="replaceable"><code>/path/to/malloc/library</code></em>"
Environment="TZ=<em class="replaceable"><code>time_zone_setting</code></em>"
</pre><p>
        The discussion here uses <code class="filename">override.conf</code> as
        the name of this file. Newer versions of systemd support the
        following command, which opens an editor and permits you to edit
        the file:
      </p><pre class="programlisting">
systemctl edit mysqld
</pre><p>
        Whenever you create or change
        <code class="filename">override.conf</code>, reload the systemd
        configuration, then tell systemd to restart the MySQL service:
      </p><pre class="programlisting">
systemctl daemon-reload
systemctl restart mysqld
</pre><p>
        Support for configuration using
        <code class="filename">override.conf</code> was added in MySQL 5.7.7.
      </p><p>
        With systemd, the <code class="filename">override.conf</code>
        configuration method must be used for certain parameters, rather
        than settings in a <code class="literal">[mysqld_safe]</code> or
        <code class="literal">[mysqld]</code> group in a MySQL option file:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            For some parameters, <code class="filename">override.conf</code> must
            be used because systemd itself must know their values and it
            cannot read MySQL option files to get them.
          </p></li><li class="listitem"><p>
            Parameters that specify values otherwise settable only using
            options known to <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> must be
            specified using systemd because there is no corresponding
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> parameter.
</p></li></ul>
</div>
<p>
        For additional information about using systemd rather than
        <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, see
        <a class="xref" href="installing.html#mysqld-safe-to-systemd-migration" title="Migrating from mysqld_safe to systemd">Migrating from mysqld_safe to systemd</a>.
      </p><p>
        You can set the following parameters in
        <code class="filename">override.conf</code>:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            To specify the process ID file:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                As of MySQL 5.7.10: Use
                <code class="filename">override.conf</code> and change both
                <code class="literal">PIDFile</code> and
                <code class="literal">ExecStart</code> to name the PID file path
                name. Any setting of the process ID file in MySQL option
                files will be ignored.
              </p></li><li class="listitem"><p>
                Before MySQL 5.7.10: Use <code class="literal">PIDFile</code> in
                <code class="filename">override.conf</code> rather than the
                <a class="link" href="programs.html#option_mysqld_safe_pid-file"><code class="option">--pid-file</code></a> option
                for <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> or
                <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. systemd must know the PID
                file location so that it can restart or stop the server.
                If the PID file value is specified in a MySQL option
                file, the value must match the
                <code class="literal">PIDFile</code> value or MySQL startup may
                fail.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            To set the number of file descriptors available to the MySQL
            server, use <code class="literal">LimitNOFILE</code> in
            <code class="filename">override.conf</code> rather than the
            <a class="link" href="programs.html#option_mysqld_safe_open-files-limit"><code class="option">--open-files-limit</code></a>
            option for <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> or
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p></li><li class="listitem"><p>
            To set the maximum core file size, use
            <code class="literal">LimitCore</code> in
            <code class="filename">override.conf</code> rather than the
            <a class="link" href="programs.html#option_mysqld_safe_core-file-size"><code class="option">--core-file-size</code></a> option
            for <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>.
          </p></li><li class="listitem"><p>
            To set the scheduling priority for the MySQL server, use
            <code class="literal">Nice</code> in
            <code class="filename">override.conf</code> rather than the
            <a class="link" href="programs.html#option_mysqld_safe_nice"><code class="option">--nice</code></a> option for
            <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>.
</p></li></ul>
</div>
<p>
        Some MySQL parameters are configured using environment
        variables:
</p><a class="indexterm" name="idm140644216181376"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">LD_PRELOAD</code>: Set this variable if the
            MySQL server should use a specific memory-allocation
            library.
          </p></li><li class="listitem"><p>
            <code class="literal">TZ</code>: Set this variable to specify the
            default time zone for the server.
</p></li></ul>
</div>
<p>
        There are multiple ways to specify the value of environment
        values that should be in effect for the MySQL server process
        managed by systemd:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Use <code class="literal">Environment</code> lines in the
            <code class="filename">override.conf</code> file. For the syntax, see
            the example in the preceding discussion that describes how
            to use this file.
          </p></li><li class="listitem"><p>
            Specify the values in the
            <code class="filename">/etc/sysconfig/mysql</code> file (create the
            file if it does not exist). Assign values using the
            following syntax:
          </p><pre class="programlisting">
LD_PRELOAD=<em class="replaceable"><code>/path/to/malloc/library</code></em>
TZ=<em class="replaceable"><code>time_zone_setting</code></em>
</pre><p>
            After modifying <code class="filename">/etc/sysconfig/mysql</code>,
            restart the server to make the changes effective:
          </p><pre class="programlisting">
systemctl restart mysqld
</pre></li></ul>
</div>
<p>
        To specify options for <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> without
        modifying systemd configuration files directly, set or unset the
        <code class="literal">MYSQLD_OPTS</code> systemd variable. For example:
      </p><pre class="programlisting">
systemctl set-environment MYSQLD_OPTS="--general_log=1"
systemctl unset-environment MYSQLD_OPTS
</pre><p>
        After modifying the systemd environment, restart the server to
        make the changes effective:
      </p><pre class="programlisting">
systemctl restart mysqld
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysqld-safe-to-systemd-migration"></a>Migrating from mysqld_safe to systemd</h4>

</div>

</div>

</div>
<p>
        Because <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> is not installed when
        systemd is used, options previously specified for that program
        (for example, in an <code class="literal">[mysqld_safe]</code> option
        group) must be specified another way:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Some <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> options are also
            understood by <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> and can be moved
            from the <code class="literal">[mysqld_safe]</code> option group to
            the <code class="literal">[mysqld]</code> group. This does
            <span class="emphasis"><em>not</em></span> include <code class="option">--pid-file</code>
            or <code class="option">--open-files-limit</code>. To specify those
            options, use the <code class="filename">override.conf</code> systemd
            file, described previously.
          </p></li><li class="listitem"><p>
            For some <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> options, there are
            similar <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options. For example, the
            <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> option for enabling
            <code class="literal">syslog</code> logging is
            <a class="link" href="programs.html#option_mysqld_safe_syslog"><code class="option">--syslog</code></a>. For
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, enable the
            <a class="link" href="server-administration.html#sysvar_log_syslog"><code class="literal">log_syslog</code></a> system variable
            instead. For details, see <a class="xref" href="server-administration.html#error-log" title="5.2.2 The Error Log">Section 5.2.2, “The Error Log”</a>.
          </p></li><li class="listitem"><p>
            <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> options not understood by
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> can be specified in
            <code class="filename">override.conf</code> or environment variables.
            For example, with <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, if the
            server should use a specific memory allocation library, this
            is specified using the
            <a class="link" href="programs.html#option_mysqld_safe_malloc-lib"><code class="option">--malloc-lib</code></a> option. For
            installations that manage the server with systemd, arrange
            to set the <code class="literal">LD_PRELOAD</code> environment
            variable instead, as described previously.
</p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="uln-installation"></a>2.6 Installing MySQL Using Unbreakable Linux Network (ULN)</h2>

</div>

</div>

</div>
<p>
    Linux supports a number of different solutions for installing MySQL,
    covered in <a class="xref" href="installing.html#linux-installation" title="2.5 Installing MySQL on Linux">Section 2.5, “Installing MySQL on Linux”</a>. One of the methods,
    covered in this section, is installing from Oracle's Unbreakable
    Linux Network (ULN). You can find information about Oracle Linux and
    ULN under <a class="ulink" href="http://linux.oracle.com/" target="_top">http://linux.oracle.com/</a>.
  </p><p>
    To use ULN, you need to obtain a ULN login and register the machine
    used for installation with ULN. This is described in detail in the
    <a class="ulink" href="https://linux.oracle.com/uln_faq.html" target="_top">ULN FAQ</a>.
    The page also describes how to install and update packages.The MySQL
    packages are in the <span class="quote">“<span class="quote">MySQL for Oracle Linux 6</span>”</span> and
    <span class="quote">“<span class="quote">MySQL for Oracle Linux 7</span>”</span> channels for your system
    architecture on ULN.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      At the time of this writing, ULN provides MySQL 5.7
      for Oracle Linux 6 and Oracle Linux 7.
</p>
</div>
<p>
    Once MySQL has been installed using ULN, you can find information on
    starting and stopping the server, and more, in
    <a class="link" href="installing.html#linux-installation-native" title="2.5.7 Installing MySQL on Linux from the Native Software Repositories">this section</a>,
    particularly under <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle">Section 2.5.5, “Installing MySQL on Linux Using RPM Packages from Oracle”</a>.
  </p><p>
    If you're updating an existing MySQL installation to an installation
    using ULN, the recommended procedure is to export your data using
    <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, remove the existing installation,
    install MySQL from ULN, and load the exported data into your freshly
    installed MySQL.
  </p><p>
    If the existing MySQL installation you're upgrading from is from a
    previous release series (prior to MySQL 5.7), make sure
    to read the section on upgrading MySQL, <a class="xref" href="installing.html#upgrading" title="2.11.1 Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="solaris-installation"></a>2.7 Installing MySQL on Solaris and OpenSolaris</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Installing MySQL on Solaris Using a Solaris PKG</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation-opensolaris">2.7.2 Installing MySQL on OpenSolaris Using IPS</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644216122640"></a><a class="indexterm" name="idm140644216121184"></a><a class="indexterm" name="idm140644216119728"></a><a class="indexterm" name="idm140644216118240"></a><a class="indexterm" name="idm140644216117152"></a><a class="indexterm" name="idm140644216115664"></a><a class="indexterm" name="idm140644216114208"></a><a class="indexterm" name="idm140644216112720"></a><a class="indexterm" name="idm140644216111648"></a><p>
    MySQL on Solaris and OpenSolaris is available in a number of
    different formats.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        For information on installing using the native Solaris PKG
        format, see <a class="xref" href="installing.html#solaris-installation-pkg" title="2.7.1 Installing MySQL on Solaris Using a Solaris PKG">Section 2.7.1, “Installing MySQL on Solaris Using a Solaris PKG”</a>.
      </p></li><li class="listitem"><p>
        On OpenSolaris, the standard package repositories include MySQL
        packages specially built for OpenSolaris that include entries
        for the Service Management Framework (SMF) to enable control of
        the installation using the SMF administration commands. For more
        information, see
        <a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.7.2 Installing MySQL on OpenSolaris Using IPS">Section 2.7.2, “Installing MySQL on OpenSolaris Using IPS”</a>.
      </p></li><li class="listitem"><p>
        To use a standard <code class="literal">tar</code> binary installation,
        use the notes provided in <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
        Check the notes and hints at the end of this section for Solaris
        specific notes that you may need before or after installation.
</p></li></ul>
</div>
<p>
    To obtain a binary MySQL distribution for Solaris in tarball or PKG
    format,
    <a class="ulink" href="http://dev.mysql.com/downloads/mysql/5.7.html" target="_top">http://dev.mysql.com/downloads/mysql/5.7.html</a>.
  </p><p>
    Additional notes to be aware of when installing and using MySQL on
    Solaris:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        If you want to use MySQL with the <code class="literal">mysql</code> user
        and group, use the <span class="command"><strong>groupadd</strong></span> and
        <span class="command"><strong>useradd</strong></span> commands:
      </p><pre class="programlisting">
groupadd mysql
useradd -g mysql -s /bin/false mysql
</pre></li><li class="listitem"><p>
        If you install MySQL using a binary tarball distribution on
        Solaris, you may run into trouble even before you get the MySQL
        distribution unpacked, as the Solaris <span class="command"><strong>tar</strong></span>
        cannot handle long file names. This means that you may see
        errors when you try to unpack MySQL.
      </p><p>
        If this occurs, you must use GNU <span class="command"><strong>tar</strong></span>
        (<span class="command"><strong>gtar</strong></span>) to unpack the distribution. In Solaris
        10 and OpenSolaris <span class="command"><strong>gtar</strong></span> is normally located
        in <code class="filename">/usr/sfw/bin/gtar</code>, but may not be
        included in the default path definition.
      </p></li><li class="listitem"><p>
        When using Solaris 10 for x86_64, you should mount any file
        systems on which you intend to store <code class="literal">InnoDB</code>
        files with the <code class="literal">forcedirectio</code> option. (By
        default mounting is done without this option.) Failing to do so
        will cause a significant drop in performance when using the
        <code class="literal">InnoDB</code> storage engine on this platform.
      </p></li><li class="listitem"><p>
        If you would like MySQL to start automatically, you can copy
        <code class="filename">support-files/mysql.server</code> to
        <code class="filename">/etc/init.d</code> and create a symbolic link to
        it named <code class="filename">/etc/rc3.d/S99mysql.server</code>.
      </p></li><li class="listitem"><p>
        If too many processes try to connect very rapidly to
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, you should see this error in the
        MySQL log:
      </p><pre class="programlisting">
Error in accept: Protocol error
</pre><p>
        You might try starting the server with the
        <a class="link" href="server-administration.html#sysvar_back_log"><code class="option">--back_log=50</code></a> option as a
        workaround for this.
      </p></li><li class="listitem"><p>
        To configure the generation of core files on Solaris you should
        use the <span class="command"><strong>coreadm</strong></span> command. Because of the
        security implications of generating a core on a
        <code class="literal">setuid()</code> application, by default, Solaris
        does not support core files on <code class="literal">setuid()</code>
        programs. However, you can modify this behavior using
        <span class="command"><strong>coreadm</strong></span>. If you enable
        <code class="literal">setuid()</code> core files for the current user,
        they will be generated using the mode 600 and owned by the
        superuser.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="solaris-installation-pkg"></a>2.7.1 Installing MySQL on Solaris Using a Solaris PKG</h3>

</div>

</div>

</div>
<p>
      You can install MySQL on Solaris and OpenSolaris using a binary
      package using the native Solaris PKG format instead of the binary
      tarball distribution.
    </p><p>
      To use this package, download the corresponding
      <code class="filename">mysql-VERSION-solaris10-PLATFORM.pkg.gz</code> file,
      then uncompress it. For example:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip mysql-<em class="replaceable"><code>5.7.13</code></em>-solaris10-x86_64.pkg.gz</code></strong>
</pre><p>
      To install a new package, use <span class="command"><strong>pkgadd</strong></span> and follow
      the onscreen prompts. You must have root privileges to perform
      this operation:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.7.13</code></em>-solaris10-x86_64.pkg</code></strong>

The following packages are available:
  1  mysql     MySQL Community Server (GPL)
               (i86pc) 5.7.13

Select package(s) you wish to process (or 'all' to process
all packages). (default: all) [?,??,q]: 
</pre><p>
      The PKG installer installs all of the files and tools needed, and
      then initializes your database if one does not exist. To complete
      the installation, you should set the root password for MySQL as
      provided in the instructions at the end of the installation.
      Alternatively, you can run the
      <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> script that comes
      with the installation.
    </p><p>
      By default, the PKG package installs MySQL under the root path
      <code class="filename">/opt/mysql</code>. You can change only the
      installation root path when using <span class="command"><strong>pkgadd</strong></span>, which
      can be used to install MySQL in a different Solaris zone. If you
      need to install in a specific directory, use a binary
      <span class="command"><strong>tar</strong></span> file distribution.
    </p><p>
      The <code class="literal">pkg</code> installer copies a suitable startup
      script for MySQL into <code class="literal">/etc/init.d/mysql</code>. To
      enable MySQL to startup and shutdown automatically, you should
      create a link between this file and the init script directories.
      For example, to ensure safe startup and shutdown of MySQL you
      could use the following commands to add the right links:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc3.d/S91mysql</code></strong>
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc0.d/K02mysql</code></strong>
</pre><p>
      To remove MySQL, the installed package name is
      <code class="literal">mysql</code>. You can use this in combination with the
      <span class="command"><strong>pkgrm</strong></span> command to remove the installation.
    </p><p>
      To upgrade when using the Solaris package file format, you must
      remove the existing installation before installing the updated
      package. Removal of the package does not delete the existing
      database information, only the server, binaries and support files.
      The typical upgrade sequence is therefore:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin shutdown</code></strong>
shell&gt; <strong class="userinput"><code>pkgrm mysql</code></strong>
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>5.7.13</code></em>-solaris10-x86_64.pkg</code></strong>
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>
</pre><p>
      You should check the notes in
      <a class="xref" href="installing.html#upgrading-downgrading" title="2.11 Upgrading or Downgrading MySQL">Section 2.11, “Upgrading or Downgrading MySQL”</a> before performing any
      upgrade.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="solaris-installation-opensolaris"></a>2.7.2 Installing MySQL on OpenSolaris Using IPS</h3>

</div>

</div>

</div>
<p>
      OpenSolaris includes standard packages for MySQL in the core
      repository. The MySQL packages are based on a specific release of
      MySQL and updated periodically. For the latest release you must
      use either the native Solaris PKG, <code class="literal">tar</code>, or
      source installations. The native OpenSolaris packages include SMF
      files so that you can easily control your MySQL installation,
      including automatic startup and recovery, using the native service
      management tools.
    </p><p>
      To install MySQL on OpenSolaris, use the <span class="command"><strong>pkg</strong></span>
      command. You will need to be logged in as root, or use the
      <span class="command"><strong>pfexec</strong></span> tool, as shown in the example below:
    </p><pre class="programlisting">shell&gt; pfexec pkg install SUNWmysql57</pre><p>
      The package set installs three individual packages,
      <code class="literal">SUNWmysql57lib</code>, which
      contains the MySQL client libraries;
      <code class="literal">SUNWmysql57r</code> which contains
      the root components, including SMF and configuration files; and
      <code class="literal">SUNWmysql57u</code> which contains
      the scripts, binary tools and other files. You can install these
      packages individually if you only need the corresponding
      components.
    </p><p>
      The MySQL files are installed into <code class="filename">/usr/mysql</code>
      which symbolic links for the sub directories
      (<code class="filename">bin</code>, <code class="filename">lib</code>, etc.) to a
      version specific directory. For MySQL 5.7, the full
      installation is located in
      <code class="filename">/usr/mysql/5.7</code>. The default data
      directory is
      <code class="filename">/var/mysql/5.7/data</code>. The
      configuration file is installed in
      <code class="filename">/etc/mysql/5.7/my.cnf</code>. This
      layout permits multiple versions of MySQL to be installed, without
      overwriting the data and binaries from other versions.
    </p><p>
      Once installed, you must initialize the data directory (see
      <a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 Initializing the Data Directory">Section 2.10.1, “Initializing the Data Directory”</a>), and use the
      <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> to secure your
      installation.
</p>
<h4><a name="idm140644216034176"></a>Using SMF to manage your MySQL installation</h4>
<p>
      Once installed, you can start and stop your MySQL server using the
      installed SMF configuration. The service name is
      <code class="literal">mysql</code>, or if you have multiple versions
      installed, you should use the full version name, for example
      <code class="literal">mysql:version_57</code>. To start
      and enable MySQL to be started at boot time:
    </p><pre class="programlisting">shell&gt; svcadm enable mysql</pre><p>
      To disable MySQL from starting during boot time, and shut the
      MySQL server down if it is running, use:
    </p><pre class="programlisting">shell&gt; svcadm disable mysql</pre><p>
      To restart MySQL, for example after a configuration file changes,
      use the <code class="literal">restart</code> option:
    </p><pre class="programlisting">shell&gt; svcadm restart mysql</pre><p>
      You can also use SMF to configure the data directory and enable
      full 64-bit mode. For example, to set the data directory used by
      MySQL:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>svccfg </code></strong>
svc:&gt; <strong class="userinput"><code>select mysql:version_57 </code></strong>
<strong class="userinput"><code>svc:/application/database/mysql:version_57&gt; setprop mysql/data=/data0/mysql</code></strong>
  </pre><p>
      By default, the 32-bit binaries are used. To enable the 64-bit
      server on 64-bit platforms, set the
      <code class="literal">enable_64bit</code> parameter. For example:
    </p><pre class="programlisting">svc:/application/database/mysql:version_57&gt; setprop mysql/enable_64bit=1 </pre><p>
      You need to refresh the SMF after settings these options:
</p><pre class="programlisting">shell&gt; svcadm refresh mysql</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="freebsd-installation"></a>2.8 Installing MySQL on FreeBSD</h2>

</div>

</div>

</div>
<p>
    This section provides information about installing MySQL on variants
    of FreeBSD Unix.
  </p><p>
    You can install MySQL on FreeBSD by using the binary distribution
    provided by Oracle. For more information, see
    <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
  </p><p>
    The easiest (and preferred) way to install MySQL is to use the
    <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql-server</strong></span></a> and <code class="literal">mysql-client</code>
    ports available at <a class="ulink" href="http://www.freebsd.org/" target="_top">http://www.freebsd.org/</a>. Using
    these ports gives you the following benefits:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        A working MySQL with all optimizations enabled that are known to
        work on your version of FreeBSD.
      </p></li><li class="listitem"><p>
        Automatic configuration and build.
      </p></li><li class="listitem"><p>
        Startup scripts installed in
        <code class="filename">/usr/local/etc/rc.d</code>.
      </p></li><li class="listitem"><p>
        The ability to use <code class="literal">pkg_info -L</code> to see which
        files are installed.
      </p></li><li class="listitem"><p>
        The ability to use <code class="literal">pkg_delete</code> to remove MySQL
        if you no longer want it on your machine.
</p></li></ul>
</div>
<p>
    The MySQL build process requires GNU make (<span class="command"><strong>gmake</strong></span>)
    to work. If GNU <span class="command"><strong>make</strong></span> is not available, you must
    install it first before compiling MySQL.
  </p><p>
    To install using the ports system:
  </p><pre class="programlisting">
# cd /usr/ports/databases/mysql57-server
# make
...
# cd /usr/ports/databases/mysql57-client
# make
...
</pre><p>
    The standard port installation places the server into
    <code class="filename">/usr/local/libexec/mysqld</code>, with the startup
    script for the MySQL server placed in
    <code class="filename">/usr/local/etc/rc.d/mysql-server</code>.
  </p><p>
    Some additional notes on the BSD implementation:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        To remove MySQL after installation using the ports system:
      </p><pre class="programlisting">
# cd /usr/ports/databases/mysql57-server
# make deinstall
...
# cd /usr/ports/databases/mysql57-client
# make deinstall
...
</pre></li><li class="listitem"><p>
        If you get problems with the current date in MySQL, setting the
        <code class="literal">TZ</code> variable should help. See
        <a class="xref" href="installing.html#environment-variables" title="2.12 Environment Variables">Section 2.12, “Environment Variables”</a>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="source-installation"></a>2.9 Installing MySQL from Source</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.1 MySQL Layout for Source Installation</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.2 Installing MySQL Using a Standard Source Distribution</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.3 Installing MySQL Using a Development Source Tree</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.4 MySQL Source-Configuration Options</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.5 Dealing with Problems Compiling MySQL</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.6 MySQL Configuration and Third-Party Tools</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644215996480"></a><a class="indexterm" name="idm140644215995024"></a><a class="indexterm" name="idm140644215993536"></a><p>
    Building MySQL from the source code enables you to customize build
    parameters, compiler optimizations, and installation location. For a
    list of systems on which MySQL is known to run, see
    <a class="ulink" href="http://www.mysql.com/support/supportedplatforms/database.html" target="_top">http://www.mysql.com/support/supportedplatforms/database.html</a>.
  </p><p>
    Before you proceed with an installation from source, check whether
    Oracle produces a precompiled binary distribution for your platform
    and whether it works for you. We put a great deal of effort into
    ensuring that our binaries are built with the best possible options
    for optimal performance. Instructions for installing binary
    distributions are available in
    <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p>
<h3><a name="idm140644215989792"></a>Source Installation Methods</h3>
<p>
    There are two methods for installing MySQL from source:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Use a standard MySQL source distribution. To obtain a standard
        distribution, see <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>. For
        instructions on building from a standard distribution, see
        <a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 Installing MySQL Using a Standard Source Distribution">Section 2.9.2, “Installing MySQL Using a Standard Source Distribution”</a>.
      </p><p>
        Standard distributions are available as compressed
        <span class="command"><strong>tar</strong></span> files, Zip archives, or RPM packages.
        Distribution files have names of the form
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code>,
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code>,
        or
        <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code>,
        where <em class="replaceable"><code>VERSION</code></em> is a number like
        <code class="literal">5.7.13</code>. File names for source
        distributions can be distinguished from those for precompiled
        binary distributions in that source distribution names are
        generic and include no platform name, whereas binary
        distribution names include a platform name indicating the type
        of system for which the distribution is intended (for example,
        <code class="literal">pc-linux-i686</code> or <code class="literal">winx64</code>).
      </p></li><li class="listitem"><p>
        Use a MySQL development tree. For information on building from
        one of the development trees, see
        <a class="xref" href="installing.html#installing-development-tree" title="2.9.3 Installing MySQL Using a Development Source Tree">Section 2.9.3, “Installing MySQL Using a Development Source Tree”</a>.
</p></li></ul>
</div>
<h3><a name="idm140644215976352"></a>Source Installation System Requirements</h3>
<p>
    Installation of MySQL from source requires several development
    tools. Some of these tools are needed no matter whether you use a
    standard source distribution or a development source tree. Other
    tool requirements depend on which installation method you use.
  </p><p>
    To install MySQL from source, the following system requirements must
    be satisfied, regardless of installation method:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="command"><strong>CMake</strong></span>, which is used as the build framework
        on all platforms. <span class="command"><strong>CMake</strong></span> can be downloaded
        from <a class="ulink" href="http://www.cmake.org" target="_top">http://www.cmake.org</a>.
      </p></li><li class="listitem"><p>
        A good <span class="command"><strong>make</strong></span> program. Although some platforms
        come with their own <span class="command"><strong>make</strong></span> implementations, it
        is highly recommended that you use GNU <span class="command"><strong>make</strong></span>
        3.75 or newer. It may already be available on your system as
        <span class="command"><strong>gmake</strong></span>. GNU <span class="command"><strong>make</strong></span> is
        available from <a class="ulink" href="http://www.gnu.org/software/make/" target="_top">http://www.gnu.org/software/make/</a>.
      </p></li><li class="listitem"><p>
        A working ANSI C++ compiler. GCC 4.4.6 or later, Clang 3.3 or
        later (FreeBSD and OS X), Visual Studio 2013 or later, and many
        current vendor-supplied compilers are known to work.
      </p></li><li class="listitem"><p>
        The Boost C++ libraries are required to build MySQL (but not to
        use it). Boost 1.59.0 or newer must be installed. To obtain
        Boost and its installation instructions, visit
        <a class="ulink" href="http://www.boost.org" target="_top">the official site</a>.
        After Boost is installed, tell the build system where the Boost
        files are located by defining the
        <a class="link" href="installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a> option when you invoke
        <span class="command"><strong>CMake</strong></span>. For example:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -DWITH_BOOST=/usr/local/boost_1_59_0</code></strong>
</pre><p>
        Adjust the path as necessary to match your installation.
      </p></li><li class="listitem"><p>
        Sufficient free memory. If you encounter problems such as
        <span class="quote">“<span class="quote">internal compiler error</span>”</span> when compiling large
        source files, it may be that you have too little memory. If
        compiling on a virtual machine, try increasing the memory
        allocation.
      </p></li><li class="listitem"><p>
        Perl is needed if you intend to run test scripts. Most Unix-like
        systems include Perl. On Windows, you can use a version such as
        ActiveState Perl.
</p></li></ul>
</div>
<p>
    To install MySQL from a standard source distribution, one of the
    following tools is required to unpack the distribution file:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        For a <code class="filename">.tar.gz</code> compressed
        <span class="command"><strong>tar</strong></span> file: GNU <code class="literal">gunzip</code> to
        uncompress the distribution and a reasonable
        <span class="command"><strong>tar</strong></span> to unpack it. If your
        <span class="command"><strong>tar</strong></span> program supports the <code class="literal">z</code>
        option, it can both uncompress and unpack the file.
      </p><p>
        GNU <span class="command"><strong>tar</strong></span> is known to work. The standard
        <span class="command"><strong>tar</strong></span> provided with some operating systems is
        not able to unpack the long file names in the MySQL
        distribution. You should download and install GNU
        <span class="command"><strong>tar</strong></span>, or if available, use a preinstalled
        version of GNU tar. Usually this is available as
        <span class="command"><strong>gnutar</strong></span>, <span class="command"><strong>gtar</strong></span>, or as
        <span class="command"><strong>tar</strong></span> within a GNU or Free Software directory,
        such as <code class="filename">/usr/sfw/bin</code> or
        <code class="filename">/usr/local/bin</code>. GNU <span class="command"><strong>tar</strong></span>
        is available from
        <a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a>.
      </p></li><li class="listitem"><p>
        For a <code class="filename">.zip</code> Zip archive:
        <span class="command"><strong>WinZip</strong></span> or another tool that can read
        <code class="filename">.zip</code> files.
      </p></li><li class="listitem"><p>
        For an <code class="filename">.rpm</code> RPM package: The
        <span class="command"><strong>rpmbuild</strong></span> program used to build the
        distribution unpacks it.
</p></li></ul>
</div>
<p>
    To install MySQL from a development source tree, the following
    additional tools are required:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        The Git revision control system is required to obtain the
        development source code. The
        <a class="ulink" href="https://help.github.com/" target="_top">GitHub Help</a>
        provides instructions for downloading and installing Git on
        different platforms. MySQL officially joined GitHub in
        September, 2014. For more information about MySQL's move to
        GitHub, refer to the announcement on the MySQL Release
        Engineering blog:
        <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL
        on GitHub</a>
      </p></li><li class="listitem"><p>
        <span class="command"><strong>bison</strong></span> 2.1 or newer, available from
        <a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a>. (Version 1 is
        no longer supported.) Use the latest version of
        <span class="command"><strong>bison</strong></span> where possible; if you experience
        problems, upgrade to a later version, rather than revert to an
        earlier one.
      </p><p>
        <span class="command"><strong>bison</strong></span> is available from
        <a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a>.
        <code class="literal">bison</code> for Windows can be downloaded from
        <a class="ulink" href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top">http://gnuwin32.sourceforge.net/packages/bison.htm</a>.
        Download the package labeled <span class="quote">“<span class="quote">Complete package, excluding
        sources</span>”</span>. On Windows, the default location for
        <span class="command"><strong>bison</strong></span> is the <code class="filename">C:\Program
        Files\GnuWin32</code> directory. Some utilities may fail to
        find <span class="command"><strong>bison</strong></span> because of the space in the
        directory name. Also, Visual Studio may simply hang if there are
        spaces in the path. You can resolve these problems by installing
        into a directory that does not contain a space; for example
        <code class="filename">C:\GnuWin32</code>.
      </p></li><li class="listitem"><p>
        On OpenSolaris and Solaris Express, <span class="command"><strong>m4</strong></span> must
        be installed in addition to <span class="command"><strong>bison</strong></span>.
        <span class="command"><strong>m4</strong></span> is available from
        <a class="ulink" href="http://www.gnu.org/software/m4/" target="_top">http://www.gnu.org/software/m4/</a>.
</p></li></ul>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
      If you have to install any programs, modify your
      <code class="literal">PATH</code> environment variable to include any
      directories in which the programs are located. See
      <a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 Setting Environment Variables">Section 4.2.10, “Setting Environment Variables”</a>.
</p>
</div>
<p>
    If you run into problems and need to file a bug report, please use
    the instructions in <a class="xref" href="introduction.html#bug-reports" title="1.7 How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-installation-layout"></a>2.9.1 MySQL Layout for Source Installation</h3>
</div>
</div>
</div>
<p>
      By default, when you install MySQL after compiling it from source,
      the installation step installs files under
      <code class="filename">/usr/local/mysql</code>. The component locations
      under the installation directory are the same as for binary
      distributions. See <a class="xref" href="installing.html#binary-installation-layout" title="Table 2.3 MySQL Installation Layout for Generic Unix/Linux Binary Package">Table 2.3, “MySQL Installation Layout for Generic Unix/Linux Binary Package”</a>,
      and <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 MySQL Installation Layout on Microsoft Windows">Section 2.3.1, “MySQL Installation Layout on Microsoft Windows”</a>. To configure
      installation locations different from the defaults, use the
      options described at
      <a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-source-distribution"></a>2.9.2 Installing MySQL Using a Standard Source Distribution</h3>

</div>

</div>

</div>
<p>
      To install MySQL from a standard source distribution:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Verify that your system satisfies the tool requirements listed
          at <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
        </p></li><li class="listitem"><p>
          Obtain a distribution file using the instructions in
          <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>.
        </p></li><li class="listitem"><p>
          Configure, build, and install the distribution using the
          instructions in this section.
        </p></li><li class="listitem"><p>
          Perform postinstallation procedures using the instructions in
          <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p></li></ol>
</div>
<p>
      In MySQL 5.7, <span class="command"><strong>CMake</strong></span> is used as the
      build framework on all platforms. The instructions given here
      should enable you to produce a working installation. For
      additional information on using <span class="command"><strong>CMake</strong></span> to build
      MySQL, see <a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">How to
      Build MySQL Server with CMake</a>.
    </p><p>
      If you start from a source RPM, use the following command to make
      a binary RPM that you can install. If you do not have
      <span class="command"><strong>rpmbuild</strong></span>, use <span class="command"><strong>rpm</strong></span> instead.
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p>
      The result is one or more binary RPM packages that you install as
      indicated in <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle">Section 2.5.5, “Installing MySQL on Linux Using RPM Packages from Oracle”</a>.
    </p><p>
      The sequence for installation from a compressed
      <span class="command"><strong>tar</strong></span> file or Zip archive source distribution is
      similar to the process for installing from a generic binary
      distribution (see <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>), except
      that it is used on all platforms and includes steps to configure
      and compile the distribution. For example, with a compressed
      <span class="command"><strong>tar</strong></span> file source distribution on Unix, the basic
      installation command sequence looks like this:
    </p><pre class="programlisting">
# Preconfiguration setup
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
# Beginning of source-build specific instructions
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
# End of source-build specific instructions
# Postinstallation setup
shell&gt; <strong class="userinput"><code>cd /usr/local/mysql</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>    # Before MySQL 5.7.6
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong> # MySQL 5.7.6 and up
shell&gt; <strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong>              # MySQL 5.7.6 and up
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
      Before MySQL 5.7.5, <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> creates a
      default option file named <code class="filename">my.cnf</code> in the base
      installation directory. This file is created from a template
      included in the distribution package named
      <code class="filename">my-default.cnf</code>. For more information, see
      <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 Server Configuration Defaults">Section 5.1.2, “Server Configuration Defaults”</a>.
    </p><p>
      A more detailed version of the source-build specific instructions
      is shown following.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        The procedure shown here does not set up any passwords for MySQL
        accounts. After following the procedure, proceed to
        <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>, for postinstallation setup
        and testing.
</p>
</div>
<h4><a name="idm140644215873760"></a>Perform Preconfiguration Setup</h4>
<p>
      On Unix, set up the <code class="literal">mysql</code> user and group that
      will be used to run and execute the MySQL server and own the
      database directory. For details, see
      <a class="link" href="installing.html#binary-installation-createsysuser" title="Create a mysql User and Group">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>. Then perform the following
      steps as the <code class="literal">mysql</code> user, except as noted.
</p>
<h4><a name="idm140644215868640"></a>Obtain and Unpack the Distribution</h4>
<p>
      Pick the directory under which you want to unpack the distribution
      and change location into it.
    </p><p>
      Obtain a distribution file using the instructions in
      <a class="xref" href="installing.html#getting-mysql" title="2.1.2 How to Get MySQL">Section 2.1.2, “How to Get MySQL”</a>.
    </p><p>
      Unpack the distribution into the current directory:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          To unpack a compressed <span class="command"><strong>tar</strong></span> file,
          <span class="command"><strong>tar</strong></span> can uncompress and unpack the
          distribution if it has <code class="literal">z</code> option support:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p>
          If your <span class="command"><strong>tar</strong></span> does not have
          <code class="literal">z</code> option support, use
          <span class="command"><strong>gunzip</strong></span> to unpack the distribution and
          <span class="command"><strong>tar</strong></span> to unpack it:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          Alternatively, <span class="command"><strong>CMake</strong></span> can uncompress and
          unpack the distribution:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li class="listitem"><p>
          To unpack a Zip archive, use <span class="command"><strong>WinZip</strong></span> or
          another tool that can read <code class="filename">.zip</code> files.
</p></li></ul>
</div>
<p>
      Unpacking the distribution file creates a directory named
      <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code>.
</p>
<h4><a name="idm140644215848752"></a>Configure the Distribution</h4>
<p>
      Change location into the top-level directory of the unpacked
      distribution:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p>
      Configure the source directory. The minimum configuration command
      includes no options to override configuration defaults:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake .</code></strong>
</pre><p>
      On Windows, specify the development environment. For example, the
      following commands configure MySQL for 32-bit or 64-bit builds,
      respectively:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 10 2010"</code></strong>
shell&gt; <strong class="userinput"><code>cmake . -G "Visual Studio 10 2010 Win64"</code></strong>
</pre><p>
      On OS X, to use the Xcode IDE:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -G Xcode</code></strong>
</pre><p>
      When you run <span class="command"><strong>cmake</strong></span>, you might want to add
      options to the command line. Here are some examples:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a>:
          Configure the source with the same build options used by
          Oracle to produce binary distributions for official MySQL
          releases.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code></a>:
          Configure the distribution for installation under a particular
          location.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>:
          Cause <span class="command"><strong>make package</strong></span> to generate a single
          installation file rather than multiple files.
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a>: Build the
          distribution with debugging support.
</p></li></ul>
</div>
<p>
      For a more extensive list of options, see
      <a class="xref" href="installing.html#source-configuration-options" title="2.9.4 MySQL Source-Configuration Options">Section 2.9.4, “MySQL Source-Configuration Options”</a>.
    </p><p>
      To list the configuration options, use one of the following
      commands:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -L</code></strong>   # overview
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>  # overview with help text
shell&gt; <strong class="userinput"><code>cmake . -LAH</code></strong> # all params with help text
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>     # interactive display
</pre><p>
      If <span class="command"><strong>CMake</strong></span> fails, you might need to reconfigure
      by running it again with different options. If you do reconfigure,
      take note of the following:
</p><a class="indexterm" name="idm140644215822464"></a><a class="indexterm" name="idm140644215821376"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If <span class="command"><strong>CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span class="command"><strong>CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li class="listitem"><p>
          Each time you run <span class="command"><strong>CMake</strong></span>, you must run
          <span class="command"><strong>make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
</p></li></ul>
</div>
<p>
      To prevent old object files or configuration information from
      being used, run these commands on Unix before re-running
      <span class="command"><strong>CMake</strong></span>:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Or, on Windows:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build out of the source tree (as described later), the
      <code class="filename">CMakeCache.txt</code> file and all built files are
      in the build directory, so you can remove that directory to object
      files and cached configuration information.
    </p><p>
      If you are going to send mail to a MySQL mailing list to ask for
      configuration assistance, first check the files in the
      <code class="filename">CMakeFiles</code> directory for useful information
      about the failure. To file a bug report, please use the
      instructions in <a class="xref" href="introduction.html#bug-reports" title="1.7 How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
</p>
<h4><a name="idm140644215804432"></a>Build the Distribution</h4>
<p>
      On Unix:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p>
      The second command sets <code class="literal">VERBOSE</code> to show the
      commands for each compiled source.
    </p><p>
      Use <span class="command"><strong>gmake</strong></span> instead on systems where you are
      using GNU <span class="command"><strong>make</strong></span> and it has been installed as
      <span class="command"><strong>gmake</strong></span>.
    </p><p>
      On Windows:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p>
      It is possible to build out of the source tree to keep the tree
      clean. If the top-level source directory is named
      <code class="filename">mysql-src</code> under your current working
      directory, you can build in a directory named
      <code class="filename">bld</code> at the same level like this:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p>
      The build directory need not actually be outside the source tree.
      For example, to build in a directory, you can build in a directory
      named <code class="filename">bld</code> under the top-level source tree, do
      this, starting with <code class="filename">mysql-src</code> as your current
      working directory:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake ..</code></strong>
</pre><p>
      If you have multiple source trees at the same level (for example,
      to build multiple versions of MySQL), the second strategy can be
      advantageous. The first strategy places all build directories at
      the same level, which requires that you choose a unique name for
      each. With the second strategy, you can use the same name for the
      build directory within each source tree.
    </p><p>
      If you have gotten to the compilation stage, but the distribution
      does not build, see <a class="xref" href="installing.html#compilation-problems" title="2.9.5 Dealing with Problems Compiling MySQL">Section 2.9.5, “Dealing with Problems Compiling MySQL”</a>, for
      help. If that does not solve the problem, please enter it into our
      bugs database using the instructions given in
      <a class="xref" href="introduction.html#bug-reports" title="1.7 How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>. If you have installed the latest
      versions of the required tools, and they crash trying to process
      our configuration files, please report that also. However, if you
      get a <code class="literal">command not found</code> error or a similar
      problem for required tools, do not report it. Instead, make sure
      that all the required tools are installed and that your
      <code class="literal">PATH</code> variable is set correctly so that your
      shell can find them.
</p>
<h4><a name="idm140644215781088"></a>Install the Distribution</h4>
<p>
      On Unix:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre><p>
      This installs the files under the configured installation
      directory (by default, <code class="filename">/usr/local/mysql</code>). You
      might need to run the command as <code class="literal">root</code>.
    </p><p>
      To install in a specific directory, add a
      <code class="literal">DESTDIR</code> parameter to the command line:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p>
      Alternatively, generate installation package files that you can
      install where you like:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make package</code></strong>
</pre><p>
      This operation produces one or more <code class="filename">.tar.gz</code>
      files that can be installed like generic binary distribution
      packages. See <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>. If you run
      <span class="command"><strong>CMake</strong></span> with
      <a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code></a>, the
      operation produces a single file. Otherwise, it produces multiple
      files.
    </p><p>
      On Windows, generate the data directory, then create a
      <code class="filename">.zip</code> archive installation package:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong>
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p>
      You can install the resulting <code class="filename">.zip</code> archive
      where you like. See <a class="xref" href="installing.html#windows-install-archive" title="2.3.5 Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">Section 2.3.5, “Installing MySQL on Microsoft Windows Using a noinstall Zip Archive”</a>.
</p>
<h4><a name="idm140644215763200"></a>Perform Postinstallation Setup</h4>
<p>
      The remainder of the installation process involves setting up the
      configuration file, creating the core databases, and starting the
      MySQL server. For instructions, see
      <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        The accounts that are listed in the MySQL grant tables initially
        have no passwords. After starting the server, you should set up
        passwords for them using the instructions in
        <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="installing-development-tree"></a>2.9.3 Installing MySQL Using a Development Source Tree</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644215758208"></a><a class="indexterm" name="idm140644215757136"></a><p>
      This section describes how to install MySQL from the latest
      development source code, which is currently hosted on
      <a class="ulink" href="https://github.com/" target="_top">GitHub</a>. To obtain the
      MySQL Server source code from this repository hosting service, you
      can set up a local MySQL Git repository.
    </p><p>
      On <a class="ulink" href="https://github.com/" target="_top">GitHub</a>, MySQL Server
      and other MySQL projects are found on the
      <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a> page. The
      MySQL Server project is a single repository that contains branches
      for several MySQL series, such as 5.5, 5.6, and 5.7.
    </p><p>
      MySQL officially joined GitHub in September, 2014. For more
      information about MySQL's move to GitHub, refer to the
      announcement on the MySQL Release Engineering blog:
      <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL
      on GitHub</a>
</p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="installing-development-tree-prerequisites"></a>Prerequisites for Installing from Development Source</h4>
</div>
</div>
</div>
<p>
        To install MySQL from a development source tree, your system
        must satisfy the tool requirements outlined in
        <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="installing-development-tree-git"></a>Setting Up a MySQL Git Repository</h4>

</div>

</div>

</div>
<p>
        To set up a MySQL Git repository on your machine, use this
        procedure:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Clone the MySQL Git repository to your machine. The
            following command clones the MySQL Git repository to a
            directory named <code class="filename">mysql-server</code>. The
            download size is approximately 437 MB. The initial download
            will take some time to complete, depending on the speed of
            your connection.
          </p><pre class="programlisting">~$ git clone https://github.com/mysql/mysql-server.git 
Cloning into 'mysql-server'...
remote: Counting objects: 1035465, done.
remote: Total 1035465 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1035465/1035465), 437.48 MiB | 5.10 MiB/s, done.
Resolving deltas: 100% (855607/855607), done.
Checking connectivity... done.
Checking out files: 100% (21902/21902), done.</pre></li><li class="listitem"><p>
            When the clone operation completes, the contents of your
            local MySQL Git repository appear similar to the following:
          </p><pre class="programlisting">~$ cd mysql-server
 
~/mysql-server$ ls
BUILD            COPYING             libmysqld    regex          tests
BUILD-CMAKE      dbug                libservices  scripts        unittest
client           Docs                man          sql            VERSION
cmake            extra               mysql-test   sql-bench      vio
CMakeLists.txt   include             mysys        sql-common     win
cmd-line-utils   INSTALL-SOURCE      packaging    storage        zlib
config.h.cmake   INSTALL-WIN-SOURCE  plugin       strings
configure.cmake  libmysql            README       support-files</pre></li><li class="listitem"><p>
            Use the <span class="command"><strong>git branch -r</strong></span> command to view the
            remote tracking branches for the MySQL repository.
          </p><pre class="programlisting">~/mysql-server$ git branch -r
  origin/5.5
  origin/5.6
  origin/5.7
  origin/HEAD -&gt; origin/5.7
  origin/cluster-7.2
  origin/cluster-7.3
  origin/cluster-7.4</pre></li><li class="listitem"><p>
            To view the branches that are checked out in your local
            repository, issue the <span class="command"><strong>git branch</strong></span> command.
            When you cloned the MySQL Git repository, the MySQL 5.7
            branch was checked out automatically. The asterisk
            identifies the 5.7 branch as the active branch.
          </p><pre class="programlisting">~/mysql-server$ git branch
* 5.7</pre></li><li class="listitem"><p>
            To check out a different MySQL branch, run the <span class="command"><strong>git
            checkout</strong></span> command, specifying the branch name. For
            example, to checkout the MySQL 5.5 branch:
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.5
Branch 5.5 set up to track remote branch 5.5 from origin.
Switched to a new branch '5.5'</pre></li><li class="listitem"><p>
            Run <code class="literal">git branch</code> to verify that the MySQL
            5.5 branch is present. MySQL 5.5, which is the last branch
            you checked out, is marked by an asterisk indicating that it
            is the active branch.
          </p><pre class="programlisting">~/mysql-server$ git branch
* 5.5
  5.7</pre></li><li class="listitem"><p>
            Use the <span class="command"><strong>git checkout</strong></span> command to switch
            back to the MySQL 5.7 branch:
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.7</pre></li><li class="listitem"><p>
            To obtain changes made after your initial setup of the MySQL
            Git repository, switch to the branch you want to update and
            issue the <code class="literal">git pull</code> command:
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.7
~/mysql-server$ git pull
</pre><p>
            To examine the commit history, use the <code class="literal">git
            log</code> option:
          </p><pre class="programlisting">~/mysql-server$ git log
</pre><p>
            You can also browse commit history and source code on the
            GitHub <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a>
            site.
          </p><p>
            If you see changes or code that you have a question about,
            send an email to the MySQL <code class="literal">internals</code>
            mailing list. See <a class="xref" href="introduction.html#mailing-lists" title="1.6.1 MySQL Mailing Lists">Section 1.6.1, “MySQL Mailing Lists”</a>. For
            information about contributing a patch, see
            <a class="ulink" href="http://mysqlserverteam.com/contributing-to-mysql-server/%20" target="_top">Contributing
            to MySQL Server</a>.
          </p></li><li class="listitem"><p>
            After you have cloned the MySQL Git repository and have
            checked out the branch you want to build, you can build
            MySQL Server from the source code. Instructions are provided
            in <a class="xref" href="installing.html#installing-source-distribution" title="2.9.2 Installing MySQL Using a Standard Source Distribution">Section 2.9.2, “Installing MySQL Using a Standard Source Distribution”</a>, except
            that you skip the part about obtaining and unpacking the
            distribution.
          </p><p>
            Be careful about installing a build from a distribution
            source tree on a production machine. The installation
            command may overwrite your live release installation. If you
            already have MySQL installed and do not want to overwrite
            it, run <span class="command"><strong>CMake</strong></span> with values for the
            <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
            <a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
            <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options
            different from those used by your production server. For
            additional information about preventing multiple servers
            from interfering with each other, see
            <a class="xref" href="server-administration.html#multiple-servers" title="5.3 Running Multiple MySQL Instances on One Machine">Section 5.3, “Running Multiple MySQL Instances on One Machine”</a>.
          </p><p>
            Play hard with your new installation. For example, try to
            make new features crash. Start by running <span class="command"><strong>make
            test</strong></span>. See <a class="xref" href="extending-mysql.html#mysql-test-suite" title="25.1.2 The MySQL Test Suite">Section 25.1.2, “The MySQL Test Suite”</a>.
</p></li></ol>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-options"></a>2.9.4 MySQL Source-Configuration Options</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644215709296"></a><a class="indexterm" name="idm140644215707808"></a><a class="indexterm" name="idm140644215706320"></a><p>
      The <span class="command"><strong>CMake</strong></span> program provides a great deal of
      control over how you configure a MySQL source distribution.
      Typically, you do this using options on the
      <span class="command"><strong>CMake</strong></span> command line. For information about
      options supported by <span class="command"><strong>CMake</strong></span>, run either of these
      commands in the top-level source directory:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -LH</code></strong>
shell&gt; <strong class="userinput"><code>ccmake .</code></strong>
</pre><p>
      You can also affect <span class="command"><strong>CMake</strong></span> using certain
      environment variables. See
      <a class="xref" href="installing.html#environment-variables" title="2.12 Environment Variables">Section 2.12, “Environment Variables”</a>.
    </p><p>
      The following table shows the available <span class="command"><strong>CMake</strong></span>
      options. In the <code class="literal">Default</code> column,
      <code class="literal">PREFIX</code> stands for the value of the
      <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option, which
      specifies the installation base directory. This value is used as
      the parent location for several of the installation
      subdirectories.
</p>
<div class="table">
<a name="idm140644215694640"></a><p class="title"><b>Table 2.11 MySQL Source-Configuration Option Reference
(<span class="command">CMake</span>)</b></p>
<div class="table-contents">
<table summary="MySQL Source-Configuration Option Reference
(CMake)" border="1"><colgroup><col class="formats"><col class="description"><col class="default"><col class="introduced"><col class="removed"></colgroup><thead><tr><th scope="col">Formats</th><th scope="col">Description</th><th scope="col">Default</th><th scope="col">Introduced</th><th scope="col">Removed</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></td><td>Use same build options as official releases</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></td><td>Type of build to produce</td><td><code class="literal">RelWithDebInfo</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_cxx_flags"><code class="literal">CMAKE_CXX_FLAGS</code></a></td><td>Flags for C++ Compiler</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_c_flags"><code class="literal">CMAKE_C_FLAGS</code></a></td><td>Flags for C Compiler</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></td><td>Installation base directory</td><td><code class="literal">/usr/local/mysql</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_compilation_comment"><code class="literal">COMPILATION_COMMENT</code></a></td><td>Comment about compilation environment</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></td><td>Whether package build produces single file</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></td><td>The default server character set</td><td><code class="literal">latin1</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></td><td>The default server collation</td><td><code class="literal">latin1_swedish_ci</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_cond"><code class="literal">DISABLE_PSI_COND</code></a></td><td>Exclude Performance Schema condition instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_file"><code class="literal">DISABLE_PSI_FILE</code></a></td><td>Exclude Performance Schema file instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_idle"><code class="literal">DISABLE_PSI_IDLE</code></a></td><td>Exclude Performance Schema idle instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_memory"><code class="literal">DISABLE_PSI_MEMORY</code></a></td><td>Exclude Performance Schema memory instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_metadata"><code class="literal">DISABLE_PSI_METADATA</code></a></td><td>Exclude Performance Schema metadata instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_mutex"><code class="literal">DISABLE_PSI_MUTEX</code></a></td><td>Exclude Performance Schema mutex instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_rwlock"><code class="literal">DISABLE_PSI_RWLOCK</code></a></td><td>Exclude Performance Schema rwlock instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_socket"><code class="literal">DISABLE_PSI_SOCKET</code></a></td><td>Exclude Performance Schema socket instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_sp"><code class="literal">DISABLE_PSI_SP</code></a></td><td>Exclude Performance Schema stored program instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_stage"><code class="literal">DISABLE_PSI_STAGE</code></a></td><td>Exclude Performance Schema stage instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_statement"><code class="literal">DISABLE_PSI_STATEMENT</code></a></td><td>Exclude Performance Schema statement instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_statement_digest"><code class="literal">DISABLE_PSI_STATEMENT_DIGEST</code></a></td><td>Exclude Performance Schema statement_digest instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_table"><code class="literal">DISABLE_PSI_TABLE</code></a></td><td>Exclude Performance Schema table instrumentation</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_download_boost"><code class="literal">DOWNLOAD_BOOST</code></a></td><td>Whether to download the Boost library</td><td><code class="literal">OFF</code></td><td>5.7.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_download_boost_timeout"><code class="literal">DOWNLOAD_BOOST_TIMEOUT</code></a></td><td>Timeout in seconds for downloading the Boost library</td><td><code class="literal">600</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></td><td>Whether to enable LOCAL for LOAD DATA INFILE</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></td><td>Whether to enable query profiling code</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_debug_sync"><code class="literal">ENABLE_DEBUG_SYNC</code></a></td><td>Whether to enable Debug Sync support</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></td><td>Whether to download optional files</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_dtrace"><code class="literal">ENABLE_DTRACE</code></a></td><td>Whether to include DTrace support</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></td><td>Whether to include gcov support</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_enable_gprof"><code class="literal">ENABLE_GPROF</code></a></td><td>Enable gprof (optimized Linux builds only)</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_force_unsupported_compiler"><code class="literal">FORCE_UNSUPPORTED_COMPILER</code></a></td><td>Whether to permit unsupported compiler</td><td><code class="literal">OFF</code></td><td>5.7.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="literal">IGNORE_AIO_CHECK</code></a></td><td>With -DBUILD_CONFIG=mysql_release, ignore libaio check</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_innodb_page_atomic_ref_count"><code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT</code></a></td><td>Enable or disable atomic page reference counting</td><td><code class="literal">ON</code></td><td>5.7.4</td><td>5.7.5</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></td><td>User executables directory</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></td><td>Documentation directory</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></td><td>README file directory</td><td><code class="literal">PREFIX</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></td><td>Header file directory</td><td><code class="literal">PREFIX/include</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></td><td>Info file directory</td><td><code class="literal">PREFIX/docs</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></td><td>Select predefined installation layout</td><td><code class="literal">STANDALONE</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></td><td>Library file directory</td><td><code class="literal">PREFIX/lib</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></td><td>Manual page directory</td><td><code class="literal">PREFIX/man</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlkeyringdir"><code class="literal">INSTALL_MYSQLKEYRINGDIR</code></a></td><td>Directory for keyring_file plugin data file</td><td><code class="literal">platform specific</code></td><td>5.7.11</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></td><td>Shared data directory</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></td><td>mysql-test directory</td><td><code class="literal">PREFIX/mysql-test</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_pkgconfigdir"><code class="literal">INSTALL_PKGCONFIGDIR</code></a></td><td>Directory for mysqlclient.pc pkg-config file</td><td><code class="literal">INSTALL_LIBDIR/pkgconfig</code></td><td>5.7.9</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></td><td>Plugin directory</td><td><code class="literal">PREFIX/lib/plugin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></td><td>Server executable directory</td><td><code class="literal">PREFIX/bin</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_scriptdir"><code class="literal">INSTALL_SCRIPTDIR</code></a></td><td>Scripts directory</td><td><code class="literal">PREFIX/scripts</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_secure_file_privdir"><code class="literal">INSTALL_SECURE_FILE_PRIVDIR</code></a></td><td>secure_file_priv default value</td><td><code class="literal">platform specific</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_secure_file_priv_embeddeddir"><code class="literal">INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR</code></a></td><td>secure_file_priv default value for libmysqld</td><td> </td><td>5.7.8</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></td><td>aclocal/mysql.m4 installation directory</td><td><code class="literal">PREFIX/share</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="literal">INSTALL_SQLBENCHDIR</code></a></td><td>sql-bench directory</td><td><code class="literal">PREFIX</code></td><td> </td><td>5.7.8</td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></td><td>Extra support files directory</td><td><code class="literal">PREFIX/support-files</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_max_indexes"><code class="literal">MAX_INDEXES</code></a></td><td>Maximum indexes per table</td><td><code class="literal">64</code></td><td>5.7.1</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mutex_type"><code class="literal">MUTEX_TYPE</code></a></td><td>InnoDB mutex type</td><td><code class="literal">event</code></td><td>5.7.2</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></td><td>Data directory</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></td><td>Whether to enable MySQL maintainer-specific development environment</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></td><td>Windows/OS X project name</td><td><code class="literal">3306</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></td><td>TCP/IP port number</td><td><code class="literal">3306</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></td><td>Unix socket file</td><td><code class="literal">/tmp/mysql.sock</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></td><td>ODBC includes directory</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></td><td>ODBC library directory</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_optimizer_trace"><code class="literal">OPTIMIZER_TRACE</code></a></td><td>Whether to support optimizer tracing</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_sunpro_cxx_library"><code class="literal">SUNPRO_CXX_LIBRARY</code></a></td><td>Client link library on Solaris 10+</td><td> </td><td>5.7.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></td><td>Option file directory</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_systemd_pid_dir"><code class="literal">SYSTEMD_PID_DIR</code></a></td><td>Directory for PID file under systemd</td><td><code class="literal">/var/run/mysqld</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_systemd_service_name"><code class="literal">SYSTEMD_SERVICE_NAME</code></a></td><td>Name of MySQL service under systemd</td><td><code class="literal">mysqld</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_tmpdir"><code class="literal">TMPDIR</code></a></td><td>tmpdir default value</td><td> </td><td>5.7.4</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_win_debug_no_inline"><code class="literal">WIN_DEBUG_NO_INLINE</code></a></td><td>Whether to disable function inlining</td><td><code class="literal">OFF</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_without_server"><code class="literal">WITHOUT_SERVER</code></a></td><td>Do not build the server</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="Storage Engine Options"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></td><td>Exclude storage engine xxx from build</td><td> </td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_asan"><code class="literal">WITH_ASAN</code></a></td><td>Enable AddressSanitizer</td><td><code class="literal">OFF</code></td><td>5.7.3</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_authentication_pam"><code class="literal">WITH_AUTHENTICATION_PAM</code></a></td><td>Build PAM authentication plugin</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_boost"><code class="literal">WITH_BOOST</code></a></td><td>The location of the Boost library sources</td><td> </td><td>5.7.5</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_client_protocol_tracing"><code class="literal">WITH_CLIENT_PROTOCOL_TRACING</code></a></td><td>Build client-side protocol tracing framework</td><td><code class="literal">ON</code></td><td>5.7.2</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></td><td>Whether to include debugging support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_compiler_options"><code class="literal">WITH_DEFAULT_COMPILER_OPTIONS</code></a></td><td>Whether to use default compiler options</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_default_feature_set"><code class="literal">WITH_DEFAULT_FEATURE_SET</code></a></td><td>Whether to use default feature set</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_editline"><code class="literal">WITH_EDITLINE</code></a></td><td>Which libedit/editline library to use</td><td><code class="literal">bundled</code></td><td>5.7.2</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_embedded_server"><code class="literal">WITH_EMBEDDED_SERVER</code></a></td><td>Whether to build embedded server</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_embedded_shared_library"><code class="literal">WITH_EMBEDDED_SHARED_LIBRARY</code></a></td><td>Whether to build a shared embedded server library</td><td><code class="literal">OFF</code></td><td>5.7.4</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_extra_charsets"><code class="literal">WITH_EXTRA_CHARSETS</code></a></td><td>Which extra character sets to include</td><td><code class="literal">all</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_extra_debug"><code class="literal">WITH_INNODB_EXTRA_DEBUG</code></a></td><td>Whether to include extra debugging support for InnoDB.</td><td><code class="literal">OFF</code></td><td>5.7.2</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_memcached"><code class="literal">WITH_INNODB_MEMCACHED</code></a></td><td>Whether to generate memcached shared libraries.</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_keyring_test"><code class="literal">WITH_KEYRING_TEST</code></a></td><td>Build the keyring test program</td><td><code class="literal">OFF</code></td><td>5.7.11</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libevent"><code class="literal">WITH_LIBEVENT</code></a></td><td>Which libevent library to use</td><td><code class="literal">bundled</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></td><td>Whether to include libwrap (TCP wrappers) support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_mecab"><code class="literal">WITH_MECAB</code></a></td><td>Compiles MeCab</td><td> </td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_msan"><code class="literal">WITH_MSAN</code></a></td><td>Enable MemorySanitizer</td><td><code class="literal">OFF</code></td><td>5.7.4</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_mscrt_debug"><code class="literal">WITH_MSCRT_DEBUG</code></a></td><td>Enable Visual Studio CRT memory leak tracing</td><td><code class="literal">OFF</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbcluster"><code class="literal">WITH_NDBCLUSTER</code></a></td><td>Build the NDB storage engine; alias for WITH_NDBCLUSTER_STORAGE_ENGINE</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="literal">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a></td><td>Build the NDB storage engine</td><td><code class="literal">ON</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_rapid"><code class="literal">WITH_RAPID</code></a></td><td>Whether to build rapid development cycle plugins</td><td><code class="literal">ON</code></td><td>5.7.12</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></td><td>Type of SSL support</td><td><code class="literal">bundled</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_systemd"><code class="literal">WITH_SYSTEMD</code></a></td><td>Enable installation of systemd support files</td><td><code class="literal">OFF</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_test_trace_plugin"><code class="literal">WITH_TEST_TRACE_PLUGIN</code></a></td><td>Build test protocol trace plugin</td><td><code class="literal">OFF</code></td><td>5.7.2</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_ubsan"><code class="literal">WITH_UBSAN</code></a></td><td>Enable Undefined Behavior Sanitizer</td><td><code class="literal">OFF</code></td><td>5.7.6</td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></td><td>Enable unixODBC support</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_valgrind"><code class="literal">WITH_VALGRIND</code></a></td><td>Whether to compile in Valgrind header files</td><td><code class="literal">OFF</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></td><td>Type of zlib support</td><td><code class="literal">bundled</code></td><td> </td><td> </td></tr><tr><td scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="Storage Engine Options"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></td><td>Compile storage engine xxx statically into server</td><td> </td><td> </td><td> </td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      The following sections provide more information about
      <span class="command"><strong>CMake</strong></span> options.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-general-options" title="General Options">General Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-installation-layout-options" title="Installation Layout Options">Installation Layout Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-feature-options" title="Feature Options">Feature Options</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-mysql-cluster-options" title="CMake Options for Compiling MySQL Cluster">CMake Options for Compiling MySQL Cluster</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#cmake-compiler-flags" title="Compiler Flags">Compiler Flags</a>
</p></li></ul>
</div>
<p>
      For boolean options, the value may be specified as 1 or
      <code class="literal">ON</code> to enable the option, or as 0 or
      <code class="literal">OFF</code> to disable the option.
    </p><p>
      Many options configure compile-time defaults that can be
      overridden at server startup. For example, the
      <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a>,
      <a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="option">MYSQL_TCP_PORT</code></a>, and
      <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> options that
      configure the default installation base directory location, TCP/IP
      port number, and Unix socket file can be changed at server startup
      with the <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>,
      <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a>, and
      <a class="link" href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> options for
      <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Where applicable, configuration option
      descriptions indicate the corresponding <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
      startup option.
</p>
<h4><a name="cmake-general-options"></a>General Options</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_build_config"></a>
          <a class="indexterm" name="idm140644215323040"></a>

          <a class="indexterm" name="idm140644215321552"></a>

          <code class="literal">-DBUILD_CONFIG=mysql_release</code>
        </p><p>
          This option configures a source distribution with the same
          build options used by Oracle to produce binary distributions
          for official MySQL releases.
        </p></li><li class="listitem"><p><a name="option_cmake_cmake_build_type"></a>
          <a class="indexterm" name="idm140644215317536"></a>

          <a class="indexterm" name="idm140644215316048"></a>

          <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p>
          The type of build to produce:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">RelWithDebInfo</code>: Enable optimizations
              and generate debugging information. This is the default
              MySQL build type.
            </p></li><li class="listitem"><p>
              <code class="literal">Debug</code>: Disable optimizations and
              generate debugging information. This build type is also
              used if the <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a>
              option is enabled. That is,
              <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a> has the same
              effect as
              <a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="option">-DCMAKE_BUILD_TYPE=Debug</code></a>.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_cpack_monolithic_install"></a>
          <a class="indexterm" name="idm140644215305296"></a>

          <a class="indexterm" name="idm140644215303840"></a>

          <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          This option affects whether the <span class="command"><strong>make
          package</strong></span> operation produces multiple installation
          package files or a single file. If disabled, the operation
          produces multiple installation package files, which may be
          useful if you want to install only a subset of a full MySQL
          installation. If enabled, it produces a single file for
          installing everything.
</p></li></ul>
</div>
<h4><a name="cmake-installation-layout-options"></a>Installation Layout Options</h4>
<p>
      The <a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="option">CMAKE_INSTALL_PREFIX</code></a> option
      indicates the base installation directory. Other options with
      names of the form
      <code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code> that
      indicate component locations are interpreted relative to the
      prefix and their values are relative pathnames. Their values
      should not include the prefix.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_install_prefix"></a>
          <a class="indexterm" name="idm140644215294368"></a>

          <a class="indexterm" name="idm140644215292912"></a>

          <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The installation base directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_install_bindir"></a>
          <a class="indexterm" name="idm140644215287344"></a>

          <a class="indexterm" name="idm140644215285856"></a>

          <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install user programs.
        </p></li><li class="listitem"><p><a name="option_cmake_install_docdir"></a>
          <a class="indexterm" name="idm140644215281760"></a>

          <a class="indexterm" name="idm140644215280272"></a>

          <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install documentation.
        </p></li><li class="listitem"><p><a name="option_cmake_install_docreadmedir"></a>
          <a class="indexterm" name="idm140644215276128"></a>

          <a class="indexterm" name="idm140644215274672"></a>

          <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">README</code> files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_includedir"></a>
          <a class="indexterm" name="idm140644215269824"></a>

          <a class="indexterm" name="idm140644215268368"></a>

          <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install header files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_infodir"></a>
          <a class="indexterm" name="idm140644215264160"></a>

          <a class="indexterm" name="idm140644215262672"></a>

          <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install Info files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_layout"></a>
          <a class="indexterm" name="idm140644215258528"></a>

          <a class="indexterm" name="idm140644215257040"></a>

          <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Select a predefined installation layout:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">STANDALONE</code>: Same layout as used for
              <code class="filename">.tar.gz</code> and <code class="filename">.zip</code>
              packages. This is the default.
            </p></li><li class="listitem"><p>
              <code class="literal">RPM</code>: Layout similar to RPM packages.
            </p></li><li class="listitem"><p>
              <code class="literal">SVR4</code>: Solaris package layout.
            </p></li><li class="listitem"><p>
              <code class="literal">DEB</code>: DEB package layout (experimental).
</p></li></ul>
</div>
<p>
          You can select a predefined layout but modify individual
          component installation locations by specifying other options.
          For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data</code></strong>
</pre><p>
          As of MySQL 5.7.6, the
          <a class="link" href="installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a> value determines
          the default value of the
          <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system and
          <a class="link" href="server-administration.html#sysvar_keyring_file_data"><code class="literal">keyring_file_data</code></a> system
          variables; see the descriptions of those variables in
          <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_libdir"></a>
          <a class="indexterm" name="idm140644215238112"></a>

          <a class="indexterm" name="idm140644215236624"></a>

          <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install library files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mandir"></a>
          <a class="indexterm" name="idm140644215232544"></a>

          <a class="indexterm" name="idm140644215231056"></a>

          <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install manual pages.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlkeyringdir"></a>
          <a class="indexterm" name="idm140644215226912"></a>

          <a class="indexterm" name="idm140644215225456"></a>

          <code class="literal">-DINSTALL_MYSQLKEYRINGDIR=<em class="replaceable"><code>dir_path</code></em></code>
        </p><p>
          The default directory to use as the location of the
          <code class="literal">keyring_file</code> plugin data file. The default
          value is platform specific and depends on the value of the
          <a class="link" href="installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a>
          <span class="command"><strong>CMake</strong></span> option; see the description of the
          <a class="link" href="server-administration.html#sysvar_keyring_file_data"><code class="literal">keyring_file_data</code></a> system
          variable in <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a>.
        </p><p>
          This option was added in MySQL 5.7.11.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlsharedir"></a>
          <a class="indexterm" name="idm140644215216256"></a>

          <a class="indexterm" name="idm140644215214800"></a>

          <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install shared data files.
        </p></li><li class="listitem"><p><a name="option_cmake_install_mysqltestdir"></a>
          <a class="indexterm" name="idm140644215210576"></a>

          <a class="indexterm" name="idm140644215209120"></a>

          <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">mysql-test</code>
          directory. As of MySQL 5.7.2, to suppress installation of this
          directory, explicitly set the option to the empty value
          (<a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="option">-DINSTALL_MYSQLTESTDIR=</code></a>).
        </p></li><li class="listitem"><p><a name="option_cmake_install_pkgconfigdir"></a>
          <a class="indexterm" name="idm140644215203152"></a>

          <a class="indexterm" name="idm140644215201696"></a>

          <code class="literal">-DINSTALL_PKGCONFIGDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The directory in which to install the
          <code class="filename">mysqlclient.pc</code> file for use by
          <span class="command"><strong>pkg-config</strong></span>. The default value is
          <code class="literal">INSTALL_LIBDIR/pkgconfig</code>, unless
          <a class="link" href="installing.html#option_cmake_install_libdir"><code class="option">INSTALL_LIBDIR</code></a> ends with
          <code class="literal">/mysql</code>, in which case that is removed
          first.
        </p><p>
          This option was added in MySQL 5.7.9.
        </p></li><li class="listitem"><p><a name="option_cmake_install_plugindir"></a>
          <a class="indexterm" name="idm140644215193104"></a>

          <a class="indexterm" name="idm140644215191648"></a>

          <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the plugin directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="option">--plugin_dir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sbindir"></a>
          <a class="indexterm" name="idm140644215185824"></a>

          <a class="indexterm" name="idm140644215184336"></a>

          <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server.
        </p></li><li class="listitem"><p><a name="option_cmake_install_scriptdir"></a>
          <a class="indexterm" name="idm140644215178976"></a>

          <a class="indexterm" name="idm140644215177520"></a>

          <code class="literal">-DINSTALL_SCRIPTDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_secure_file_privdir"></a>
          <a class="indexterm" name="idm140644215172112"></a>

          <a class="indexterm" name="idm140644215170608"></a>

          <code class="literal">-DINSTALL_SECURE_FILE_PRIVDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default value for the
          <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
          variable. The default value is platform specific and depends
          on the value of the
          <a class="link" href="installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a>
          <span class="command"><strong>CMake</strong></span> option; see the description of the
          <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
          variable in <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a>.
        </p><p>
          This option was added in MySQL 5.7.6. To set the value for the
          <code class="literal">libmysqld</code> embedded server, use
          <a class="link" href="installing.html#option_cmake_install_secure_file_priv_embeddeddir"><code class="option">INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR</code></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_secure_file_priv_embeddeddir"></a>
          <a class="indexterm" name="idm140644215159184"></a>

          <a class="indexterm" name="idm140644215157728"></a>

          <code class="literal">-DINSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default value for the
          <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
          variable, for the <code class="literal">libmysqld</code> embedded
          server. This option was added in MySQL 5.7.8.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sharedir"></a>
          <a class="indexterm" name="idm140644215151456"></a>

          <a class="indexterm" name="idm140644215149968"></a>

          <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install <code class="filename">aclocal/mysql.m4</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_install_sqlbenchdir"></a>
          <a class="indexterm" name="idm140644215145104"></a>

          <a class="indexterm" name="idm140644215143648"></a>

          <code class="literal">-DINSTALL_SQLBENCHDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install the <code class="filename">sql-bench</code> directory.
          To suppress installation of this directory, explicitly set the
          option to the empty value
          (<a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="option">-DINSTALL_SQLBENCHDIR=</code></a>).
        </p><p>
          As of MySQL 5.7.8, the <code class="filename">sql-bench</code>
          directory is no longer included in MYSQL distributions, so the
          <a class="link" href="installing.html#option_cmake_install_sqlbenchdir"><code class="option">INSTALL_SQLBENCHDIR=</code></a> option is
          removed as well.
        </p></li><li class="listitem"><p><a name="option_cmake_install_supportfilesdir"></a>
          <a class="indexterm" name="idm140644215135392"></a>

          <a class="indexterm" name="idm140644215133936"></a>

          <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Where to install extra support files.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_datadir"></a>
          <a class="indexterm" name="idm140644215129760"></a>

          <a class="indexterm" name="idm140644215128272"></a>

          <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the MySQL data directory.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_includes"></a>
          <a class="indexterm" name="idm140644215122688"></a>

          <a class="indexterm" name="idm140644215121200"></a>

          <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC includes directory, and may be used
          while configuring Connector/ODBC.
        </p></li><li class="listitem"><p><a name="option_cmake_odbc_lib_dir"></a>
          <a class="indexterm" name="idm140644215117040"></a>

          <a class="indexterm" name="idm140644215115552"></a>

          <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The location of the ODBC library directory, and may be used
          while configuring Connector/ODBC.
        </p></li><li class="listitem"><p><a name="option_cmake_sysconfdir"></a>
          <a class="indexterm" name="idm140644215111392"></a>

          <a class="indexterm" name="idm140644215109936"></a>

          <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default <code class="literal">my.cnf</code> option file directory.
        </p><p>
          This location cannot be set at server startup, but you can
          start the server with a given option file using the
          <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code></a>
          option, where <em class="replaceable"><code>file_name</code></em> is the full
          path name to the file.
        </p></li><li class="listitem"><p><a name="option_cmake_systemd_pid_dir"></a>
          <a class="indexterm" name="idm140644215102832"></a>

          <a class="indexterm" name="idm140644215101344"></a>

          <a class="indexterm" name="idm140644215099856"></a>

          <code class="literal">-DSYSTEMD_PID_DIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The name of the directory in which to create the PID file when
          MySQL is managed by systemd. The default is
          <code class="filename">/var/run/mysqld</code>; this might be changed
          implicitly according to the
          <a class="link" href="installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a> value.
        </p><p>
          This option is ignored unless
          <a class="link" href="installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a> is enabled. It was
          added in MySQL 5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_systemd_service_name"></a>
          <a class="indexterm" name="idm140644215092400"></a>

          <a class="indexterm" name="idm140644215090944"></a>

          <a class="indexterm" name="idm140644215089440"></a>

          <code class="literal">-DSYSTEMD_SERVICE_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          The name of the MySQL service to use when MySQL is managed by
          systemd. The default is <code class="literal">mysqld</code>; this might
          be changed implicitly according to the
          <a class="link" href="installing.html#option_cmake_install_layout"><code class="option">INSTALL_LAYOUT</code></a> value.
        </p><p>
          This option is ignored unless
          <a class="link" href="installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a> is enabled. It was
          added in MySQL 5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_tmpdir"></a>
          <a class="indexterm" name="idm140644215081968"></a>

          <a class="indexterm" name="idm140644215080512"></a>

          <code class="literal">-DTMPDIR=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          The default location to use for the
          <a class="link" href="server-administration.html#sysvar_tmpdir"><code class="literal">tmpdir</code></a> system variable. If
          unspecified, the value defaults to <code class="literal">P_tmpdir</code>
          in <code class="literal">&lt;stdio.h&gt;</code>. This option was added
          in MySQL 5.7.4.
</p></li></ul>
</div>
<h4><a name="option_cmake_storage_engine_options"></a>Storage Engine Options</h4>
<p>
      Storage engines are built as plugins. You can build a plugin as a
      static module (compiled into the server) or a dynamic module
      (built as a dynamic library that must be installed into the server
      using the <a class="link" href="sql-syntax.html#install-plugin" title="13.7.3.3 INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> statement
      or the <a class="link" href="server-administration.html#option_mysqld_plugin-load"><code class="option">--plugin-load</code></a> option before
      it can be used). Some plugins might not support static or dynamic
      building.
    </p><p>
      The <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2 The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>,
      <a class="link" href="storage-engines.html#merge-storage-engine" title="15.7 The MERGE Storage Engine"><code class="literal">MERGE</code></a>,
      <a class="link" href="storage-engines.html#memory-storage-engine" title="15.3 The MEMORY Storage Engine"><code class="literal">MEMORY</code></a>, and
      <a class="link" href="storage-engines.html#csv-storage-engine" title="15.4 The CSV Storage Engine"><code class="literal">CSV</code></a> engines are mandatory (always
      compiled into the server) and need not be installed explicitly.
    </p><p>
      To compile a storage engine statically into the server, use
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      Some permissible <em class="replaceable"><code>engine</code></em> values are
      <code class="literal">ARCHIVE</code>, <code class="literal">BLACKHOLE</code>,
      <code class="literal">EXAMPLE</code>, <code class="literal">FEDERATED</code>,
      <code class="literal">INNOBASE</code> (<a class="link" href="innodb-storage-engine.html" title="Chapter 14 The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>),
      <code class="literal">NDB</code> or <code class="literal">NDBCLUSTER</code>
      (<a class="link" href="mysql-cluster.html" title="Chapter 18 MySQL Cluster NDB 7.5"><code class="literal">NDB</code></a>), <code class="literal">PARTITION</code>
      (partitioning support), and <code class="literal">PERFSCHEMA</code>
      (Performance Schema). Examples:
    </p><pre class="programlisting">
-DWITH_INNOBASE_STORAGE_ENGINE=1
-DWITH_ARCHIVE_STORAGE_ENGINE=1
-DWITH_BLACKHOLE_STORAGE_ENGINE=1
-DWITH_PERFSCHEMA_STORAGE_ENGINE=1
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a> is
        supported only when building MySQL Cluster using the MySQL
        Cluster sources. It cannot be used to enable clustering support
        in other MySQL source trees or distributions. In MySQL Cluster
        source distributions, it is enabled by default. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="18.2.2.4 Building MySQL Cluster from Source on Linux">Section 18.2.2.4, “Building MySQL Cluster from Source on Linux”</a>, and
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="18.2.3.2 Compiling and Installing MySQL Cluster from Source on Windows">Section 18.2.3.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>, for more
        information.
</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
        As of MySQL 5.7.9, it is not possible to compile without
        Performance Schema support. If it is desired to compile without
        particular types of instrumentation, that can be done with the
        following <span class="command"><strong>CMake</strong></span> options:
      </p><pre class="programlisting">
DISABLE_PSI_COND
DISABLE_PSI_FILE
DISABLE_PSI_IDLE
DISABLE_PSI_MEMORY
DISABLE_PSI_METADATA
DISABLE_PSI_MUTEX
DISABLE_PSI_PS
DISABLE_PSI_RWLOCK
DISABLE_PSI_SOCKET
DISABLE_PSI_SP
DISABLE_PSI_STAGE
DISABLE_PSI_STATEMENT
DISABLE_PSI_STATEMENT_DIGEST
DISABLE_PSI_TABLE
DISABLE_PSI_THREAD
DISABLE_PSI_TRANSACTION
</pre><p>
        For example, to compile without mutex instrumentation, configure
        MySQL using the <code class="option">-DDISABLE_PSI_MUTEX=1</code> option.
</p>
</div>
<p>
      As of MySQL 5.7.4, to exclude a storage engine from the build, use
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code>.
      Examples:
    </p><pre class="programlisting">
-DWITH_EXAMPLE_STORAGE_ENGINE=0
-DWITH_FEDERATED_STORAGE_ENGINE=0
-DWITH_PARTITION_STORAGE_ENGINE=0
</pre><p>
      Before MySQL 5.7.4, to exclude a storage engine from the build,
      use
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code>.
      (That syntax also works in 5.7.4 or later, but
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code>
      is preferred.) Examples:
    </p><pre class="programlisting">
-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
-DWITHOUT_FEDERATED_STORAGE_ENGINE=1
-DWITHOUT_PARTITION_STORAGE_ENGINE=1
</pre><p>
      If neither
      <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      nor
      <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code>
      are specified for a given storage engine, the engine is built as a
      shared module, or excluded if it cannot be built as a shared
      module.
</p>
<h4><a name="cmake-feature-options"></a>Feature Options</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_compilation_comment"></a>
          <a class="indexterm" name="idm140644215033744"></a>

          <a class="indexterm" name="idm140644215032288"></a>

          <code class="literal">-DCOMPILATION_COMMENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          A descriptive comment about the compilation environment.
        </p></li><li class="listitem"><p><a name="option_cmake_default_charset"></a>
          <a class="indexterm" name="idm140644215028112"></a>

          <a class="indexterm" name="idm140644215026624"></a>

          <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
        </p><p>
          The server character set. By default, MySQL uses the
          <code class="literal">latin1</code> (cp1252 West European) character
          set.
        </p><p>
          <em class="replaceable"><code>charset_name</code></em> may be one of
          <code class="literal">binary</code>, <code class="literal">armscii8</code>,
          <code class="literal">ascii</code>, <code class="literal">big5</code>,
          <code class="literal">cp1250</code>, <code class="literal">cp1251</code>,
          <code class="literal">cp1256</code>, <code class="literal">cp1257</code>,
          <code class="literal">cp850</code>, <code class="literal">cp852</code>,
          <code class="literal">cp866</code>, <code class="literal">cp932</code>,
          <code class="literal">dec8</code>, <code class="literal">eucjpms</code>,
          <code class="literal">euckr</code>, <code class="literal">gb2312</code>,
          <code class="literal">gbk</code>, <code class="literal">geostd8</code>,
          <code class="literal">greek</code>, <code class="literal">hebrew</code>,
          <code class="literal">hp8</code>, <code class="literal">keybcs2</code>,
          <code class="literal">koi8r</code>, <code class="literal">koi8u</code>,
          <code class="literal">latin1</code>, <code class="literal">latin2</code>,
          <code class="literal">latin5</code>, <code class="literal">latin7</code>,
          <code class="literal">macce</code>, <code class="literal">macroman</code>,
          <code class="literal">sjis</code>, <code class="literal">swe7</code>,
          <code class="literal">tis620</code>, <code class="literal">ucs2</code>,
          <code class="literal">ujis</code>, <code class="literal">utf8</code>,
          <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
          <code class="literal">utf16le</code>, <code class="literal">utf32</code>. The
          permissible character sets are listed in the
          <code class="filename">cmake/character_sets.cmake</code> file as the
          value of <code class="literal">CHARSETS_AVAILABLE</code>.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character_set_server</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_default_collation"></a>
          <a class="indexterm" name="idm140644214989536"></a>

          <a class="indexterm" name="idm140644214988080"></a>

          <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
        </p><p>
          The server collation. By default, MySQL uses
          <code class="literal">latin1_swedish_ci</code>. Use the
          <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4 SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> statement to
          determine which collations are available for each character
          set.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation_server</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_cond"></a>
          <a class="indexterm" name="idm140644214980080"></a>

          <a class="indexterm" name="idm140644214978592"></a>

          <code class="literal">-DDISABLE_PSI_COND=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema condition
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_file"></a>
          <a class="indexterm" name="idm140644214973712"></a>

          <a class="indexterm" name="idm140644214972224"></a>

          <code class="literal">-DDISABLE_PSI_FILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema file
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_idle"></a>
          <a class="indexterm" name="idm140644214967360"></a>

          <a class="indexterm" name="idm140644214965872"></a>

          <code class="literal">-DDISABLE_PSI_IDLE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema idle
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_memory"></a>
          <a class="indexterm" name="idm140644214960944"></a>

          <a class="indexterm" name="idm140644214959488"></a>

          <code class="literal">-DDISABLE_PSI_MEMORY=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema memory
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_metadata"></a>
          <a class="indexterm" name="idm140644214954496"></a>

          <a class="indexterm" name="idm140644214953040"></a>

          <code class="literal">-DDISABLE_PSI_METADATA=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema metadata
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_mutex"></a>
          <a class="indexterm" name="idm140644214948032"></a>

          <a class="indexterm" name="idm140644214946576"></a>

          <code class="literal">-DDISABLE_PSI_MUTEX=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema mutex
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_rwlock"></a>
          <a class="indexterm" name="idm140644214941584"></a>

          <a class="indexterm" name="idm140644214940128"></a>

          <code class="literal">-DDISABLE_PSI_RWLOCK=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema rwlock
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_socket"></a>
          <a class="indexterm" name="idm140644214935200"></a>

          <a class="indexterm" name="idm140644214933744"></a>

          <code class="literal">-DDISABLE_PSI_SOCKET=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema socket
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_sp"></a>
          <a class="indexterm" name="idm140644214928752"></a>

          <a class="indexterm" name="idm140644214927264"></a>

          <code class="literal">-DDISABLE_PSI_SP=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema stored program
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_stage"></a>
          <a class="indexterm" name="idm140644214922320"></a>

          <a class="indexterm" name="idm140644214920864"></a>

          <code class="literal">-DDISABLE_PSI_STAGE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema stage
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement"></a>
          <a class="indexterm" name="idm140644214915872"></a>

          <a class="indexterm" name="idm140644214914416"></a>

          <code class="literal">-DDISABLE_PSI_STATEMENT=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema statement
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement_digest"></a>
          <a class="indexterm" name="idm140644214909344"></a>

          <a class="indexterm" name="idm140644214907840"></a>

          <code class="literal">-DDISABLE_PSI_STATEMENT_DIGEST=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema statement_digest
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_table"></a>
          <a class="indexterm" name="idm140644214902944"></a>

          <a class="indexterm" name="idm140644214901488"></a>

          <code class="literal">-DDISABLE_PSI_TABLE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to exclude the Performance Schema table
          instrumentation. The default is <code class="literal">OFF</code>
          (include). This option was added in MySQL 5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_download_boost"></a>
          <a class="indexterm" name="idm140644214896496"></a>

          <a class="indexterm" name="idm140644214895008"></a>

          <code class="literal">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to download the Boost library. The default is
          <code class="literal">OFF</code>. This option was added in MySQL 5.7.5.
        </p><p>
          See the <a class="link" href="installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a> option for
          additional discussion about using Boost.
        </p></li><li class="listitem"><p><a name="option_cmake_download_boost_timeout"></a>
          <a class="indexterm" name="idm140644214888752"></a>

          <a class="indexterm" name="idm140644214887296"></a>

          <code class="literal">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code>
        </p><p>
          The timeout in seconds for downloading the Boost library. The
          default is 600 seconds. This option was added in MySQL 5.7.6.
        </p><p>
          See the <a class="link" href="installing.html#option_cmake_with_boost"><code class="option">WITH_BOOST</code></a> option for
          additional discussion about using Boost.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_debug_sync"></a>
          <a class="indexterm" name="idm140644214881536"></a>

          <a class="indexterm" name="idm140644214880080"></a>

          <code class="literal">-DENABLE_DEBUG_SYNC=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to compile the Debug Sync facility into the server.
          This facility is used for testing and debugging. This option
          is enabled by default, but has no effect unless MySQL is
          configured with debugging enabled. If debugging is enabled and
          you want to disable Debug Sync, use
          <a class="link" href="installing.html#option_cmake_enable_debug_sync"><code class="option">-DENABLE_DEBUG_SYNC=0</code></a>.
        </p><p>
          When compiled in, Debug Sync is disabled by default at
          runtime. To enable it, start <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
          the
          <a class="link" href="server-administration.html#option_mysqld_debug-sync-timeout"><code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code></a>
          option, where <em class="replaceable"><code>N</code></em> is a timeout value
          greater than 0. (The default value is 0, which disables Debug
          Sync.) <em class="replaceable"><code>N</code></em> becomes the default
          timeout for individual synchronization points.
        </p><p>
          As of MySQL 5.7.8, sync debug checking for the
          <code class="literal">InnoDB</code> storage engine is available when
          debugging support is compiled in using the
          <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a> option.
        </p><p>
          For a description of the Debug Sync facility and how to use
          synchronization points, see
          <a class="ulink" href="http://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top">MySQL
          Internals: Test Synchronization</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_downloads"></a>
          <a class="indexterm" name="idm140644214866864"></a>

          <a class="indexterm" name="idm140644214865376"></a>

          <a class="indexterm" name="idm140644214863888"></a>

          <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to download optional files. For example, with this
          option enabled, <span class="command"><strong>CMake</strong></span> downloads the Google
          Test distribution that is used by the test suite to run unit
          tests.
        </p></li><li class="listitem"><p><a name="option_cmake_enable_dtrace"></a>
          <a class="indexterm" name="idm140644214859296"></a>

          <a class="indexterm" name="idm140644214857808"></a>

          <code class="literal">-DENABLE_DTRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include support for DTrace probes. For information
          about DTrace, wee <a class="xref" href="server-administration.html#dba-dtrace-server" title="5.4 Tracing mysqld Using DTrace">Section 5.4, “Tracing mysqld Using DTrace”</a>
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gcov"></a>
          <a class="indexterm" name="idm140644214852816"></a>

          <a class="indexterm" name="idm140644214851360"></a>

          <code class="literal">-DENABLE_GCOV=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include gcov support (Linux only).
        </p></li><li class="listitem"><p><a name="option_cmake_enable_gprof"></a>
          <a class="indexterm" name="idm140644214847200"></a>

          <a class="indexterm" name="idm140644214845712"></a>

          <code class="literal">-DENABLE_GPROF=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable <code class="literal">gprof</code> (optimized Linux
          builds only).
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_local_infile"></a>
          <a class="indexterm" name="idm140644214840896"></a>

          <a class="indexterm" name="idm140644214839440"></a>

          <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable <code class="literal">LOCAL</code> capability in the
          client library for
          <a class="link" href="sql-syntax.html#load-data" title="13.2.6 LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
          INFILE</code></a>.
        </p><p>
          This option controls client-side <code class="literal">LOCAL</code>
          capability, but the capability can be set on the server side
          at server startup with the
          <a class="link" href="server-administration.html#sysvar_local_infile"><code class="literal">--local-infile</code></a> option. See
          <a class="xref" href="security.html#load-data-local" title="6.1.6 Security Issues with LOAD DATA LOCAL">Section 6.1.6, “Security Issues with LOAD DATA LOCAL”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_enabled_profiling"></a>
          <a class="indexterm" name="idm140644214829760"></a>

          <a class="indexterm" name="idm140644214828304"></a>

          <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable query profiling code (for the
          <a class="link" href="sql-syntax.html#show-profile" title="13.7.5.30 SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> and
          <a class="link" href="sql-syntax.html#show-profiles" title="13.7.5.31 SHOW PROFILES Syntax"><code class="literal">SHOW PROFILES</code></a> statements).
        </p></li><li class="listitem"><p><a name="option_cmake_force_unsupported_compiler"></a>
          <a class="indexterm" name="idm140644214821376"></a>

          <a class="indexterm" name="idm140644214819920"></a>

          <code class="literal">-DFORCE_UNSUPPORTED_COMPILER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          By default, <span class="command"><strong>CMake</strong></span> checks for minimum
          versions of supported compilers: <span class="command"><strong>gcc</strong></span> 4.4
          (Linux, Solaris); Sun Studio 12u2 (Solaris client library);
          Clang 3.3 (OS X, FreeBSD). To disable this check, use
          <a class="link" href="installing.html#option_cmake_force_unsupported_compiler"><code class="option">-DFORCE_UNSUPPORTED_COMPILER=ON</code></a>.
          This option was added in MySQL 5.7.5.
        </p></li><li class="listitem"><p><a name="option_cmake_ignore_aio_check"></a>
          <a class="indexterm" name="idm140644214813088"></a>

          <a class="indexterm" name="idm140644214811600"></a>

          <a class="indexterm" name="idm140644214810112"></a>

          <code class="literal">-DIGNORE_AIO_CHECK=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          If the
          <a class="link" href="installing.html#option_cmake_build_config"><code class="option">-DBUILD_CONFIG=mysql_release</code></a>
          option is given on Linux, the <code class="literal">libaio</code>
          library must be linked in by default. If you do not have
          <code class="literal">libaio</code> or do not want to install it, you
          can suppress the check for it by specifying
          <a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="option">-DIGNORE_AIO_CHECK=1</code></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_innodb_page_atomic_ref_count"></a>
          <a class="indexterm" name="idm140644214802688"></a>

          <a class="indexterm" name="idm140644214801232"></a>

          <code class="literal">-DINNODB_PAGE_ATOMIC_REF_COUNT=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable or disable atomic page reference counting.
          Fetching and releasing pages from the buffer pool and tracking
          the page state are expensive and complex operations. Using a
          page mutex to track these operations does not scale well. With
          <code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT=ON</code> (default),
          fetch and release is tracked using atomics where available.
          For platforms that do not support atomics, set
          <code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT=OFF</code> to disable
          atomic page reference counting.
        </p><p>
          When atomic page reference counting is enabled (default),
          <span class="quote">“<span class="quote"><code class="literal">[Note] InnoDB: Using atomics to ref count
          buffer pool pages</code></span>”</span> is printed to the error
          log at server startup. If atomic page reference counting is
          disabled, <span class="quote">“<span class="quote"><code class="literal">[Note] InnoDB: Using mutexes to ref
          count buffer pool pages</code></span>”</span> is printed instead.
        </p><p>
          <code class="literal">INNODB_PAGE_ATOMIC_REF_COUNT</code> was introduced
          with the fix for MySQL Bug #68079. The option is removed in
          MySQL 5.7.5. Support for atomics is required to build MySQL as
          of MySQL 5.7.5, which makes the option obsolete.
        </p></li><li class="listitem"><p><a name="option_cmake_max_indexes"></a>
          <a class="indexterm" name="idm140644214791456"></a>

          <a class="indexterm" name="idm140644214789968"></a>

          <code class="literal">-DMAX_INDEXES=<em class="replaceable"><code>num</code></em></code>
        </p><p>
          The maximum number of indexes per table. The default is 64.
          The maximum is 255. Values smaller than 64 are ignored and the
          default of 64 is used.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_maintainer_mode"></a>
          <a class="indexterm" name="idm140644214785712"></a>

          <a class="indexterm" name="idm140644214784256"></a>

          <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable a MySQL maintainer-specific development
          environment. If enabled, this option causes compiler warnings
          to become errors.
        </p></li><li class="listitem"><p><a name="option_cmake_mutex_type"></a>
          <a class="indexterm" name="idm140644214779952"></a>

          <a class="indexterm" name="idm140644214778496"></a>

          <code class="literal">-DMUTEX_TYPE=<em class="replaceable"><code>type</code></em></code>
        </p><p>
          The mutex type used by <code class="literal">InnoDB</code>. Options
          include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">event</code>: Use event mutexes. This is the
              default value and the original <code class="literal">InnoDB</code>
              mutex implementation.
            </p></li><li class="listitem"><p>
              <code class="literal">sys</code>: Use POSIX mutexes on UNIX systems.
              Use <code class="literal">CRITICAL_SECTION</code> onjects on
              Windows, if available.
            </p></li><li class="listitem"><p>
              <code class="literal">futex</code>: Use Linux futexes instead of
              condition variables to schedule waiting threads.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_mysql_project_name"></a>
          <a class="indexterm" name="idm140644214767120"></a>

          <a class="indexterm" name="idm140644214765664"></a>

          <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          For Windows or OS X, the project name to incorporate into the
          project file name.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_tcp_port"></a>
          <a class="indexterm" name="idm140644214761392"></a>

          <a class="indexterm" name="idm140644214759904"></a>

          <a class="indexterm" name="idm140644214758416"></a>

          <a class="indexterm" name="idm140644214757344"></a>

          <a class="indexterm" name="idm140644214756272"></a>

          <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
        </p><p>
          The port number on which the server listens for TCP/IP
          connections. The default is 3306.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_mysql_unix_addr"></a>
          <a class="indexterm" name="idm140644214751056"></a>

          <a class="indexterm" name="idm140644214749568"></a>

          <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
        </p><p>
          The Unix socket file path on which the server listens for
          socket connections. This must be an absolute path name. The
          default is <code class="filename">/tmp/mysql.sock</code>.
        </p><p>
          This value can be set at server startup with the
          <a class="link" href="server-administration.html#option_mysqld_socket"><code class="option">--socket</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_optimizer_trace"></a>
          <a class="indexterm" name="idm140644214743232"></a>

          <a class="indexterm" name="idm140644214741776"></a>

          <code class="literal">-DOPTIMIZER_TRACE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to support optimizer tracing. See
          <a class="ulink" href="http://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top">MySQL
          Internals: Tracing the Optimizer</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_win_debug_no_inline"></a>
          <a class="indexterm" name="idm140644214736832"></a>

          <a class="indexterm" name="idm140644214735376"></a>

          <code class="literal">-DWIN_DEBUG_NO_INLINE=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to disable function inlining on Windows. The default
          is off (inlining enabled). This option was added in MySQL
          5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_asan"></a>
          <a class="indexterm" name="idm140644214731104"></a>

          <a class="indexterm" name="idm140644214729648"></a>

          <code class="literal">-DWITH_ASAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable the AddressSanitizer, for compilers that
          support it. The default is off. This option was added in MySQL
          5.7.3.
        </p></li><li class="listitem"><p><a name="option_cmake_with_authentication_pam"></a>
          <a class="indexterm" name="idm140644214725392"></a>

          <a class="indexterm" name="idm140644214723936"></a>

          <code class="literal">-DWITH_AUTHENTICATION_PAM=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the PAM authentication plugin, for source
          trees that include this plugin. (See
          <a class="xref" href="security.html#pam-authentication-plugin" title="6.4.1.5 The PAM Authentication Plugin">Section 6.4.1.5, “The PAM Authentication Plugin”</a>.) Beginning with
          MySQL 5.7.2, if this option is specified and the plugin cannot
          be compiled, the build fails.
        </p></li><li class="listitem"><p><a name="option_cmake_with_boost"></a>
          <a class="indexterm" name="idm140644214718672"></a>

          <a class="indexterm" name="idm140644214717216"></a>

          <code class="literal">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code>
        </p><p>
          As of MySQL 5.7.5, the Boost library is required to build
          MySQL. These <span class="command"><strong>CMake</strong></span> options enable control
          over the library source location, and whether to download it
          automatically:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_with_boost"><code class="option">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code></a>
              specifies the Boost library directory location. It is also
              possible to specify the Boost location by setting the
              <code class="literal">BOOST_ROOT</code> or
              <code class="literal">WITH_BOOST</code> environment variable.
            </p><p>
              As of MySQL 5.7.11,
              <a class="link" href="installing.html#option_cmake_with_boost"><code class="option">-DWITH_BOOST=system</code></a> is
              permitted and indicates that the correct version of Boost
              is installed on the compilation host in the standard
              location. In this case, the installed version of Boost is
              used rather than any version included with a MySQL source
              distribution.
            </p></li><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_download_boost"><code class="option">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code></a>
              specifies whether to download the Boost source if it is
              not present in the specified location. The default is
              <code class="literal">OFF</code>.
            </p></li><li class="listitem"><p>
              <a class="link" href="installing.html#option_cmake_download_boost_timeout"><code class="option">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code></a>
              the timeout in seconds for downloading the Boost library.
              The default is 600 seconds.
</p></li></ul>
</div>
<p>
          For example, if you normally build MySQL placing the object
          output in the <code class="filename">bld</code> subdirectory of your
          MySQL source tree, you can build with Boost like this:
        </p><pre class="programlisting">
mkdir bld
cd bld
cmake .. -DDOWNLOAD_BOOST=ON -DWITH_BOOST=$HOME/my_boost
</pre><p>
          This causes Boost to be downloaded into the
          <code class="filename">my_boost</code> directory under your home
          directory. If the required Boost version is already there, no
          download is done. If the required Boost version changes, the
          newer version is downloaded.
        </p><p>
          If Boost is already installed locally and your compiler finds
          the Boost header files on its own, it may not be necessary to
          specify the preceding <span class="command"><strong>CMake</strong></span> options.
          However, if the version of Boost required by MySQL changes and
          the locally installed version has not been upgraded, you may
          have build problems. Using the <span class="command"><strong>CMake</strong></span>
          options should give you a successful build.
        </p></li><li class="listitem"><p><a name="option_cmake_with_client_protocol_tracing"></a>
          <a class="indexterm" name="idm140644214695792"></a>

          <a class="indexterm" name="idm140644214694288"></a>

          <code class="literal">-DWITH_CLIENT_PROTOCOL_TRACING=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the client-side protocol tracing framework
          into the client library. By default, this option is enabled.
          This option was added in MySQL 5.7.2.
        </p><p>
          For information about writing protocol trace client plugins,
          see <a class="xref" href="extending-mysql.html#writing-protocol-trace-plugins" title="25.2.4.11 Writing Protocol Trace Plugins">Section 25.2.4.11, “Writing Protocol Trace Plugins”</a>.
        </p><p>
          See also the
          <a class="link" href="installing.html#option_cmake_with_test_trace_plugin"><code class="option">WITH_TEST_TRACE_PLUGIN</code></a> option.
        </p></li><li class="listitem"><p><a name="option_cmake_with_debug"></a>
          <a class="indexterm" name="idm140644214687200"></a>

          <a class="indexterm" name="idm140644214685744"></a>

          <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include debugging support.
        </p><p>
          Configuring MySQL with debugging support enables you to use
          the <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug="d,parser_debug"</code></a>
          option when you start the server. This causes the Bison parser
          that is used to process SQL statements to dump a parser trace
          to the server's standard error output. Typically, this output
          is written to the error log.
        </p><p>
          As of MySQL 5.7.8, sync debug checking for the
          <code class="literal">InnoDB</code> storage engine is defined under
          <code class="literal">UNIV_DEBUG</code> and is available when debugging
          support is compiled in using the
          <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a> option. When
          debugging support is compiled in, the
          <a class="link" href="innodb-storage-engine.html#sysvar_innodb_sync_debug"><code class="literal">innodb_sync_debug</code></a>
          configuration option can be used to enable or disable
          <code class="literal">InnoDB</code> sync debug checking.
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_feature_set"></a>
          <a class="indexterm" name="idm140644214674784"></a>

          <a class="indexterm" name="idm140644214673328"></a>

          <code class="literal">-DWITH_DEFAULT_FEATURE_SET=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the flags from
          <code class="filename">cmake/build_configurations/feature_set.cmake</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_editline"></a>
          <a class="indexterm" name="idm140644214668352"></a>

          <a class="indexterm" name="idm140644214666864"></a>

          <code class="literal">-DWITH_EDITLINE=<em class="replaceable"><code>value</code></em></code>
        </p><p>
          Which <code class="literal">libedit</code>/<code class="literal">editline</code>
          library to use. The permitted values are
          <code class="literal">bundled</code> (the default) and
          <code class="literal">system</code>.
        </p><p>
          <a class="link" href="installing.html#option_cmake_with_editline"><code class="option">WITH_EDITLINE</code></a> was added in MySQL
          5.7.2. It replaces <a class="ulink" href="http://dev.mysql.com/doc/refman/5.6/en/source-configuration-options.html#option_cmake_with_libedit" target="_top"><code class="option">WITH_LIBEDIT</code></a>,
          which has been removed.
        </p></li><li class="listitem"><p><a name="option_cmake_with_embedded_server"></a>
          <a class="indexterm" name="idm140644214657472"></a>

          <a class="indexterm" name="idm140644214656016"></a>

          <code class="literal">-DWITH_EMBEDDED_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the <code class="literal">libmysqld</code> embedded
          server library.
        </p></li><li class="listitem"><p><a name="option_cmake_with_embedded_shared_library"></a>
          <a class="indexterm" name="idm140644214651024"></a>

          <a class="indexterm" name="idm140644214649520"></a>

          <code class="literal">-DWITH_EMBEDDED_SHARED_LIBRARY=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build a shared <code class="literal">libmysqld</code>
          embedded server library. This option was added in MySQL 5.7.4.
        </p></li><li class="listitem"><p><a name="option_cmake_with_extra_charsets"></a>
          <a class="indexterm" name="idm140644214644592"></a>

          <a class="indexterm" name="idm140644214643136"></a>

          <code class="literal">-DWITH_EXTRA_CHARSETS=<em class="replaceable"><code>name</code></em></code>
        </p><p>
          Which extra character sets to include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">all</code>: All character sets. This is the
              default.
            </p></li><li class="listitem"><p>
              <code class="literal">complex</code>: Complex character sets.
            </p></li><li class="listitem"><p>
              <code class="literal">none</code>: No extra character sets.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_with_innodb_extra_debug"></a>
          <a class="indexterm" name="idm140644214634016"></a>

          <a class="indexterm" name="idm140644214632560"></a>

          <code class="literal">-DWITH_INNODB_EXTRA_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include extra InnoDB debugging support.
        </p><p>
          Enabling <code class="literal">WITH_INNODB_EXTRA_DEBUG</code> turns on
          extra InnoDB debug checks. This option can only be enabled
          when <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">WITH_DEBUG</code></a> is enabled.
        </p></li><li class="listitem"><p><a name="option_cmake_with_innodb_memcached"></a>
          <a class="indexterm" name="idm140644214626208"></a>

          <a class="indexterm" name="idm140644214624752"></a>

          <code class="literal">-DWITH_INNODB_MEMCACHED=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to generate memcached shared libraries
          (<code class="filename">libmemcached.so</code> and
          <code class="filename">innodb_engine.so</code>).
        </p></li><li class="listitem"><p><a name="option_cmake_with_keyring_test"></a>
          <a class="indexterm" name="idm140644214619136"></a>

          <a class="indexterm" name="idm140644214617680"></a>

          <code class="literal">-DWITH_KEYRING_TEST=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the test program that accompanies the
          <code class="literal">keyring_file</code> plugin. Test file source code
          is located in the
          <code class="filename">plugin/keyring/keyring-test</code> directory.
        </p><p>
          This option was added in MySQL 5.7.11.
        </p></li><li class="listitem"><p><a name="option_cmake_with_libevent"></a>
          <a class="indexterm" name="idm140644214611472"></a>

          <a class="indexterm" name="idm140644214609984"></a>

          <code class="literal">-DWITH_LIBEVENT=<em class="replaceable"><code>string</code></em></code>
        </p><p>
          Which <code class="literal">libevent</code> library to use. Permitted
          values are <code class="literal">bundled</code> (default),
          <code class="literal">system</code>, and <code class="literal">yes</code>. If you
          specify <code class="literal">system</code> or <code class="literal">yes</code>,
          the system <code class="literal">libevent</code> library is used if
          present. If the system library is not found, the bundled
          <code class="literal">libevent</code> library is used. The
          <code class="literal">libevent</code> library is required by
          <code class="literal">InnoDB</code> memcached.
        </p></li><li class="listitem"><p><a name="option_cmake_with_libwrap"></a>
          <a class="indexterm" name="idm140644214598512"></a>

          <a class="indexterm" name="idm140644214597024"></a>

          <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to include <code class="literal">libwrap</code> (TCP wrappers)
          support.
        </p></li><li class="listitem"><p><a name="option_cmake_with_msan"></a>
          <a class="indexterm" name="idm140644214592192"></a>

          <a class="indexterm" name="idm140644214590736"></a>

          <code class="literal">-DWITH_MSAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable MemorySanitizer, for compilers that support
          it. The default is off. This option was added in MySQL 5.7.4.
        </p></li><li class="listitem"><p><a name="option_cmake_with_mecab"></a>
          <a class="indexterm" name="idm140644214586480"></a>

          <a class="indexterm" name="idm140644214585024"></a>

          <code class="literal">-DWITH_MECAB={disabled|system|<em class="replaceable"><code>path_name</code></em>}</code>
        </p><p>
          Use this option to compile the MeCab parser. If you have
          installed MeCab to its default installation directory, set
          <code class="literal">-DWITH_MECAB=system</code>. The
          <code class="literal">system</code> option applies to MeCab
          installations performed from source or from binaries using a
          native package management utility. If you installed MeCab to a
          custom installation directory, specify the path to the MeCab
          installation. For example,
          <code class="literal">-DWITH_MECAB=/opt/mecab</code>. If the
          <code class="literal">system</code> option does not work, specifying the
          MeCab installation path should work in all cases.
        </p><p>
          For related information, see
          <a class="xref" href="functions.html#fulltext-search-mecab" title="12.9.9 MeCab Full-Text Parser Plugin">Section 12.9.9, “MeCab Full-Text Parser Plugin”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_mscrt_debug"></a>
          <a class="indexterm" name="idm140644214576224"></a>

          <a class="indexterm" name="idm140644214574736"></a>

          <code class="literal">-DWITH_MSCRT_DEBUG=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable Visual Studio CRT memory leak tracing. The
          default is <code class="literal">OFF</code>. This option was added in
          MySQL 5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_rapid"></a>
          <a class="indexterm" name="idm140644214569808"></a>

          <a class="indexterm" name="idm140644214568352"></a>

          <code class="literal">-DWITH_RAPID=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the rapid development cycle plugins. When
          enabled, a <code class="filename">rapid</code> directory is created in
          the build tree containing these plugins. When disabled, no
          <code class="filename">rapid</code> directory is created in the build
          tree. The default is <code class="literal">ON</code>, unless the
          <code class="filename">rapid</code> directory is removed from the
          source tree, in which case the default becomes
          <code class="literal">OFF</code>. This option was added in MySQL 5.7.12.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ssl"></a>
          <a class="indexterm" name="idm140644214560368"></a>

          <a class="indexterm" name="idm140644214558912"></a>

          <code class="literal">-DWITH_SSL={<em class="replaceable"><code>ssl_type</code></em></code>|<em class="replaceable"><code>path_name</code></em>}
        </p><p>
          The type of SSL support to include or the path name to the
          OpenSSL installation to use.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <em class="replaceable"><code>ssl_type</code></em> can be one of the
              following values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  <code class="literal">yes</code>: Use the system SSL library if
                  present, else the library bundled with the
                  distribution.
                </p></li><li class="listitem"><p>
                  <code class="literal">bundled</code>: Use the SSL library
                  bundled with the distribution. This is the default.
                </p></li><li class="listitem"><p>
                  <code class="literal">system</code>: Use the system SSL library.
</p></li></ul>
</div>
</li><li class="listitem"><p>
              <em class="replaceable"><code>path_name</code></em> is the path name to
              the OpenSSL installation to use. Using this can be
              preferable to using the
              <em class="replaceable"><code>ssl_type</code></em> value of
              <code class="literal">system</code>, for it can prevent CMake from
              detecting and using an older or incorrect OpenSSL version
              installed on the system. (Another permitted way to do the
              same thing is to set the
              <code class="option">CMAKE_PREFIX_PATH</code> option to
              <em class="replaceable"><code>path_name</code></em>.)
</p></li></ul>
</div>
<p>
          For information about using SSL support, see
          <a class="xref" href="security.html#secure-connections" title="6.3.11 Using Secure Connections">Section 6.3.11, “Using Secure Connections”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_systemd"></a>
          <a class="indexterm" name="idm140644214542624"></a>

          <a class="indexterm" name="idm140644214541136"></a>

          <a class="indexterm" name="idm140644214539648"></a>

          <code class="literal">-DWITH_SYSTEMD=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable installation of systemd support files. By
          default, this option is disabled. When enabled, systemd
          support files are installed, and scripts such as
          <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> and the System V initialization
          script are not installed. On platforms where systemd is not
          available, enabling <a class="link" href="installing.html#option_cmake_with_systemd"><code class="option">WITH_SYSTEMD</code></a>
          results in an error from <span class="command"><strong>CMake</strong></span>.
        </p><p>
          For more information about using systemd, see
          <a class="xref" href="installing.html#server-management-using-systemd" title="2.5.10 Managing MySQL Server with systemd">Section 2.5.10, “Managing MySQL Server with systemd”</a>. That
          section also includes information about specifying options
          previously specified in <code class="literal">[mysqld_safe]</code>
          option groups. Because <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> is not
          installed when systemd is used, such options must be specified
          another way.
        </p><p>
          This option was added in MySQL 5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_test_trace_plugin"></a>
          <a class="indexterm" name="idm140644214528464"></a>

          <a class="indexterm" name="idm140644214527008"></a>

          <code class="literal">-DWITH_TEST_TRACE_PLUGIN=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build the test protocol trace client plugin (see
          <a class="xref" href="extending-mysql.html#test-protocol-trace-plugin" title="25.2.4.11.1 Using the Test Protocol Trace Plugin">Section 25.2.4.11.1, “Using the Test Protocol Trace Plugin”</a>). By default,
          this option is disabled. Enabling this option has no effect
          unless the
          <a class="link" href="installing.html#option_cmake_with_client_protocol_tracing"><code class="option">WITH_CLIENT_PROTOCOL_TRACING</code></a>
          option is enabled. If MySQL is configured with both options
          enabled, the <code class="literal">libmysqlclient</code> client library
          is built with the test protocol trace plugin built in, and all
          the standard MySQL clients load the plugin. However, even when
          the test plugin is enabled, it has no effect by default.
          Control over the plugin is afforded using environment
          variables; see <a class="xref" href="extending-mysql.html#test-protocol-trace-plugin" title="25.2.4.11.1 Using the Test Protocol Trace Plugin">Section 25.2.4.11.1, “Using the Test Protocol Trace Plugin”</a>.
        </p><p>
          This option was added in MySQL 5.7.2.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Do <span class="emphasis"><em>not</em></span> enable the
            <a class="link" href="installing.html#option_cmake_with_test_trace_plugin"><code class="option">WITH_TEST_TRACE_PLUGIN</code></a> option
            if you want to use your own protocol trace plugins because
            only one such plugin can be loaded at a time and an error
            occurs for attempts to load a second one. If you have
            already built MySQL with the test protocol trace plugin
            enabled to see how it works, you must rebuild MySQL without
            it before you can use your own plugins.
</p>
</div>
<p>
          For information about writing trace plugins, see
          <a class="xref" href="extending-mysql.html#writing-protocol-trace-plugins" title="25.2.4.11 Writing Protocol Trace Plugins">Section 25.2.4.11, “Writing Protocol Trace Plugins”</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ubsan"></a>
          <a class="indexterm" name="idm140644214514672"></a>

          <a class="indexterm" name="idm140644214513216"></a>

          <code class="literal">-DWITH_UBSAN=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to enable the Undefined Behavior Sanitizer, for
          compilers that support it. The default is off. This option was
          added in MySQL 5.7.6.
        </p></li><li class="listitem"><p><a name="option_cmake_with_unixodbc"></a>
          <a class="indexterm" name="idm140644214508944"></a>

          <a class="indexterm" name="idm140644214507456"></a>

          <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
        </p><p>
          Enables unixODBC support, for Connector/ODBC.
        </p></li><li class="listitem"><p><a name="option_cmake_with_valgrind"></a>
          <a class="indexterm" name="idm140644214503328"></a>

          <a class="indexterm" name="idm140644214501840"></a>

          <code class="literal">-DWITH_VALGRIND=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to compile in the Valgrind header files, which exposes
          the Valgrind API to MySQL code. The default is
          <code class="literal">OFF</code>.
        </p><p>
          To generate a Valgrind-aware debug build,
          <a class="link" href="installing.html#option_cmake_with_valgrind"><code class="option">-DWITH_VALGRIND=1</code></a> normally is
          combined with <a class="link" href="installing.html#option_cmake_with_debug"><code class="option">-DWITH_DEBUG=1</code></a>.
          See
          <a class="ulink" href="http://dev.mysql.com/doc/internals/en/debug-configurations.html" target="_top">Building
          Debug Configurations</a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_zlib"></a>
          <a class="indexterm" name="idm140644214493792"></a>

          <a class="indexterm" name="idm140644214492336"></a>

          <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
        </p><p>
          Some features require that the server be built with
          compression library support, such as the
          <a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> and
          <a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> functions, and
          compression of the client/server protocol. The
          <a class="link" href="installing.html#option_cmake_with_zlib"><code class="option">WITH_ZLIB</code></a> indicates the source
          of <code class="literal">zlib</code> support:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">bundled</code>: Use the
              <code class="literal">zlib</code> library bundled with the
              distribution. This is the default.
            </p></li><li class="listitem"><p>
              <code class="literal">system</code>: Use the system
              <code class="literal">zlib</code> library.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="option_cmake_without_server"></a>
          <a class="indexterm" name="idm140644214478656"></a>

          <a class="indexterm" name="idm140644214477168"></a>

          <code class="literal">-DWITHOUT_SERVER=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to build without the MySQL server. The default is
          <code class="literal">OFF</code>, which does build the server.
</p></li></ul>
</div>
<h4><a name="cmake-compiler-flags"></a>Compiler Flags</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_c_flags"></a>
          <a class="indexterm" name="idm140644214470784"></a>

          <a class="indexterm" name="idm140644214469296"></a>

          <code class="literal">-DCMAKE_C_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
        </p><p>
          Flags for the C Compiler.
        </p></li><li class="listitem"><p><a name="option_cmake_cmake_cxx_flags"></a>
          <a class="indexterm" name="idm140644214465120"></a>

          <a class="indexterm" name="idm140644214463632"></a>

          <code class="literal">-DCMAKE_CXX_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
        </p><p>
          Flags for the C++ Compiler.
        </p></li><li class="listitem"><p><a name="option_cmake_with_default_compiler_options"></a>
          <a class="indexterm" name="idm140644214459360"></a>

          <a class="indexterm" name="idm140644214457904"></a>

          <code class="literal">-DWITH_DEFAULT_COMPILER_OPTIONS=<em class="replaceable"><code>bool</code></em></code>
        </p><p>
          Whether to use the flags from
          <code class="filename">cmake/build_configurations/compiler_options.cmake</code>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            All optimization flags were carefully chosen and tested by
            the MySQL build team. Overriding them can lead to unexpected
            results and is done at your own risk.
</p>
</div>
</li><li class="listitem"><p><a name="option_cmake_sunpro_cxx_library"></a>
          <a class="indexterm" name="idm140644214452000"></a>

          <a class="indexterm" name="idm140644214450544"></a>

          <code class="literal">-DSUNPRO_CXX_LIBRARY="<em class="replaceable"><code>lib_name</code></em></code>"
        </p><p>
          Enable linking against <code class="literal">libCstd</code> instead of
          <code class="literal">stlport4</code> on Solaris 10 or later. This works
          only for client code because the server depends on C++98.
          Example usage:
        </p><pre class="programlisting">
cmake -DWITHOUT_SERVER=1 -DSUNPRO_CXX_LIBRARY=Cstd
</pre><p>
          This option was added in MySQL 5.7.5.
</p></li></ul>
</div>
<p>
      To specify your own C and C++ compiler flags, for flags that do
      not affect optimization, use the
      <a class="link" href="installing.html#option_cmake_cmake_c_flags"><code class="option">CMAKE_C_FLAGS</code></a> and
      <a class="link" href="installing.html#option_cmake_cmake_cxx_flags"><code class="option">CMAKE_CXX_FLAGS</code></a> CMake options.
    </p><p>
      When providing your own compiler flags, you might want to specify
      <a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="option">CMAKE_BUILD_TYPE</code></a> as well.
    </p><p>
      For example, to create a 32-bit release build on a 64-bit Linux
      machine, do this:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS=-m32 \</code></strong>
         <strong class="userinput"><code>-DCMAKE_BUILD_TYPE=RelWithDebInfo</code></strong>
</pre><p>
      If you set flags that affect optimization
      (<code class="option">-O<em class="replaceable"><code>number</code></em></code>), you must
      set the
      <code class="option">CMAKE_C_FLAGS_<em class="replaceable"><code>build_type</code></em></code>
      and/or
      <code class="option">CMAKE_CXX_FLAGS_<em class="replaceable"><code>build_type</code></em></code>
      options, where <em class="replaceable"><code>build_type</code></em> corresponds
      to the <a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="option">CMAKE_BUILD_TYPE</code></a> value. To
      specify a different optimization for the default build type
      (<code class="literal">RelWithDebInfo</code>) set the
      <code class="option">CMAKE_C_FLAGS_RELWITHDEBINFO</code> and
      <code class="option">CMAKE_CXX_FLAGS_RELWITHDEBINFO</code> options. For
      example, to compile on Linux with <code class="option">-O3</code> and with
      debug symbols, do this:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cmake .. -DCMAKE_C_FLAGS_RELWITHDEBINFO="-O3 -g" \</code></strong>
         <strong class="userinput"><code>-DCMAKE_CXX_FLAGS_RELWITHDEBINFO="-O3 -g"</code></strong>
</pre>
<h4><a name="cmake-mysql-cluster-options"></a>CMake Options for Compiling MySQL Cluster</h4>
<p>
      The following options are for use when building MySQL Cluster with
      the MySQL Cluster sources; they are not currently supported when
      using sources from the MySQL 5.6 Server tree.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_memcached_home"></a>
          <a class="indexterm" name="idm140644214424144"></a>

          <a class="indexterm" name="idm140644214422656"></a>

          <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>dir_name</code></em></code>
        </p><p>
          Perform the build using the memcached (version 1.6 or later)
          installed in the system directory indicated by
          <em class="replaceable"><code>dir_name</code></em>. Files from this
          installation that are used in the build include the memcached
          binary, header files, and libraries, as well as the
          <code class="literal">memcached_utilities</code> library and the header
          file <code class="filename">engine_testapp.h</code>.
        </p><p>
          You must leave this option unset when building
          <code class="literal">ndbmemcache</code> using the bundled memcached
          sources (<a class="link" href="installing.html#option_cmake_with_bundled_memcached"><code class="option">WITH_BUNDLED_MEMCACHED</code></a>
          option); in other words, the bundled sources are used by
          default).
        </p><p>
          While additional <span class="command"><strong>CMake</strong></span> options—such
          as for SASL authorization and for providing
          <code class="literal">dtrace</code> support—are available for use
          when compiling <span class="command"><strong>memcached</strong></span> from external
          sources, these options are currently not enabled for the
          <span class="command"><strong>memcached</strong></span> sources bundled with MySQL
          Cluster.
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_libevent"></a>
          <a class="indexterm" name="idm140644214410256"></a>

          <a class="indexterm" name="idm140644214408800"></a>

          <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
        </p><p>
          Use the <code class="literal">libevent</code> included in the MySQL
          Cluster sources when building MySQL Cluster with
          <code class="literal">ndbmemcached</code> support. Enabled by default.
          <code class="literal">OFF</code> causes the system's
          <code class="literal">libevent</code> to be used instead.
        </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_memcached"></a>
          <a class="indexterm" name="idm140644214401904"></a>

          <a class="indexterm" name="idm140644214400448"></a>

          <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
        </p><p>
          Build the memcached sources included in the MySQL Cluster
          source tree, then use the resulting memcached server when
          building the <code class="literal">ndbmemcache</code> engine. In this
          case, <span class="command"><strong>make install</strong></span> places the
          <span class="command"><strong>memcached</strong></span> binary in the installation
          <code class="filename">bin</code> directory, and the
          <code class="literal">ndbmemcache</code> engine shared object file
          <code class="filename">ndb_engine.so</code> in the installation
          <code class="filename">lib</code> directory.
        </p><p>
          This option is ON by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_classpath"></a>
          <a class="indexterm" name="idm140644214390912"></a>

          <a class="indexterm" name="idm140644214389424"></a>

          <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
        </p><p>
          Sets the classpath for building MySQL Cluster Connector for
          Java. The default is empty. This option is ignored if
          <a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="option">-DWITH_NDB_JAVA=OFF</code></a> is used.
        </p></li><li class="listitem"><p><a name="option_cmake_with_error_insert"></a>
          <a class="indexterm" name="idm140644214384016"></a>

          <a class="indexterm" name="idm140644214382560"></a>

          <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
        </p><p>
          Enables error injection in the
          <a class="link" href="mysql-cluster.html" title="Chapter 18 MySQL Cluster NDB 7.5"><code class="literal">NDB</code></a> kernel. For testing only; not
          intended for use in building production binaries. The default
          is <code class="literal">OFF</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
          <a class="indexterm" name="idm140644214376592"></a>

          <a class="indexterm" name="idm140644214375088"></a>

          <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
        </p><p>
          Build and link in support for the
          <a class="link" href="mysql-cluster.html" title="Chapter 18 MySQL Cluster NDB 7.5"><code class="literal">NDB</code></a>
          (<a class="link" href="mysql-cluster.html" title="Chapter 18 MySQL Cluster NDB 7.5"><code class="literal">NDBCLUSTER</code></a>) storage engine in
          <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. The default is
          <code class="literal">ON</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster"></a>
          <a class="indexterm" name="idm140644214366816"></a>

          <a class="indexterm" name="idm140644214365328"></a>

          <code class="literal">-DWITH_NDBCLUSTER={ON|OFF}</code>
        </p><p>
          This is an alias for
          <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndbmtd"></a>
          <a class="indexterm" name="idm140644214360416"></a>

          <a class="indexterm" name="idm140644214358928"></a>

          <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
        </p><p>
          Build the multi-threaded data node executable
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="18.4.3 ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>. The default is
          <code class="literal">ON</code>.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_binlog"></a>
          <a class="indexterm" name="idm140644214352912"></a>

          <a class="indexterm" name="idm140644214351424"></a>

          <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
        </p><p>
          Enable binary logging by default in the
          <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> built using this option. ON by
          default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_debug"></a>
          <a class="indexterm" name="idm140644214346208"></a>

          <a class="indexterm" name="idm140644214344720"></a>

          <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
        </p><p>
          Enable building the debug versions of the MySQL Cluster
          binaries. OFF by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_java"></a>
          <a class="indexterm" name="idm140644214340784"></a>

          <a class="indexterm" name="idm140644214339296"></a>

          <code class="literal">-DWITH_NDB_JAVA={ON|OFF}</code>
        </p><p>
          Enable building MySQL Cluster with Java support, including
          <code class="literal">ClusterJ</code>.
        </p><p>
          This option is ON by default. If you do not wish to compile
          MySQL Cluster with Java support, you must disable it
          explicitly by specifying <code class="option">-DWITH_NDB_JAVA=OFF</code>
          when running <span class="command"><strong>CMake</strong></span>. Otherwise, if Java
          cannot be found, configuration of the build fails.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_port"></a>
          <a class="indexterm" name="idm140644214332832"></a>

          <a class="indexterm" name="idm140644214331344"></a>

          <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
        </p><p>
          Causes the MySQL Cluster management server
          (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="18.4.4 ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>) that is built to use this
          <em class="replaceable"><code>port</code></em> by default. If this option is
          unset, the resulting management server tries to use port 1186
          by default.
        </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_test"></a>
          <a class="indexterm" name="idm140644214325184"></a>

          <a class="indexterm" name="idm140644214323696"></a>

          <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
        </p><p>
          If enabled, include a set of NDB API test programs. The
          default is OFF.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="compilation-problems"></a>2.9.5 Dealing with Problems Compiling MySQL</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644214319392"></a><a class="indexterm" name="idm140644214317936"></a><a class="indexterm" name="idm140644214316448"></a><a class="indexterm" name="idm140644214315376"></a><a class="indexterm" name="idm140644214314304"></a><p>
      The solution to many problems involves reconfiguring. If you do
      reconfigure, take note of the following:
</p><a class="indexterm" name="idm140644214312288"></a><a class="indexterm" name="idm140644214311200"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If <span class="command"><strong>CMake</strong></span> is run after it has previously
          been run, it may use information that was gathered during its
          previous invocation. This information is stored in
          <code class="filename">CMakeCache.txt</code>. When
          <span class="command"><strong>CMake</strong></span> starts up, it looks for that file and
          reads its contents if it exists, on the assumption that the
          information is still correct. That assumption is invalid when
          you reconfigure.
        </p></li><li class="listitem"><p>
          Each time you run <span class="command"><strong>CMake</strong></span>, you must run
          <span class="command"><strong>make</strong></span> again to recompile. However, you may
          want to remove old object files from previous builds first
          because they were compiled using different configuration
          options.
</p></li></ul>
</div>
<p>
      To prevent old object files or configuration information from
      being used, run the following commands before re-running
      <span class="command"><strong>CMake</strong></span>:
    </p><p>
      On Unix:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      On Windows:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      If you build outside of the source tree, remove and recreate your
      build directory before re-running <span class="command"><strong>CMake</strong></span>. For
      instructions on building outside of the source tree, see
      <a class="ulink" href="http://dev.mysql.com/doc/internals/en/cmake.html" target="_top">How to Build MySQL
      Server with CMake</a>.
    </p><p>
      On some systems, warnings may occur due to differences in system
      include files. The following list describes other problems that
      have been found to occur most often when compiling MySQL:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm140644214293776"></a>

          <a class="indexterm" name="idm140644214292704"></a>

          <a class="indexterm" name="idm140644214291248"></a>

          <a class="indexterm" name="idm140644214290160"></a>

          To define which C and C++ compilers to use, you can define the
          <code class="literal">CC</code> and <code class="literal">CXX</code> environment
          variables. For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>CC=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CXX=g++</code></strong>
shell&gt; <strong class="userinput"><code>export CC CXX</code></strong>
</pre><p>
          To specify your own C and C++ compiler flags, use the
          <a class="link" href="installing.html#option_cmake_cmake_c_flags"><code class="option">CMAKE_C_FLAGS</code></a> and
          <a class="link" href="installing.html#option_cmake_cmake_cxx_flags"><code class="option">CMAKE_CXX_FLAGS</code></a> CMake options.
          See <a class="xref" href="installing.html#cmake-compiler-flags" title="Compiler Flags">Compiler Flags</a>.
        </p><p>
          To see what flags you might need to specify, invoke
          <a class="link" href="programs.html#mysql-config" title="4.7.1 mysql_config — Display Options for Compiling Clients"><span class="command"><strong>mysql_config</strong></span></a> with the
          <a class="link" href="programs.html#option_mysql_config_cflags"><code class="option">--cflags</code></a> and
          <a class="link" href="programs.html#option_mysql_config_cxxflags"><code class="option">--cxxflags</code></a> options.
        </p></li><li class="listitem"><p>
          To see what commands are executed during the compile stage,
          after using <span class="command"><strong>CMake</strong></span> to configure MySQL, run
          <span class="command"><strong>make VERBOSE=1</strong></span> rather than just
          <span class="command"><strong>make</strong></span>.
        </p></li><li class="listitem"><p>
          If compilation fails, check whether the
          <a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="option">MYSQL_MAINTAINER_MODE</code></a> option is
          enabled. This mode causes compiler warnings to become errors,
          so disabling it may enable compilation to proceed.
        </p></li><li class="listitem"><p>
          If your compile fails with errors such as any of the
          following, you must upgrade your version of
          <span class="command"><strong>make</strong></span> to GNU <span class="command"><strong>make</strong></span>:
        </p><pre class="programlisting">
make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment
</pre><p>
          Or:
        </p><pre class="programlisting">
make: file `Makefile' line 18: Must be a separator (:
</pre><p>
          Or:
        </p><pre class="programlisting">
pthread.h: No such file or directory
</pre><a class="indexterm" name="idm140644214266624"></a><a class="indexterm" name="idm140644214265552"></a><p>
          Solaris and FreeBSD are known to have troublesome
          <span class="command"><strong>make</strong></span> programs.
        </p><p>
          GNU <span class="command"><strong>make</strong></span> 3.75 is known to work.
        </p></li><li class="listitem"><p>
          The <code class="filename">sql_yacc.cc</code> file is generated from
          <code class="filename">sql_yacc.yy</code>. Normally, the build process
          does not need to create <code class="filename">sql_yacc.cc</code>
          because MySQL comes with a pregenerated copy. However, if you
          do need to re-create it, you might encounter this error:
        </p><pre class="programlisting">
"sql_yacc.yy", line <em class="replaceable"><code>xxx</code></em> fatal: default action causes potential...
</pre><p>
          This is a sign that your version of <span class="command"><strong>yacc</strong></span> is
          deficient. You probably need to install a recent version of
          <span class="command"><strong>bison</strong></span> (the GNU version of
          <span class="command"><strong>yacc</strong></span>) and use that instead.
        </p><p>
          Versions of <span class="command"><strong>bison</strong></span> older than 1.75 may
          report this error:
        </p><pre class="programlisting">
sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded
</pre><p>
          The maximum table size is not actually exceeded; the error is
          caused by bugs in older versions of <span class="command"><strong>bison</strong></span>.
</p></li></ul>
</div>
<p>
      For information about acquiring or updating tools, see the system
      requirements in <a class="xref" href="installing.html#source-installation" title="2.9 Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="source-configuration-third-party"></a>2.9.6 MySQL Configuration and Third-Party Tools</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644214249184"></a><a class="indexterm" name="idm140644214247696"></a><p>
      Third-party tools that need to determine the MySQL version from
      the MySQL source can read the <code class="filename">VERSION</code> file in
      the top-level source directory. The file lists the pieces of the
      version separately. For example, if the version is MySQL
      5.7.4-m14, the file looks like this:
    </p><pre class="programlisting">
MYSQL_VERSION_MAJOR=5
MYSQL_VERSION_MINOR=7
MYSQL_VERSION_PATCH=4
MYSQL_VERSION_EXTRA=-m14
</pre><p>
      If the source is not for a General Availablility (GA) release, the
      <code class="literal">MYSQL_VERSION_EXTRA</code> value will be nonempty. For
      the example, the value corresponds to Milestone 14.
    </p><p>
      To construct a five-digit number from the version components, use
      this formula:
    </p><pre class="programlisting">
MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="postinstallation"></a>2.10 Postinstallation Setup and Testing</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#data-directory-initialization">2.10.1 Initializing the Data Directory</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.2 Starting the Server</a></span></dt><dt><span class="section"><a href="installing.html#testing-server">2.10.3 Testing the Server</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.4 Securing the Initial MySQL Accounts</a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.5 Starting and Stopping MySQL Automatically</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644214240208"></a><a class="indexterm" name="idm140644214238752"></a><a class="indexterm" name="idm140644214237264"></a><p>
    This section discusses tasks that you should perform after
    installing MySQL:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        If necessary, initialize the data directory and create the MySQL
        grant tables. For some MySQL installation methods, data
        directory initialization may be done for you automatically:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            Windows distributions prior to MySQL 5.7.7 include a data
            directory with pre-built tables in the
            <code class="literal">mysql</code> database. As of 5.7.7, Windows
            installation operations performed by MySQL Installer initialize the
            data directory automatically.
          </p></li><li class="listitem"><p>
            Installation on Linux using a server RPM or Debian
            distribution from Oracle.
          </p></li><li class="listitem"><p>
            Installation using the native packaging system on many
            platforms, including Debian Linux, Ubuntu Linux, Gentoo
            Linux, and others.
          </p></li><li class="listitem"><p>
            Installation on OS X using a DMG distribution.
</p></li></ul>
</div>
<p>
        For other platforms and installation types, including
        installation from generic binary and source distributions, you
        must initialize the data directory yourself. For instructions,
        see <a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 Initializing the Data Directory">Section 2.10.1, “Initializing the Data Directory”</a>.
      </p></li><li class="listitem"><p>
        Start the server and make sure that it can be accessed. For
        instructions, see <a class="xref" href="installing.html#starting-server" title="2.10.2 Starting the Server">Section 2.10.2, “Starting the Server”</a>, and
        <a class="xref" href="installing.html#testing-server" title="2.10.3 Testing the Server">Section 2.10.3, “Testing the Server”</a>.
      </p></li><li class="listitem"><p>
        Assign passwords to the initial <code class="literal">root</code> account
        in the grant tables, if that was not already done during data
        directory initialization. Passwords prevent unauthorized access
        to the MySQL server. For instructions, see
        <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>.
      </p></li><li class="listitem"><p>
        Optionally, arrange for the server to start and stop
        automatically when your system starts and stops. For
        instructions, see <a class="xref" href="installing.html#automatic-start" title="2.10.5 Starting and Stopping MySQL Automatically">Section 2.10.5, “Starting and Stopping MySQL Automatically”</a>.
      </p></li><li class="listitem"><p>
        Optionally, populate time zone tables to enable recognition of
        named time zones. For instructions, see
        <a class="xref" href="globalization.html#time-zone-support" title="10.6 MySQL Server Time Zone Support">Section 10.6, “MySQL Server Time Zone Support”</a>.
</p></li></ul>
</div>
<p>
    When you are ready to create additional user accounts, you can find
    information on the MySQL access control system and account
    management in <a class="xref" href="security.html#privilege-system" title="6.2 The MySQL Access Privilege System">Section 6.2, “The MySQL Access Privilege System”</a>, and
    <a class="xref" href="security.html#user-account-management" title="6.3 MySQL User Account Management">Section 6.3, “MySQL User Account Management”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="data-directory-initialization"></a>2.10.1 Initializing the Data Directory</h3>

</div>

</div>

</div>

<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#data-directory-initialization-mysqld">2.10.1.1 Initializing the Data Directory Manually Using mysqld</a></span></dt><dt><span class="section"><a href="installing.html#data-directory-initialization-mysql-install-db">2.10.1.2 Initializing the Data Directory Manually Using mysql_install_db</a></span></dt><dt><span class="section"><a href="installing.html#mysql-install-db-problems">2.10.1.3 Problems Running mysql_install_db</a></span></dt></dl>
</div>
<p>
      After installing MySQL, you must initialize the data directory,
      including the tables in the <code class="literal">mysql</code> system
      database. For some MySQL installation methods, data directory
      initialization may be done automatically, as described in
      <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>. For other installation
      methods, including installation from generic binary and source
      distributions, you must initialize the data directory yourself.
    </p><p>
      This section describes how to initialize the data directory on
      Unix and Unix-like systems. (For Windows, see
      <a class="xref" href="installing.html#windows-postinstallation" title="2.3.7 Windows Postinstallation Procedures">Section 2.3.7, “Windows Postinstallation Procedures”</a>.) For some suggested
      commands that you can use to test whether the server is accessible
      and working properly, see <a class="xref" href="installing.html#testing-server" title="2.10.3 Testing the Server">Section 2.10.3, “Testing the Server”</a>.
    </p><p>
      In the examples shown here, the server runs under the user ID of
      the <code class="literal">mysql</code> login account. This assumes that such
      an account exists. Either create the account if it does not exist,
      or substitute the name of a different existing login account that
      you plan to use for running the server. For information about
      creating the account, see
      <a class="link" href="installing.html#binary-installation-createsysuser" title="Create a mysql User and Group">Creating a
      <code class="literal">mysql</code> System User and Group</a>, in
      <a class="xref" href="installing.html#binary-installation" title="2.2 Installing MySQL on Unix/Linux Using Generic Binaries">Section 2.2, “Installing MySQL on Unix/Linux Using Generic Binaries”</a>.
</p><a class="indexterm" name="idm140644214208048"></a><a class="indexterm" name="idm140644214206560"></a><a class="indexterm" name="idm140644214205072"></a>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Change location into the top-level directory of your MySQL
          installation, represented here by
          <em class="replaceable"><code>BASEDIR</code></em>:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>BASEDIR</code></em> is likely to be something
          like <code class="filename">/usr/local/mysql</code> or
          <code class="filename">/usr/local</code>. The following steps assume
          that you have changed location to this directory.
        </p><p>
          You will find several files and subdirectories in the
          <em class="replaceable"><code>BASEDIR</code></em> directory. The most
          important for installation purposes are the
          <code class="filename">bin</code> and <code class="filename">scripts</code>
          subdirectories, which contain the server as well as client and
          utility programs.
        </p></li><li class="listitem"><p>
          Create a directory that provides a location to use as the
          value of the <code class="literal">secure_file_priv</code> system
          variable that limits import/export operations to a specific
          directory. See <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a>.
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chmod 750 mysql-files</code></strong>
</pre></li><li class="listitem"><p>
          If necessary, ensure that the distribution contents are
          accessible to <code class="literal">mysql</code>. If you installed the
          distribution as <code class="literal">mysql</code>, no further action is
          required. If you installed the distribution as
          <code class="literal">root</code>, its contents will be owned by
          <code class="literal">root</code>. Change its ownership to
          <code class="literal">mysql</code> by executing the following commands
          as <code class="literal">root</code> in the installation directory. The
          first command changes the owner attribute of the files to the
          <code class="literal">mysql</code> user. The second changes the group
          attribute to the <code class="literal">mysql</code> group.
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R mysql .</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li class="listitem"><p>
          If necessary, initialize the data directory, including the
          <code class="literal">mysql</code> database containing the initial MySQL
          grant tables that determine how users are permitted to connect
          to the server.
        </p><p>
          Typically, data directory initialization need be done only the
          first time you install MySQL. If you are upgrading an existing
          installation, you should run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>
          instead (see <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a>). However, the
          command that initializes the data directory does not overwrite
          any existing privilege tables, so it should be safe to run in
          any circumstances.
        </p><p>
          As of MySQL 5.7.6, use the server to initialize the data
          directory:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
</pre><p>
          Before MySQL 5.7.6, use <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
</pre><p>
          For more information, see
          <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>, or
          <a class="xref" href="installing.html#data-directory-initialization-mysql-install-db" title="2.10.1.2 Initializing the Data Directory Manually Using mysql_install_db">Section 2.10.1.2, “Initializing the Data Directory Manually Using mysql_install_db”</a>,
          depending on which command you use.
        </p></li><li class="listitem"><p>
          If you want the server to be able to deploy with automatic
          support for secure connections, use the
          <a class="link" href="programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup — Create SSL/RSA Files"><span class="command"><strong>mysql_ssl_rsa_setup</strong></span></a> utility to create
          default SSL and RSA files:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql_ssl_rsa_setup</code></strong>
</pre><p>
          For more information, see
          <a class="xref" href="programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup — Create SSL/RSA Files">Section 4.4.5, “<span class="command"><strong>mysql_ssl_rsa_setup</strong></span> — Create SSL/RSA Files”</a>.
        </p></li><li class="listitem"><p>
          After initializing the data directory, you can establish the
          final installation ownership settings. To leave the
          installation owned by <code class="literal">mysql</code>, no action is
          required here. Otherwise, most of the MySQL installation can
          be owned by <code class="literal">root</code> if you like. The exception
          is that the data directory and the
          <code class="filename">mysql-files</code> directory must be owned by
          <code class="literal">mysql</code>. To accomplish this, run the
          following commands as <code class="literal">root</code> in the
          installation directory. For some distribution types, the data
          directory might be named <code class="filename">var</code> rather than
          <code class="filename">data</code>; adjust the second command
          accordingly.
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data mysql-files</code></strong>
</pre><p>
          If the plugin directory (the directory named by the
          <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable)
          is writable by the server, it may be possible for a user to
          write executable code to a file in the directory using
          <a class="link" href="sql-syntax.html#select-into" title="13.2.9.1 SELECT ... INTO Syntax"><code class="literal">SELECT ... INTO
          DUMPFILE</code></a>. This can be prevented by making the plugin
          directory read only to the server or by setting the
          <code class="literal">secure_file_priv</code> system variable at server
          startup to a directory where
          <a class="link" href="sql-syntax.html#select" title="13.2.9 SELECT Syntax"><code class="literal">SELECT</code></a> writes can be performed
          safely. (For example, set it to the
          <code class="filename">mysql-files</code> directory created earlier.)
        </p></li><li class="listitem"><p>
          To specify options that the MySQL server should use at
          startup, put them in a <code class="filename">/etc/my.cnf</code> or
          <code class="filename">/etc/mysql/my.cnf</code> file. You can use such
          a file, for example, to set the
          <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
          variable. See <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 Server Configuration Defaults">Section 5.1.2, “Server Configuration Defaults”</a>.
          If you do not do this, the server starts with its default
          settings.
        </p></li><li class="listitem"><p>
          If you want MySQL to start automatically when you boot your
          machine, see <a class="xref" href="installing.html#automatic-start" title="2.10.5 Starting and Stopping MySQL Automatically">Section 2.10.5, “Starting and Stopping MySQL Automatically”</a>.
</p></li></ol>
</div>
<p>
      Data directory initialization creates time zone tables in the
      <code class="literal">mysql</code> database but does not populate them. To
      do so, use the instructions in
      <a class="xref" href="globalization.html#time-zone-support" title="10.6 MySQL Server Time Zone Support">Section 10.6, “MySQL Server Time Zone Support”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="data-directory-initialization-mysqld"></a>2.10.1.1 Initializing the Data Directory Manually Using mysqld</h4>
</div>
</div>
</div>
<p>
        This section describes how to initialize the data directory
        using <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, the MySQL server.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The procedure described here is available for all platforms as
          of MySQL 5.7.6. Prior to 5.7.6, use
          <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> on Unix and Unix-like
          systems (see
          <a class="xref" href="installing.html#data-directory-initialization-mysql-install-db" title="2.10.1.2 Initializing the Data Directory Manually Using mysql_install_db">Section 2.10.1.2, “Initializing the Data Directory Manually Using mysql_install_db”</a>).
          Prior to MySQL 5.7.7, Windows distributions include a data
          directory with prebuilt tables in the <code class="literal">mysql</code>
          database.
</p>
</div>
<p>
        The following instructions assume that your current location is
        the MySQL installation directory, represented here by
        <em class="replaceable"><code>BASEDIR</code></em>:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
        To initialize the data directory, invoke
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
        <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> or
        <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> option,
        depending on whether you want the server to generate a random
        initial password for the <code class="literal">'root'@'localhost'</code>
        account.
      </p><p>
        On Windows, use one of these commands:
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin\mysqld --initialize</code></strong>
C:\&gt; <strong class="userinput"><code>bin\mysqld --initialize-insecure</code></strong>
</pre><p>
        On Unix and Unix-like systems, it is important to make sure that
        the database directories and files are owned by the
        <code class="literal">mysql</code> login account so that the server has
        read and write access to them when you run it later. To ensure
        this if you run <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as
        <code class="literal">root</code>, include the
        <a class="link" href="server-administration.html#option_mysqld_user"><code class="option">--user</code></a> option as shown here:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize-insecure --user=mysql</code></strong>
</pre><p>
        Otherwise, execute the program while logged in as
        <code class="literal">mysql</code>, in which case you can omit the
        <a class="link" href="server-administration.html#option_mysqld_user"><code class="option">--user</code></a> option from the command.
      </p><p>
        Regardless of platform, use
        <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> for <span class="quote">“<span class="quote">secure by
        default</span>”</span> installation (that is, including generation of a
        random initial <code class="literal">root</code> password). In this case,
        the password is marked as expired and you will need to choose a
        new one. With the
        <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> option, no
        <code class="literal">root</code> password is generated; it is assumed
        that you will assign a password to the account in timely fashion
        before putting the server into production use.
      </p><p>
        It might be necessary to specify other options such as
        <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a> or
        <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> if
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> does not identify the correct
        locations for the installation directory or data directory. For
        example (enter the command on one line):
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p>
        Alternatively, put the relevant option settings in an option
        file and pass the name of that file to
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. For Unix and Unix-like systems,
        suppose that the option file name is
        <code class="filename">/opt/mysql/mysql/etc/my.cnf</code>. Put these
        lines in the file:
      </p><pre class="programlisting">
[mysqld]
basedir=/opt/mysql/mysql
datadir=/opt/mysql/mysql/data
</pre><p>
        Then invoke <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as follows (enter the
        command on a single line with the
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option first):
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld --defaults-file=/opt/mysql/mysql/etc/my.cnf</code></strong>
         <strong class="userinput"><code>--initialize --user=mysql</code></strong>
</pre><p>
        On Windows, suppose that <code class="literal">C:\my.ini</code> contains
        these lines:
      </p><pre class="programlisting">
[mysqld]
basedir=C:\\Program Files\\MySQL\\MySQL Server 5.7
datadir=D:\\MySQLdata
</pre><p>
        Then invoke <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as follows (the
        <a class="link" href="programs.html#option_general_defaults-file"><code class="option">--defaults-file</code></a> option must be
        first):
      </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>bin/mysqld --defaults-file=C:\my.ini --initialize</code></strong>
</pre><p>
        When invoked with the
        <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> or
        <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> option,
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> performs the following initialization
        sequence.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The server writes any messages to its standard error output.
          This may be redirected to the error log, so look there if you
          do not see the messages on your screen.
        </p><p>
          On Windows, use the <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a>
          option to direct messages to the console.
</p>
</div>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            The server checks for the existence of the data directory as
            follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If no data directory exists, the server creates it.
              </p></li><li class="listitem"><p>
                If a data directory exists and is not empty (that is, it
                contains files or subdirectories), the server exits
                after producing an error message:
              </p><pre class="programlisting">
[ERROR] --initialize specified but the data directory exists. Aborting.
</pre><p>
                In this case, remove or rename the data directory and
                try again.
              </p><p>
                As of MySQL 5.7.11, an existing data directory is
                permitted to be nonempty if every entry either has a
                name that begins with a period (<code class="literal">.</code>) or
                is named using an
                <a class="link" href="server-administration.html#option_mysqld_ignore-db-dir"><code class="option">--ignore-db-dir</code></a> option.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            Within the data directory, the server creates the
            <code class="literal">mysql</code> system database and its tables,
            including the grant tables, server-side help tables, and
            time zone tables. For a complete listing and description of
            the grant tables, see <a class="xref" href="security.html#privilege-system" title="6.2 The MySQL Access Privilege System">Section 6.2, “The MySQL Access Privilege System”</a>.
          </p></li><li class="listitem"><p>
            The server initializes the
            <a class="link" href="glossary.html#glos_system_tablespace" title="system tablespace">system
            tablespace</a> and related data structures needed to
            manage <a class="link" href="innodb-storage-engine.html" title="Chapter 14 The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> tables.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              After <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> sets up the
              <code class="literal">InnoDB</code>
              <a class="link" href="glossary.html#glos_system_tablespace" title="system tablespace">system
              tablespace</a>, changes to some tablespace
              characteristics require setting up a whole new
              <a class="link" href="glossary.html#glos_instance" title="instance">instance</a>. This
              includes the file name of the first file in the system
              tablespace and the number of undo logs. If you do not want
              to use the default values, make sure that the settings for
              the <a class="link" href="innodb-storage-engine.html#sysvar_innodb_data_file_path"><code class="literal">innodb_data_file_path</code></a>
              and <a class="link" href="innodb-storage-engine.html#sysvar_innodb_log_file_size"><code class="literal">innodb_log_file_size</code></a>
              configuration parameters are in place in the MySQL
              <a class="link" href="glossary.html#glos_configuration_file" title="configuration file">configuration
              file</a> before running <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Also
              make sure to specify as necessary other parameters that
              affect the creation and location of
              <code class="literal">InnoDB</code> files, such as
              <a class="link" href="innodb-storage-engine.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a> and
              <a class="link" href="innodb-storage-engine.html#sysvar_innodb_log_group_home_dir"><code class="literal">innodb_log_group_home_dir</code></a>.
            </p><p>
              If those options are in your configuration file but that
              file is not in a location that MySQL reads by default,
              specify the file location using the
              <a class="link" href="server-administration.html#option_mysqld_defaults-extra-file"><code class="option">--defaults-extra-file</code></a>
              option when you run <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
</p>
</div>
</li><li class="listitem"><p>
            The server creates a <code class="literal">'root'@'localhost'</code>
            superuser account. The server's action with respect to
            a password for this account depends on how you invoke it:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                With <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> but not
                <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a>,
                the server generates a random password, marks it as
                expired, and writes a message displaying the password:
              </p><pre class="programlisting">
[Warning] A temporary password is generated for root@localhost:
iTag*AfrH5ej
</pre></li><li class="listitem"><p>
                With
                <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a>,
                (either with or without
                <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> because
                <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a>
                implies <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a>),
                the server does not generate a password or mark it
                expired, and writes a warning message:
              </p><pre class="programlisting">
Warning] root@localhost is created with an empty password ! Please
consider switching off the --initialize-insecure option.
</pre></li></ul>
</div>
</li><li class="listitem"><p>
            The server populates the server-side help tables if content
            is available (in the
            <code class="filename">fill_help_tables.sql</code> file). The server
            does not populate the time zone tables; to do so, see
            <a class="xref" href="globalization.html#time-zone-support" title="10.6 MySQL Server Time Zone Support">Section 10.6, “MySQL Server Time Zone Support”</a>.
          </p></li><li class="listitem"><p>
            If the <a class="link" href="server-administration.html#option_mysqld_init-file"><code class="option">--init-file</code></a> option was
            given to name a file of SQL statements, the server executes
            the statements in the file. This option enables you to
            perform custom bootstrapping sequences.
          </p><p>
            When the server operates in bootstrap mode, some
            functionality is unavailable that limits the statements
            permitted in the file. These include statements that relate
            to account management (such as <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2 CREATE USER Syntax"><code class="literal">CREATE
            USER</code></a> or <a class="link" href="sql-syntax.html#grant" title="13.7.1.4 GRANT Syntax"><code class="literal">GRANT</code></a>),
            replication, and global transaction identifiers.
          </p></li><li class="listitem"><p>
            The server exits.
</p></li></ol>
</div>
<p>
        After you initialize the data directory by starting the server
        with <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> or
        <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a>, start the
        server normally (that is, without either of those options) and
        assign the <code class="literal">'root'@'localhost'</code> account a new
        password:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Start the server. For instructions, see
            <a class="xref" href="installing.html#starting-server" title="2.10.2 Starting the Server">Section 2.10.2, “Starting the Server”</a>.
          </p></li><li class="listitem"><p>
            Connect to the server:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If you used <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a>
                but not
                <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> to
                initialize the data directory, connect to the server as
                <code class="literal">root</code> using the random password that
                the server generated during the initialization sequence:
              </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter the random root password here)</code></em>
</pre><p>
                Look in the server error log if you do not know this
                password.
              </p></li><li class="listitem"><p>
                If you used
                <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> to
                initialize the data directory, connect to the server as
                <code class="literal">root</code> without a password:
              </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root --skip-password</code></strong>
</pre></li></ul>
</div>
</li><li class="listitem"><p>
            After connecting, assign a new <code class="literal">root</code>
            password:
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>new_password'</code></em>;</code></strong>
</pre></li></ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p>
          The data directory initialization sequence performed by the
          server does not substitute for the actions performed by
          <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a> or
          <a class="link" href="programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup — Create SSL/RSA Files"><span class="command"><strong>mysql_ssl_rsa_setup</strong></span></a>. See
          <a class="xref" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security">Section 4.4.4, “<span class="command"><strong>mysql_secure_installation</strong></span> — Improve MySQL Installation Security”</a>, and
          <a class="xref" href="programs.html#mysql-ssl-rsa-setup" title="4.4.5 mysql_ssl_rsa_setup — Create SSL/RSA Files">Section 4.4.5, “<span class="command"><strong>mysql_ssl_rsa_setup</strong></span> — Create SSL/RSA Files”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="data-directory-initialization-mysql-install-db"></a>2.10.1.2 Initializing the Data Directory Manually Using mysql_install_db</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644214009392"></a><p>
        This section describes how to initialize the data directory
        using <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          The procedure described here is used on Unix and Unix-like
          systems prior to MySQL 5.7.6. (For Windows, MySQL
          distributions include a data directory with prebuilt tables in
          the <code class="literal">mysql</code> database.) As of MySQL 5.7.6,
          <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is deprecated. To
          initialize the data directory, use the procedure described at
          <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>.
</p>
</div>
<p>
        The following instructions assume that your current location is
        the MySQL installation directory, represented here by
        <em class="replaceable"><code>BASEDIR</code></em>:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd <em class="replaceable"><code>BASEDIR</code></em></code></strong>
</pre><p>
        To initialize the data directory, invoke
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>. This program might be
        located under the base directory in either
        <code class="filename">bin</code> or <code class="filename">scripts</code>,
        depending on your version of MySQL. If it is in
        <code class="filename">scripts</code>, adjust the following commands
        appropriately.
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
</pre><p>
        It is important to make sure that the database directories and
        files are owned by the <code class="literal">mysql</code> login account so
        that the server has read and write access to them when you run
        it later. To ensure this if you run
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> as <code class="literal">root</code>,
        include the <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a>
        option as shown. Otherwise, execute the program while logged in
        as <code class="literal">mysql</code>, in which case you can omit the
        <a class="link" href="programs.html#option_mysql_install_db_user"><code class="option">--user</code></a> option from the
        command.
      </p><p>
        The <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> command creates the
        server's data directory. Under the data directory, it creates
        directories for the <code class="literal">mysql</code> database that holds
        the grant tables and (prior to MySQL 5.7.4) a
        <code class="literal">test</code> database that you can use to test MySQL.
        The program also creates privilege table entries for the initial
        account or accounts. For a complete listing and description of
        the grant tables, see <a class="xref" href="security.html#privilege-system" title="6.2 The MySQL Access Privilege System">Section 6.2, “The MySQL Access Privilege System”</a>.
      </p><p>
        It might be necessary to specify other options such as
        <a class="link" href="programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a> or
        <a class="link" href="programs.html#option_mysql_install_db_datadir"><code class="option">--datadir</code></a> if
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> does not identify the
        correct locations for the installation directory or data
        directory. For example:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql \</code></strong>
         <strong class="userinput"><code>--basedir=/opt/mysql/mysql \</code></strong>
         <strong class="userinput"><code>--datadir=/opt/mysql/mysql/data</code></strong>
</pre><p>
        If <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> generates a random
        password for the <code class="literal">root</code> account, start the
        server and assign a new password:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Start the server (use the first command if your installation
            includes <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, the second it if
            includes systemd support):
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
            Substitute the appropriate service name if it differs from
            <code class="literal">mysqld</code>; for example,
            <code class="literal">mysql</code> on SLES systems.
          </p></li><li class="listitem"><p>
            Look in the
            <code class="literal">$HOME/<code class="filename">.mysql_secret</code></code>
            file to find the random password that
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> wrote there. Then
            connect to the server as <code class="literal">root</code> using that
            password:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -h 127.0.0.1 -p</code></strong>
Enter password: <em class="replaceable"><code>(enter the random password here)</code></em>
</pre></li><li class="listitem"><p>
            After connecting, assign a new <code class="literal">root</code>
            password:
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('<em class="replaceable"><code>new_password'</code></em>);</code></strong>
</pre><p>
            After resetting the password, remove the
            <code class="filename">.mysql_secret</code> file; otherwise, if you
            run <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>, that
            command may see the file and expire the
            <code class="literal">root</code> password again as part of ensuring
            secure deployment.
</p></li></ol>
</div>
<p>
        If <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> did not generate a random
        password, you should still assign one. For instructions, see
        <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>. That section also
        describes how to remove the <code class="literal">test</code> database, if
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> created one and you do not
        want it.
      </p><p>
        If you have trouble with <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> at
        this point, see <a class="xref" href="installing.html#mysql-install-db-problems" title="2.10.1.3 Problems Running mysql_install_db">Section 2.10.1.3, “Problems Running mysql_install_db”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-install-db-problems"></a>2.10.1.3 Problems Running mysql_install_db</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644213946784"></a><p>
        The purpose of the <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> program
        is to initialize the data directory, including the tables in the
        <code class="literal">mysql</code> system database. It does not overwrite
        existing MySQL privilege tables, and it does not affect any
        other data.
      </p><p>
        To re-create your privilege tables, first stop the
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server if it is running. Then rename
        the <code class="filename">mysql</code> directory under the data
        directory to save it, and run
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>. Suppose that your current
        directory is the MySQL installation directory and that
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is located in the
        <code class="filename">bin</code> directory and the data directory is
        named <code class="filename">data</code>. To rename the
        <code class="literal">mysql</code> database and re-run
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, use these commands.
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mv data/mysql data/mysql.old</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
</pre><p>
        When you run <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, you might
        encounter the following problems:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
            fails to install the grant tables</strong></span>
          </p><p>
            You may find that <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> fails
            to install the grant tables and terminates after displaying
            the following messages:
          </p><pre class="programlisting">
Starting mysqld daemon with databases from XXXXXX
mysqld ended
</pre><p>
            In this case, you should examine the error log file very
            carefully. The log should be located in the directory
            <code class="filename">XXXXXX</code> named by the error message and
            should indicate why <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> did not start.
            If you do not understand what happened, include the log when
            you post a bug report. See <a class="xref" href="introduction.html#bug-reports" title="1.7 How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>There is a <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            process running</strong></span>
          </p><p>
            This indicates that the server is running, in which case the
            grant tables have probably been created already. If so,
            there is no need to run <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
            at all because it needs to be run only once, when you first
            install MySQL.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Installing a second
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server does not work when one
            server is running</strong></span>
          </p><p>
            This can happen when you have an existing MySQL
            installation, but want to put a new installation in a
            different location. For example, you might have a production
            installation, but you want to create a second installation
            for testing purposes. Generally the problem that occurs when
            you try to run a second server is that it tries to use a
            network interface that is in use by the first server. In
            this case, you should see one of the following error
            messages:
          </p><pre class="programlisting">
Can't start server: Bind on TCP/IP port:
Address already in use
Can't start server: Bind on unix socket...
</pre><p>
            For instructions on setting up multiple servers, see
            <a class="xref" href="server-administration.html#multiple-servers" title="5.3 Running Multiple MySQL Instances on One Machine">Section 5.3, “Running Multiple MySQL Instances on One Machine”</a>.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idm140644213911360"></a>

            <a class="indexterm" name="idm140644213909856"></a>

            <a class="indexterm" name="idm140644213908368"></a>

            <span class="bold"><strong>You do not have write access to the
            <code class="filename">/tmp</code> directory</strong></span>
          </p><p>
            If you do not have write access to create temporary files or
            a Unix socket file in the default location (the
            <code class="filename">/tmp</code> directory) or the
            <code class="literal">TMPDIR</code> environment variable, if it has
            been set, an error occurs when you run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> or the
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server.
          </p><p>
            You can specify different locations for the temporary
            directory and Unix socket file by executing these commands
            prior to starting <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> or
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, where
            <em class="replaceable"><code>some_tmp_dir</code></em> is the full path
            name to some directory for which you have write permission:
          </p><a class="indexterm" name="idm140644213897232"></a><a class="indexterm" name="idm140644213896144"></a><a class="indexterm" name="idm140644213895056"></a><a class="indexterm" name="idm140644213893568"></a><pre class="programlisting">
shell&gt; <strong class="userinput"><code>TMPDIR=/<em class="replaceable"><code>some_tmp_dir</code></em>/</code></strong>
shell&gt; <strong class="userinput"><code>MYSQL_UNIX_PORT=/<em class="replaceable"><code>some_tmp_dir</code></em>/mysql.sock</code></strong>
shell&gt; <strong class="userinput"><code>export TMPDIR MYSQL_UNIX_PORT</code></strong>
</pre><p>
            Then you should be able to run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> and start the server
            with these commands:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
            See <a class="xref" href="error-handling.html#problems-with-mysql-sock" title="B.5.3.6 How to Protect or Change the MySQL Unix Socket File">Section B.5.3.6, “How to Protect or Change the MySQL Unix Socket File”</a>, and
            <a class="xref" href="installing.html#environment-variables" title="2.12 Environment Variables">Section 2.12, “Environment Variables”</a>.
</p></li></ul>
</div>
<p>
        There are some alternatives to running the
        <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> program provided in the
        MySQL distribution:
</p><a class="indexterm" name="idm140644213880512"></a><a class="indexterm" name="idm140644213879024"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            If you want the initial privileges to be different from the
            standard defaults, use account-management statements such as
            <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2 CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
            <a class="link" href="sql-syntax.html#grant" title="13.7.1.4 GRANT Syntax"><code class="literal">GRANT</code></a>, and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6 REVOKE Syntax"><code class="literal">REVOKE</code></a> to change the
            privileges <span class="emphasis"><em>after</em></span> the grant tables have
            been set up. In other words, run
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>, and then use
            <code class="literal">mysql -u root mysql</code> to connect to the
            server as the MySQL <code class="literal">root</code> user so that you
            can issue the necessary statements. (See
            <a class="xref" href="sql-syntax.html#account-management-sql" title="13.7.1 Account Management Statements">Section 13.7.1, “Account Management Statements”</a>.)
          </p><p>
            To install MySQL on several machines with the same
            privileges, put the <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2 CREATE USER Syntax"><code class="literal">CREATE
            USER</code></a>, <a class="link" href="sql-syntax.html#grant" title="13.7.1.4 GRANT Syntax"><code class="literal">GRANT</code></a>, and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6 REVOKE Syntax"><code class="literal">REVOKE</code></a> statements in a file
            and execute the file as a script using
            <code class="literal">mysql</code> after running
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>. For example:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql_install_db --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql -u root &lt; your_script_file</code></strong>
</pre><p>
            This enables you to avoid issuing the statements manually on
            each machine.
          </p></li><li class="listitem"><p>
            It is possible to re-create the grant tables completely
            after they have previously been created. You might want to
            do this if you are just learning how to use
            <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2 CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
            <a class="link" href="sql-syntax.html#grant" title="13.7.1.4 GRANT Syntax"><code class="literal">GRANT</code></a>, and
            <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6 REVOKE Syntax"><code class="literal">REVOKE</code></a> and have made so many
            modifications after running
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> that you want to wipe
            out the tables and start over.
          </p><p>
            To re-create the grant tables, stop the server if it is
            running and remove the <code class="literal">mysql</code> database
            directory. Then run <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>
            again.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="starting-server"></a>2.10.2 Starting the Server</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#starting-server-troubleshooting">2.10.2.1 Troubleshooting Problems Starting the MySQL Server</a></span></dt></dl>
</div>
<p>
      This section describes how start the server on Unix and Unix-like
      systems. (For Windows, see
      <a class="xref" href="installing.html#windows-server-first-start" title="2.3.5.5 Starting the Server for the First Time">Section 2.3.5.5, “Starting the Server for the First Time”</a>.) For some suggested
      commands that you can use to test whether the server is accessible
      and working properly, see <a class="xref" href="installing.html#testing-server" title="2.10.3 Testing the Server">Section 2.10.3, “Testing the Server”</a>.
    </p><p>
      Start the MySQL server like this if your installation includes
      <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
      Start the server like this if your installation includes systemd
      support:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
      Substitute the appropriate service name if it differs from
      <code class="literal">mysqld</code>; for example, <code class="literal">mysql</code>
      on SLES systems.
    </p><p>
      It is important that the MySQL server be run using an unprivileged
      (non-<code class="literal">root</code>) login account. To ensure this if you
      run <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> as <code class="literal">root</code>,
      include the <a class="link" href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option as
      shown. Otherwise, you should execute the program while logged in
      as <code class="literal">mysql</code>, in which case you can omit the
      <a class="link" href="programs.html#option_mysqld_safe_user"><code class="option">--user</code></a> option from the
      command.
    </p><p>
      For further instructions for running MySQL as an unprivileged
      user, see <a class="xref" href="security.html#changing-mysql-user" title="6.1.5 How to Run MySQL as a Normal User">Section 6.1.5, “How to Run MySQL as a Normal User”</a>.
    </p><p>
      If the command fails immediately and prints <code class="literal">mysqld
      ended</code>, look for information in the error log (which by
      default is the
      <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> file
      in the data directory).
    </p><p>
      If the server is unable to access the data directory it starts or
      read the grant tables in the <code class="literal">mysql</code> database, it
      writes a message to its error log. Such problems can occur if you
      neglected to create the grant tables by initializing the data
      directory before proceeding to this step, or if you ran the
      command that initializes the data directory without the
      <code class="option">--user</code> option. Remove the
      <code class="filename">data</code> directory and run the command with the
      <code class="option">--user</code> option.
    </p><p>
      If you have other problems starting the server, see
      <a class="xref" href="installing.html#starting-server-troubleshooting" title="2.10.2.1 Troubleshooting Problems Starting the MySQL Server">Section 2.10.2.1, “Troubleshooting Problems Starting the MySQL Server”</a>. For more
      information about <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, see
      <a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span class="command"><strong>mysqld_safe</strong></span> — MySQL Server Startup Script”</a>. For more information about systemd
      support, see <a class="xref" href="installing.html#server-management-using-systemd" title="2.5.10 Managing MySQL Server with systemd">Section 2.5.10, “Managing MySQL Server with systemd”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="starting-server-troubleshooting"></a>2.10.2.1 Troubleshooting Problems Starting the MySQL Server</h4>
</div>
</div>
</div>
<a class="indexterm" name="idm140644213822592"></a><a class="indexterm" name="idm140644213821104"></a><a class="indexterm" name="idm140644213819616"></a><a class="indexterm" name="idm140644213818128"></a><p>
        This section provides troubleshooting suggestions for problems
        starting the server. For additional suggestions for Windows
        systems, see <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.6 Troubleshooting a Microsoft Windows MySQL Server Installation">Section 2.3.6, “Troubleshooting a Microsoft Windows MySQL Server Installation”</a>.
      </p><p>
        If you have problems starting the server, here are some things
        to try:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Check the <a class="link" href="glossary.html#glos_error_log" title="error log">error log</a> to
            see why the server does not start. Log files are located in
            the <a class="link" href="glossary.html#glos_data_directory" title="data directory">data
            directory</a> (typically <code class="filename">C:\Program
            Files\MySQL\MySQL Server 5.7\data</code> on
            Windows, <code class="filename">/usr/local/mysql/data</code> for a
            Unix/Linux binary distribution, and
            <code class="filename">/usr/local/var</code> for a Unix/Linux source
            distribution). Look in the data directory for files with
            names of the form
            <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code>
            and
            <code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code>,
            where <em class="replaceable"><code>host_name</code></em> is the name of
            your server host. Then examine the last few lines of these
            files. Use <code class="literal">tail</code> to display them:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong>
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre></li><li class="listitem"><p>
            Specify any special options needed by the storage engines
            you are using. You can create a <code class="filename">my.cnf</code>
            file and specify startup options for the engines that you
            plan to use. If you are going to use storage engines that
            support transactional tables (<code class="literal">InnoDB</code>,
            <a class="link" href="mysql-cluster.html" title="Chapter 18 MySQL Cluster NDB 7.5"><code class="literal">NDB</code></a>), be sure that you have
            them configured the way you want before starting the server.
            If you are using <code class="literal">InnoDB</code> tables, see
            <a class="xref" href="innodb-storage-engine.html#innodb-configuration" title="14.3 InnoDB Configuration">Section 14.3, “InnoDB Configuration”</a> for guidelines and
            <a class="xref" href="innodb-storage-engine.html#innodb-parameters" title="14.11 InnoDB Startup Options and System Variables">Section 14.11, “InnoDB Startup Options and System Variables”</a> for option syntax.
          </p><p>
            Although storage engines use default values for options that
            you omit, Oracle recommends that you review the available
            options and specify explicit values for any options whose
            defaults are not appropriate for your installation.
          </p></li><li class="listitem"><p>
            Make sure that the server knows where to find the
            <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>.
            The <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server uses this directory as
            its current directory. This is where it expects to find
            databases and where it expects to write log files. The
            server also writes the pid (process ID) file in the data
            directory.
          </p><p>
            The default data directory location is hardcoded when the
            server is compiled. To determine what the default path
            settings are, invoke <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options. If the data
            directory is located somewhere else on your system, specify
            that location with the
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option to
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> or <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>,
            on the command line or in an option file. Otherwise, the
            server will not work properly. As an alternative to the
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option, you can
            specify <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> the location of the base
            directory under which MySQL is installed with the
            <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>, and
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> looks for the
            <code class="filename">data</code> directory there.
          </p><p>
            To check the effect of specifying path options, invoke
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with those options followed by the
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> options. For example,
            if you change location into the directory where
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is installed and then run the
            following command, it shows the effect of starting the
            server with a base directory of
            <code class="filename">/usr/local</code>:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p>
            You can specify other options such as
            <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> as well, but
            <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a> must be the last
            options.
          </p><p>
            Once you determine the path settings you want, start the
            server without <a class="link" href="server-administration.html#option_mysqld_verbose"><code class="option">--verbose</code></a> and
            <a class="link" href="server-administration.html#option_mysqld_help"><code class="option">--help</code></a>.
          </p><p>
            If <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is currently running, you can
            find out what path settings it is using by executing this
            command:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p>
            Or:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
            <em class="replaceable"><code>host_name</code></em> is the name of the
            MySQL server host.
          </p></li><li class="listitem"><p>
            Make sure that the server can access the
            <a class="link" href="glossary.html#glos_data_directory" title="data directory">data directory</a>.
            The ownership and permissions of the data directory and its
            contents must allow the server to read and modify them.
          </p><p>
            If you get <code class="literal">Errcode 13</code> (which means
            <code class="literal">Permission denied</code>) when starting
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, this means that the privileges of
            the data directory or its contents do not permit server
            access. In this case, you change the permissions for the
            involved files and directories so that the server has the
            right to use them. You can also start the server as
            <code class="literal">root</code>, but this raises security issues and
            should be avoided.
          </p><p>
            Change location into the data directory and check the
            ownership of the data directory and its contents to make
            sure the server has access. For example, if the data
            directory is <code class="filename">/usr/local/mysql/var</code>, use
            this command:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p>
            If the data directory or its files or subdirectories are not
            owned by the login account that you use for running the
            server, change their ownership to that account. If the
            account is named <code class="literal">mysql</code>, use these
            commands:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p>
            Even with correct ownership, MySQL might fail to start up if
            there is other security software running on your system that
            manages application access to various parts of the file
            system. In this case, reconfigure that software to enable
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to access the directories it uses
            during normal operation.
          </p></li><li class="listitem"><p>
            Verify that the network interfaces the server wants to use
            are available.
          </p><p>
            If either of the following errors occur, it means that some
            other program (perhaps another <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            server) is using the TCP/IP port or Unix socket file that
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is trying to use:
          </p><pre class="programlisting">
Can't start server: Bind on TCP/IP port: Address already in use
Can't start server: Bind on unix socket...
</pre><p>
            Use <span class="command"><strong>ps</strong></span> to determine whether you have
            another <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server running. If so,
            shut down the server before starting
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> again. (If another server is
            running, and you really want to run multiple servers, you
            can find information about how to do so in
            <a class="xref" href="server-administration.html#multiple-servers" title="5.3 Running Multiple MySQL Instances on One Machine">Section 5.3, “Running Multiple MySQL Instances on One Machine”</a>.)
          </p><p>
            If no other server is running, execute the command
            <code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em>
            <em class="replaceable"><code>tcp_ip_port_number</code></em></code>.
            (The default MySQL port number is 3306.) Then press Enter a
            couple of times. If you do not get an error message like
            <code class="literal">telnet: Unable to connect to remote host:
            Connection refused</code>, some other program is using
            the TCP/IP port that <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is trying to
            use. Track down what program this is and disable it, or tell
            <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to listen to a different port with
            the <a class="link" href="server-administration.html#option_mysqld_port"><code class="option">--port</code></a> option. In this
            case, specify the same non-default port number for client
            programs when connecting to the server using TCP/IP.
          </p><p>
            Another reason the port might be inaccessible is that you
            have a firewall running that blocks connections to it. If
            so, modify the firewall settings to permit access to the
            port.
          </p><p>
            If the server starts but you cannot connect to it, make sure
            that you have an entry in <code class="filename">/etc/hosts</code>
            that looks like this:
          </p><pre class="programlisting">
127.0.0.1       localhost
</pre></li><li class="listitem"><p>
            If you cannot get <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to start, try to
            make a trace file to find the problem by using the
            <a class="link" href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a> option. See
            <a class="xref" href="extending-mysql.html#dbug-package" title="25.5.3 The DBUG Package">Section 25.5.3, “The DBUG Package”</a>.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="testing-server"></a>2.10.3 Testing the Server</h3>

</div>

</div>

</div>
<p>
      After the data directory is initialized and you have started the
      server, perform some simple tests to make sure that it works
      satisfactorily. This section assumes that your current location is
      the MySQL installation directory and that it has a
      <code class="filename">bin</code> subdirectory containing the MySQL
      programs used here. If that is not true, adjust the command path
      names accordingly.
    </p><a class="indexterm" name="idm140644213722000"></a><a class="indexterm" name="idm140644213720912"></a><p>
      Alternatively, add the <code class="filename">bin</code> directory to your
      <code class="literal">PATH</code> environment variable setting. That enables
      your shell (command interpreter) to find MySQL programs properly,
      so that you can run a program by typing only its name, not its
      path name. See <a class="xref" href="programs.html#setting-environment-variables" title="4.2.10 Setting Environment Variables">Section 4.2.10, “Setting Environment Variables”</a>.
    </p><p>
      Use <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a> to verify that the server is
      running. The following commands provide simple tests to check
      whether the server is up and responding to connections:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p>
      If you cannot connect to the server, specify a <code class="option">-u
      root</code> option to connect as <code class="literal">root</code>. If you
      have assigned a password for the <code class="literal">root</code> account
      already, you'll also need to specify <code class="option">-p</code> on the
      command line and enter the password when prompted. For example:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p version</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      The output from <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin version</strong></span></a> varies
      slightly depending on your platform and version of MySQL, but
      should be similar to that shown here:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
mysqladmin  Ver 14.12 Distrib 5.7.13, for pc-linux-gnu on i686
...

Server version          5.7.13
Protocol version        10
Connection              Localhost via UNIX socket
UNIX socket             /var/lib/mysql/mysql.sock
Uptime:                 14 days 5 hours 5 min 21 sec

Threads: 1  Questions: 366  Slow queries: 0
Opens: 0  Flush tables: 1  Open tables: 19
Queries per second avg: 0.000
</pre><p>
      To see what else you can do with <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>,
      invoke it with the <a class="link" href="programs.html#option_mysqladmin_help"><code class="option">--help</code></a>
      option.
    </p><a class="indexterm" name="idm140644213701648"></a><a class="indexterm" name="idm140644213700160"></a><p>
      Verify that you can shut down the server (include a
      <code class="option">-p</code> option if the <code class="literal">root</code> account
      has a password already):
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre><p>
      Verify that you can start the server again. Do this by using
      <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> or by invoking
      <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly. For example:
    </p><a class="indexterm" name="idm140644213692688"></a><a class="indexterm" name="idm140644213691200"></a><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
      If <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> fails, see
      <a class="xref" href="installing.html#starting-server-troubleshooting" title="2.10.2.1 Troubleshooting Problems Starting the MySQL Server">Section 2.10.2.1, “Troubleshooting Problems Starting the MySQL Server”</a>.
    </p><p>
      Run some simple tests to verify that you can retrieve information
      from the server. The output should be similar to that shown here.
    </p><p>
      Use <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> to see what databases exist:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      The list of installed databases may vary, but will always include
      the minimum of <code class="literal">mysql</code> and
      <code class="literal">information_schema</code>.
    </p><p>
      If you specify a database name, <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>
      displays a list of the tables within the database:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| db                        |
| engine_cost               |
| event                     |
| func                      |
| general_log               |
| gtid_executed             |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| innodb_index_stats        |
| innodb_table_stats        |
| ndb_binlog_index          |
| plugin                    |
| proc                      |
| procs_priv                |
| proxies_priv              |
| server_cost               |
| servers                   |
| slave_master_info         |
| slave_relay_log_info      |
| slave_worker_info         |
| slow_log                  |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      Use the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> program to select information
      from a table in the <code class="literal">mysql</code> database:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong>
+------+-----------+-----------------------+
| User | Host      | plugin                |
+------+-----------+-----------------------+
| root | localhost | mysql_native_password |
+------+-----------+-----------------------+
</pre><p>
      At this point, your server is running and you can access it. To
      tighten security if you have not yet assigned a password to the
      initial account, follow the instructions in
      <a class="xref" href="installing.html#default-privileges" title="2.10.4 Securing the Initial MySQL Accounts">Section 2.10.4, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      For more information about <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>,
      <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>, and <a class="link" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a>,
      see <a class="xref" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool">Section 4.5.1, “<span class="command"><strong>mysql</strong></span> — The MySQL Command-Line Tool”</a>, <a class="xref" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server">Section 4.5.2, “<span class="command"><strong>mysqladmin</strong></span> — Client for Administering a MySQL Server”</a>, and
      <a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — Display Database, Table, and Column Information">Section 4.5.7, “<span class="command"><strong>mysqlshow</strong></span> — Display Database, Table, and Column Information”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="default-privileges"></a>2.10.4 Securing the Initial MySQL Accounts</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644213662240"></a><a class="indexterm" name="idm140644213660784"></a><a class="indexterm" name="idm140644213659296"></a><a class="indexterm" name="idm140644213658224"></a><a class="indexterm" name="idm140644213657152"></a><a class="indexterm" name="idm140644213655664"></a><a class="indexterm" name="idm140644213654592"></a><a class="indexterm" name="idm140644213653104"></a><a class="indexterm" name="idm140644213651616"></a><a class="indexterm" name="idm140644213650128"></a><a class="indexterm" name="idm140644213649056"></a><a class="indexterm" name="idm140644213647568"></a><a class="indexterm" name="idm140644213646080"></a><a class="indexterm" name="idm140644213644592"></a><a class="indexterm" name="idm140644213643104"></a><a class="indexterm" name="idm140644213641616"></a><a class="indexterm" name="idm140644213640128"></a><a class="indexterm" name="idm140644213638640"></a><a class="indexterm" name="idm140644213637152"></a><a class="indexterm" name="idm140644213635664"></a><a class="indexterm" name="idm140644213634176"></a><a class="indexterm" name="idm140644213632688"></a><a class="indexterm" name="idm140644213631200"></a><a class="indexterm" name="idm140644213629712"></a><p>
      The MySQL installation process involves initializing the data
      directory, including the <code class="literal">mysql</code> database
      containing the grant tables that define MySQL accounts. For
      details, see <a class="xref" href="installing.html#postinstallation" title="2.10 Postinstallation Setup and Testing">Section 2.10, “Postinstallation Setup and Testing”</a>.
    </p><p>
      This section describes how to assign passwords to the initial
      accounts created during the MySQL installation procedure, if you
      have not already done so.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        On Windows, you can also perform the process described in this
        section during installation with MySQL Installer (see
        <a class="xref" href="installing.html#mysql-installer" title="2.3.3 Installing MySQL on Microsoft Windows Using MySQL Installer">Section 2.3.3, “Installing MySQL on Microsoft Windows Using MySQL Installer”</a>). On all platforms, the MySQL
        distribution includes
        <a class="link" href="programs.html#mysql-secure-installation" title="4.4.4 mysql_secure_installation — Improve MySQL Installation Security"><span class="command"><strong>mysql_secure_installation</strong></span></a>, a command-line
        utility that automates much of the process of securing a MySQL
        installation. MySQL Workbench is available on all platforms, and
        also offers the ability to manage user accounts (see
        <a class="xref" href="workbench.html" title="Chapter 27 MySQL Workbench">Chapter 27, <i>MySQL Workbench</i></a> ).
</p>
</div>
<p>
      Passwords may have already been assigned under these
      circumstances:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Installation On Windows performed using MySQL Installer give you the
          option of assigning passwords.
        </p></li><li class="listitem"><p>
          Installation on Linux using a server RPM or Debian
          distribution from Oracle, if you have followed the
          instructions given in
          <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle">Section 2.5.5, “Installing MySQL on Linux Using RPM Packages from Oracle”</a>,
          <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a>,
          <a class="xref" href="installing.html#linux-installation-debian" title="2.5.6 Installing MySQL on Linux Using Debian Packages from Oracle">Section 2.5.6, “Installing MySQL on Linux Using Debian Packages from Oracle”</a>, or
          <a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.3 Installing MySQL on Linux Using the MySQL APT Repository">Section 2.5.3, “Installing MySQL on Linux Using the MySQL APT Repository”</a>.
        </p></li><li class="listitem"><p>
          As of MySQL 5.7.6, if you initialized the data directory
          manually using <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld --initialize</strong></span></a> and
          followed the instructions in
          <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>, you
          should have assigned a password to the initial account.
</p></li></ul>
</div>
<p>
      The <code class="literal">mysql.user</code> grant table defines the initial
      MySQL user accounts and their access privileges. Current versions
      of MySQL 5.7 create only a
      <code class="literal">'root'@'localhost'</code> account, but for earlier
      versions, there might be multiple accounts such as described here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Some accounts have the user name <code class="literal">root</code>.
          These are superuser accounts that have all privileges and can
          do anything. If these <code class="literal">root</code> accounts have
          empty passwords, anyone can connect to the MySQL server as
          <code class="literal">root</code> <span class="emphasis"><em>without a
          password</em></span> and be granted all privileges.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              On Windows, <code class="literal">root</code> accounts are created
              that permit connections from the local host only.
              Connections can be made by specifying the host name
              <code class="literal">localhost</code>, the IP address
              <code class="literal">127.0.0.1</code>, or the IPv6 address
              <code class="literal">::1</code>. If the user selects the
              <span class="guilabel">Enable root access from remote
              machines</span> option during installation, the
              Windows installer creates another <code class="literal">root</code>
              account that permits connections from any host.
            </p></li><li class="listitem"><p>
              On Unix, each <code class="literal">root</code> account permits
              connections from the local host. Connections can be made
              by specifying the host name <code class="literal">localhost</code>,
              the IP address <code class="literal">127.0.0.1</code>, the IPv6
              address <code class="literal">::1</code>, or the actual host name or
              IP address.
            </p></li><li class="listitem"><p>
              The <code class="literal">'root'@'localhost'</code> account also has
              a row in the <code class="literal">mysql.proxies_priv</code> table
              that enables granting the
              <a class="link" href="security.html#priv_proxy"><code class="literal">PROXY</code></a> privilege for
              <code class="literal">''@''</code>, that is, for all users and all
              hosts. This enables <code class="literal">root</code> to set up
              proxy users, as well as to delegate to other accounts the
              authority to set up proxy users. See
              <a class="xref" href="security.html#proxy-users" title="6.3.9 Proxy Users">Section 6.3.9, “Proxy Users”</a>.
</p></li></ul>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idm140644213591024"></a>

          If accounts for anonymous users were created, these have an
          empty user name. The anonymous accounts have no password, so
          anyone can use them to connect to the MySQL server.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              On Windows, there is one anonymous account that permits
              connections from the local host. Connections can be made
              by specifying a host name of <code class="literal">localhost</code>.
            </p></li><li class="listitem"><p>
              On Unix, each anonymous account permits connections from
              the local host. Connections can be made by specifying a
              host name of <code class="literal">localhost</code> for one of the
              accounts, or the actual host name or IP address for the
              other.
</p></li></ul>
</div>
</li></ul>
</div>
<h4><a name="idm140644213585488"></a>Checking Which Accounts Exist</h4>
<p>
      Start the server if it is not running. For instructions, see
      <a class="xref" href="installing.html#starting-server" title="2.10.2 Starting the Server">Section 2.10.2, “Starting the Server”</a>.
    </p><p>
      Assuming that no <code class="literal">root</code> password has been
      assigned, you should be able to connect to the server as
      <code class="literal">root</code> without one:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
</pre><p>
      Once connected, determine which accounts exist in the
      <code class="literal">mysql.user</code> table and whether their passwords
      are empty:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          As of MySQL 5.7.6, use this statement:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT User, Host, HEX(authentication_string) FROM mysql.user;</code></strong>
</pre><p>
          The statement uses <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a>
          because passwords stored in the
          <code class="literal">authentication_string</code> column might contain
          binary data that does not display well.
        </p></li><li class="listitem"><p>
          Before MySQL 5.7.6, use this statement:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT User, Host, Password FROM mysql.user;</code></strong>
</pre></li></ul>
</div>
<p>
      The <a class="link" href="sql-syntax.html#select" title="13.2.9 SELECT Syntax"><code class="literal">SELECT</code></a> statement results can
      vary depending on your version of MySQL and installation method.
      The following example output includes several
      <code class="literal">root</code> and anonymous-user accounts, none of which
      have passwords:
    </p><pre class="programlisting">
+------+--------------------+----------+
| User | Host               | Password |
+------+--------------------+----------+
| root | localhost          |          |
| root | myhost.example.com |          |
| root | 127.0.0.1          |          |
| root | ::1                |          |
|      | localhost          |          |
|      | myhost.example.com |          |
+------+--------------------+----------+
</pre><p>
      If the output on your system shows any accounts with empty
      passwords, your MySQL installation is unprotected until you do
      something about it:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Assign a password to each MySQL <code class="literal">root</code>
          account that does not have one.
        </p></li><li class="listitem"><p>
          To prevent clients from connecting as anonymous users without
          a password, either assign a password to each anonymous account
          or remove the accounts.
</p></li></ul>
</div>
<p>
      In addition, some installation methods create a
      <code class="literal">test</code> database and add rows to the
      <code class="literal">mysql.db</code> table that permit all accounts to
      access that database and other databases with names that start
      with <code class="literal">test_</code>. This is true even for accounts that
      otherwise have no special privileges such as the default anonymous
      accounts. This is convenient for testing but inadvisable on
      production servers. Administrators who want database access
      restricted only to accounts that have permissions granted
      explicitly for that purpose should remove these
      <code class="literal">mysql.db</code> table rows.
    </p><p>
      The following instructions describe how to set up passwords for
      the initial MySQL accounts, first for any <code class="literal">root</code>
      accounts, then for anonymous accounts. The instructions also cover
      how to remove anonymous accounts, should you prefer not to permit
      anonymous access at all, and describe how to remove permissive
      access to test databases.
    </p><p>
      Replace <em class="replaceable"><code>new_password</code></em> in the examples
      with the password that you want to use. Replace
      <em class="replaceable"><code>host_name</code></em> with the name of the server
      host. You can determine this name from the output of the
      <a class="link" href="sql-syntax.html#select" title="13.2.9 SELECT Syntax"><code class="literal">SELECT</code></a> statement shown earlier. For
      the output shown, <em class="replaceable"><code>host_name</code></em> is
      <code class="literal">myhost.example.com</code>.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        For additional information about setting passwords, see
        <a class="xref" href="security.html#assigning-passwords" title="6.3.5 Assigning Account Passwords">Section 6.3.5, “Assigning Account Passwords”</a>. If you forget your
        <code class="literal">root</code> password after setting it, see
        <a class="xref" href="error-handling.html#resetting-permissions" title="B.5.3.2 How to Reset the Root Password">Section B.5.3.2, “How to Reset the Root Password”</a>.
      </p><p>
        To set up additional accounts, see
        <a class="xref" href="security.html#adding-users" title="6.3.2 Adding User Accounts">Section 6.3.2, “Adding User Accounts”</a>.
</p>
</div>
<p>
      You might want to defer setting the passwords until later, to
      avoid the need to specify them while you perform additional setup
      or testing. However, be sure to set them before using your
      installation for production purposes.
</p>
<h4><a name="idm140644213549936"></a>Assigning root Account Passwords</h4>
<p>
      To assign a password to an account, connect to the server as
      <code class="literal">root</code> using the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client
      and issue the appropriate SQL statement:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          As of MySQL 5.7.6, use <a class="link" href="sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER Syntax"><code class="literal">ALTER
          USER</code></a>:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER USER <em class="replaceable"><code>user</code></em> IDENTIFIED BY '<em class="replaceable"><code>new_password</code></em>';</code></strong>
</pre></li><li class="listitem"><p>
          Before 5.7.6, use <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>:
        </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR <em class="replaceable"><code>user</code></em> = PASSWORD('<em class="replaceable"><code>new_password</code></em>');</code></strong>
</pre></li></ul>
</div>
<p>
      The following instructions use <a class="link" href="sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER Syntax"><code class="literal">ALTER
      USER</code></a>. If your version of MySQL is older than 5.7.6,
      substitute equivalent <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>
      statements.
    </p><p>
      To assign the <code class="literal">'root'@'localhost'</code> account a
      password, connect to the server as <code class="literal">root</code>:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
</pre><p>
      Then issue an <a class="link" href="sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER Syntax"><code class="literal">ALTER USER</code></a> statement:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>new_password</code></em>';</code></strong>
</pre><p>
      Issue a similar <a class="link" href="sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER Syntax"><code class="literal">ALTER USER</code></a>
      statement for any other <code class="literal">root</code> account present in
      your <code class="literal">mysql.user</code> table that has no password.
      (Vary the host name appropriately.)
    </p><p>
      After an account has been assigned a password, you must supply
      that password whenever you connect to the server using the
      account. For example, to shut down the server with
      <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>, use this command:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      The <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> commands in the following
      instructions include a <code class="option">-p</code> option based on the
      assumption that you have assigned the <code class="literal">root</code>
      account password using the preceding instructions and must specify
      that password when connecting to the server.
</p>
<h4><a name="idm140644213518160"></a>Assigning Anonymous Account Passwords</h4>
<p>
      In MySQL 5.7, installation methods that create
      anonymous accounts tend to be for early versions for which
      <a class="link" href="sql-syntax.html#alter-user" title="13.7.1.1 ALTER USER Syntax"><code class="literal">ALTER USER</code></a> cannot be used to assign
      passwords. Consequently, the instructions in this section use
      <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>.
    </p><p>
      To assign the <code class="literal">''@'localhost'</code> anonymous account
      a password, connect to the server as <code class="literal">root</code>:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      Then issue a <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>
      statement:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'localhost' = PASSWORD('<em class="replaceable"><code>new_password</code></em>');</code></strong>
</pre><p>
      Issue a similar <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7 SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>
      statement for any other anonymous account present in your
      <code class="literal">mysql.user</code> table that has no password. (Vary
      the host name appropriately.)
</p>
<h4><a name="idm140644213504672"></a>Removing Anonymous Accounts</h4>
<p>
      If you prefer to remove any anonymous accounts rather than
      assigning them passwords, use <a class="link" href="sql-syntax.html#drop-user" title="13.7.1.3 DROP USER Syntax"><code class="literal">DROP
      USER</code></a>. To drop the <code class="literal">''@'localhost'</code>
      account, connect to the server as <code class="literal">root</code>:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      Then issue a <a class="link" href="sql-syntax.html#drop-user" title="13.7.1.3 DROP USER Syntax"><code class="literal">DROP USER</code></a> statement:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>DROP USER ''@'localhost';</code></strong>
</pre><p>
      Issue a similar <a class="link" href="sql-syntax.html#drop-user" title="13.7.1.3 DROP USER Syntax"><code class="literal">DROP USER</code></a> statement
      for any other anonymous account that you want to drop. (Vary the
      host name appropriately.)
</p>
<h4><a name="idm140644213493952"></a>Securing Test Databases</h4>
<p>
      Some installation methods create a <code class="literal">test</code>
      database and set up privileges for accessing it. If that is true
      on your system, the <code class="literal">mysql.db</code> table will contain
      rows that permit access by any user to the <code class="literal">test</code>
      database and other databases with names that start with
      <code class="literal">test_</code>. (These rows have an empty
      <code class="literal">User</code> column value, which for access-checking
      purposes matches any user name.) This means that such databases
      can be used even by accounts that otherwise possess no privileges.
      If you want to remove any-user access to test databases, do so as
      follows:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.db WHERE Db LIKE 'test%';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
      The <a class="link" href="sql-syntax.html#flush" title="13.7.6.3 FLUSH Syntax"><code class="literal">FLUSH</code></a> statement causes the
      server to reread the grant tables. Without it, the privilege
      change remains unnoticed by the server until you restart it.
    </p><p>
      With the preceding change, only users who have global database
      privileges or privileges granted explicitly for the
      <code class="literal">test</code> database can use it. However, if you
      prefer that the database not exist at all, drop it:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>DROP DATABASE test;</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="automatic-start"></a>2.10.5 Starting and Stopping MySQL Automatically</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644213479664"></a><a class="indexterm" name="idm140644213478192"></a><a class="indexterm" name="idm140644213476704"></a><p>
      This section discusses methods for starting and stopping the MySQL
      server.
    </p><p>
      Generally, you start the <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server in one
      of these ways:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Invoke <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> directly. This works on any
          platform.
        </p></li><li class="listitem"><p>
          On Windows, you can set up a MySQL service that runs
          automatically when Windows starts. See
          <a class="xref" href="installing.html#windows-start-service" title="2.3.5.8 Starting MySQL as a Windows Service">Section 2.3.5.8, “Starting MySQL as a Windows Service”</a>.
        </p></li><li class="listitem"><p>
          On Unix and Unix-like systems, you can invoke
          <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, which tries to determine the
          proper options for <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> and then runs it
          with those options. See <a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script">Section 4.3.2, “<span class="command"><strong>mysqld_safe</strong></span> — MySQL Server Startup Script”</a>.
        </p></li><li class="listitem"><p>
          On Linux systems that support systemd, you can use it to
          control the server. See
          <a class="xref" href="installing.html#server-management-using-systemd" title="2.5.10 Managing MySQL Server with systemd">Section 2.5.10, “Managing MySQL Server with systemd”</a>.
        </p></li><li class="listitem"><p>
          On systems that use System V-style run directories (that is,
          <code class="filename">/etc/init.d</code> and run-level specific
          directories), invoke <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>. This
          script is used primarily at system startup and shutdown. It
          usually is installed under the name <code class="literal">mysql</code>.
          The <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> script starts the server
          by invoking <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>. See
          <a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script">Section 4.3.3, “<span class="command"><strong>mysql.server</strong></span> — MySQL Server Startup Script”</a>.
        </p></li><li class="listitem"><p>
          On OS X, install a launchd daemon to enable automatic MySQL
          startup at system startup. The daemon starts the server by
          invoking <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>. For details, see
          <a class="xref" href="installing.html#osx-installation-launchd" title="2.4.3 Installing a MySQL Launch Daemon">Section 2.4.3, “Installing a MySQL Launch Daemon”</a>. A MySQL Preference
          Pane also provides control for starting and stopping MySQL
          through the System Preferences. See
          <a class="xref" href="installing.html#osx-installation-prefpane" title="2.4.4 Installing and Using the MySQL Preference Pane">Section 2.4.4, “Installing and Using the MySQL Preference Pane”</a>.
        </p></li><li class="listitem"><p>
          On Solaris/OpenSolaris, use the service management framework
          (SMF) system to initiate and control MySQL startup. For more
          information, see
          <a class="xref" href="installing.html#solaris-installation-opensolaris" title="2.7.2 Installing MySQL on OpenSolaris Using IPS">Section 2.7.2, “Installing MySQL on OpenSolaris Using IPS”</a>.
</p></li></ul>
</div>
<p>
      systemd, the <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> and
      <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> scripts, Solaris/OpenSolaris SMF,
      and the OS X Startup Item (or MySQL Preference Pane) can be used
      to start the server manually, or automatically at system startup
      time. systemd, <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a>, and the Startup
      Item also can be used to stop the server.
    </p><p>
      The following table shows which option groups the server and
      startup scripts read from option files.
</p>
<div class="table">
<a name="idm140644213446224"></a><p class="title"><b>Table 2.12 MySQL Startup Scripts and Supported Server Option Groups</b></p>
<div class="table-contents">
<table summary="MySQL Startup Scripts and Supported Server Option Groups" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Script</th><th scope="col">Option Groups</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
              <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td></tr><tr><td scope="row"><a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[server]</code>,
              <code class="literal">[mysqld_safe]</code></td></tr><tr><td scope="row"><a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a></td><td><code class="literal">[mysqld]</code>, <code class="literal">[mysql.server]</code>,
<code class="literal">[server]</code></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
      <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code>
      means that groups with names like
      <code class="literal">[mysqld-5.6]</code> and
      <code class="literal">[mysqld-5.7]</code> are read by servers
      having versions 5.6.x, 5.7.x, and so
      forth. This feature can be used to specify options that can be
      read only by servers within a given release series.
    </p><p>
      For backward compatibility, <a class="link" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> also
      reads the <code class="literal">[mysql_server]</code> group and
      <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> also reads the
      <code class="literal">[safe_mysqld]</code> group. To be current, you should
      update your option files to use the
      <code class="literal">[mysql.server]</code> and
      <code class="literal">[mysqld_safe]</code> groups instead.
    </p><p>
      For more information on MySQL configuration files and their
      structure and contents, see <a class="xref" href="programs.html#option-files" title="4.2.6 Using Option Files">Section 4.2.6, “Using Option Files”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="upgrading-downgrading"></a>2.11 Upgrading or Downgrading MySQL</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#upgrading">2.11.1 Upgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#downgrading">2.11.2 Downgrading MySQL</a></span></dt><dt><span class="section"><a href="installing.html#checking-table-incompatibilities">2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.4 Rebuilding or Repairing Tables or Indexes</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.5 Copying MySQL Databases to Another Machine</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644213417968"></a><a class="indexterm" name="idm140644213416928"></a><p>
    This section describes the steps to upgrade or downgrade a MySQL
    installation.
  </p><p>
    Upgrading is a common procedure, as you pick up bug fixes within the
    same MySQL release series or significant features between major
    MySQL releases. You perform this procedure first on some test
    systems to make sure everything works smoothly, and then on the
    production systems.
  </p><p>
    Downgrading is less common. Typically, you undo an upgrade because
    of some compatibility or performance issue that occurs on a
    production system, and was not uncovered during initial upgrade
    verification on the test systems. As with the upgrade procedure,
    perform and verify the downgrade procedure on some test systems
    first, before using it on a production system.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="upgrading"></a>2.11.1 Upgrading MySQL</h3>

</div>

</div>

</div>

<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.1.1 Changes Affecting Upgrades to MySQL 5.7</a></span></dt><dt><span class="section"><a href="installing.html#updating-yum-repo">2.11.1.2 Upgrading MySQL with the MySQL Yum Repository</a></span></dt><dt><span class="section"><a href="installing.html#updating-apt-repo">2.11.1.3 Upgrading MySQL with the MySQL APT Repository</a></span></dt><dt><span class="section"><a href="installing.html#updating-direct-rpms">2.11.1.4 Upgrading MySQL with Directly-Downloaded RPM Packages</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644213412752"></a><p>
      This section describes how to upgrade to a new MySQL version.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-methods" title="Supported Upgrade Methods">Supported Upgrade
          Methods</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-paths" title="Supported Upgrade Paths">Supported Upgrade Paths</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-before-you-begin" title="Before You Begin">Before You
          Begin</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an
          In-place Upgrade</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-procedure-logical" title="Performing a Logical Upgrade">Performing a Logical
          Upgrade</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#upgrade-troubleshooting" title="Upgrade Troubleshooting">Upgrade
          Troubleshooting</a>
</p></li></ul>
</div>
<h4><a name="upgrade-methods"></a>Supported Upgrade Methods</h4>
<p>
      Supported upgrade methods include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>In-place Upgrade</em></span>: Involves shutting down
          the old MySQL version, replacing the old MySQL binaries or
          packages with the new ones, restarting MySQL on the existing
          data directory, and running <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Logical Upgrade</em></span>: Involves exporting
          existing data from the old MySQL version using
          <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, installing the new MySQL
          version, loading the dump file into the new MySQL version, and
          running <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>.
</p></li></ul>
</div>
<p>
      For in-place and logical upgrade procedures, see
      <a class="xref" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an In-place Upgrade</a>, and
      <a class="xref" href="installing.html#upgrade-procedure-logical" title="Performing a Logical Upgrade">Performing a Logical Upgrade</a>.
    </p><p>
      If you run MySQL Server on Windows, refer to the upgrade procedure
      described in <a class="xref" href="installing.html#windows-upgrading" title="2.3.8 Upgrading MySQL on Windows">Section 2.3.8, “Upgrading MySQL on Windows”</a>.
    </p><p>
      If your current MySQL installation was installed on an Enterprise
      Linux platform or Fedora using the MySQL Yum Repository, see
      <a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">Section 2.11.1.2, “Upgrading MySQL with the MySQL Yum Repository”</a>.
    </p><p>
      If your current MySQL installation was installed on Ubuntu using
      the MySQL APT repository, see <a class="xref" href="installing.html#updating-apt-repo" title="2.11.1.3 Upgrading MySQL with the MySQL APT Repository">Section 2.11.1.3, “Upgrading MySQL with the MySQL APT Repository”</a>.
</p>
<h4><a name="upgrade-paths"></a>Supported Upgrade Paths</h4>
<p>
      Unless otherwise documented, the following upgrade paths are
      supported:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Upgrading from a release series version to a newer release
          series version is supported. For example, upgrading from 5.7.9
          to 5.7.10 is supported. Skipping release series versions is
          also supported. For example, upgrading from 5.7.9 to 5.7.11 is
          supported.
        </p></li><li class="listitem"><p>
          Upgrading one release level is supported. For example,
          upgrading from 5.6 to 5.7 is
          supported. Upgrading to the latest release series version is
          recommended before upgrading to the next release level. For
          example, upgrade to the latest 5.6 release
          before upgrading to 5.7.
        </p></li><li class="listitem"><p>
          Upgrading more than one release level is supported, but only
          if you upgrade one release level at a time. For example, if
          you currently are running MySQL 5.5 and wish to upgrade to a
          newer series, upgrade to MySQL 5.6 first before
          upgrading to MySQL 5.7, and so forth. For
          information on upgrading to MySQL 5.6 see the
          <em class="citetitle">MySQL 5.6 Reference Manual</em>.
        </p></li><li class="listitem"><p>
          Direct upgrades that skip a release level (for example,
          upgrading directly from MySQL 5.5 to 5.7) are not
          recommended or supported.
</p></li></ul>
</div>
<p>
      The following conditions apply to all upgrade paths:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Upgrades between General Availability (GA) status releases are
          supported.
        </p></li><li class="listitem"><p>
          Upgrades between milestone releases (or from a milestone
          release to a GA release) are not supported. For example,
          upgrading from 5.7.7 to 5.7.8 is not supported, as neither are
          GA status releases.
        </p></li><li class="listitem"><p>
          For upgrades between versions of a MySQL release series that
          has reached GA status, you can move the MySQL format files and
          data files between different versions on systems with the same
          architecture. This is not necessarily true for upgrades
          between milestone releases. Use of milestone releases is at
          your own risk.
</p></li></ul>
</div>
<h4><a name="upgrade-before-you-begin"></a>Before You Begin</h4>
<p>
      Before upgrading, review the following information and perform the
      recommended steps:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Before upgrading, protect your data by creating a backup of
          your current databases and log files. The backup should
          include the <code class="literal">mysql</code> database, which contains
          the MySQL system tables. See <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 Database Backup Methods">Section 7.2, “Database Backup Methods”</a>.
        </p></li><li class="listitem"><p>
          Review the
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top">Release
          Notes</a> which provide information about features that
          are new in the MySQL 5.7 or differ from those
          found in earlier MySQL releases. Some of these changes may
          result in incompatibilities.
        </p><p>
          For listings of MySQL server variables and options that have
          been added, deprecated, or removed in MySQL 5.7,
          see <a class="xref" href="introduction.html#added-removed-variables-options" title="1.5 Server and Status Variables and Options Added, Deprecated, or Removed in MySQL 5.7">Section 1.5, “Server and Status Variables and Options Added, Deprecated, or Removed in
    MySQL 5.7”</a>.
        </p></li><li class="listitem"><p>
          Review <a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.1.1 Changes Affecting Upgrades to MySQL 5.7">Section 2.11.1.1, “Changes Affecting Upgrades to MySQL 5.7”</a>. This
          section describes changes that may require action before or
          after upgrading.
        </p></li><li class="listitem"><p>
          Check <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to
          see whether changes to table formats or to character sets or
          collations were made between your current version of MySQL and
          the version to which you are upgrading. If such changes have
          resulted in an incompatibility between MySQL versions, you
          will need to upgrade the affected tables using the
          instructions in <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
        </p></li><li class="listitem"><p>
          If you use replication, review
          <a class="xref" href="replication.html#replication-upgrade" title="17.4.3 Upgrading a Replication Setup">Section 17.4.3, “Upgrading a Replication Setup”</a>.
        </p></li><li class="listitem"><p>
          If you use XA transactions with <code class="literal">InnoDB</code>, run
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          RECOVER</code></a> before upgrading to check for uncommitted XA
          transactions. If results are returned, either commit or
          rollback the XA transactions by issuing an
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          COMMIT</code></a> or
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          ROLLBACK</code></a> statement.
        </p></li><li class="listitem"><p>
          If your MySQL installation contains a large amount of data
          that might take a long time to convert after an in-place
          upgrade, you might find it useful to create a
          <span class="quote">“<span class="quote">dummy</span>”</span> database instance for assessing what
          conversions might be needed and the work involved to perform
          them. Make a copy of your MySQL instance that contains a full
          copy of the <code class="literal">mysql</code> database, plus all other
          databases without data. Run your upgrade procedure on this
          dummy instance to see what actions might be needed so that you
          can better evaluate the work involved when performing actual
          data conversion on your original database instance.
        </p></li><li class="listitem"><p>
          Rebuilding and reinstalling the Perl
          <code class="literal">DBD::mysql</code> module whenever you install or
          upgrade to a new release of MySQL is recommended. The same
          applies to other MySQL interfaces as well, such as PHP
          <code class="literal">mysql</code> extensions and the Python
          <code class="literal">MySQLdb</code> module.
</p></li></ul>
</div>
<h4><a name="upgrade-procedure-inplace"></a>Performing an In-place Upgrade</h4>
<p>
      This section describes how to perform an
      <a class="link" href="installing.html#upgrade-methods" title="Supported Upgrade Methods">in-place upgrade</a>. Review
      <a class="link" href="installing.html#upgrade-before-you-begin" title="Before You Begin">Before you Begin</a>
      before proceeding.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        If you upgrade an installation originally produced by installing
        multiple RPM packages, upgrade all the packages, not just some.
        For example, if you previously installed the server and client
        RPMs, do not upgrade just the server RPM.
</p>
</div>
<p>
      To perform an in-place upgrade:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review the changes described in
          <a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.1.1 Changes Affecting Upgrades to MySQL 5.7">Section 2.11.1.1, “Changes Affecting Upgrades to MySQL 5.7”</a> for steps to
          be performed before upgrading.
        </p></li><li class="listitem"><p>
          Configure MySQL to perform a slow shutdown by setting
          <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to
          <code class="literal">0</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="set global innodb_fast_shutdown=0"</code></strong></pre><p>
          With a slow shutdown, <code class="literal">InnoDB</code> performs a
          full purge and change buffer merge before shutting down, which
          ensures that data files are fully prepared in case of file
          format differences between releases.
        </p></li><li class="listitem"><p>
          Shut down the old MySQL server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong></pre></li><li class="listitem"><p>
          Upgrade the MySQL binaries or packages in place, replacing the
          old binaries or packages with the new ones.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            For supported Linux distributions, the preferred method for
            replacing the MySQL packages is to use the MySQL software
            repositories; see <a class="xref" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">Section 2.11.1.2, “Upgrading MySQL with the MySQL Yum Repository”</a>,
            <a class="xref" href="installing.html#updating-apt-repo" title="2.11.1.3 Upgrading MySQL with the MySQL APT Repository">Section 2.11.1.3, “Upgrading MySQL with the MySQL APT Repository”</a>, or
            <a class="ulink" href="http://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/#repo-qg-sles-upgrading" target="_top">Upgrading
            MySQL with the MySQL SLES Repository</a> for
            instructions.
</p>
</div>
</li><li class="listitem"><p>
          Start the MySQL 5.7 server, using the existing
          data directory. For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/existing-datadir</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql_upgrade -u root -p <em class="replaceable"><code>password</code></em></code></strong></pre><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> examines all tables in all
          databases for incompatibilities with the current version of
          MySQL. <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> also upgrades the
          system tables so that you can take advantage of new privileges
          or capabilities.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> should not be used when the
            server is running with
            <a class="link" href="replication.html#option_mysqld_gtid-mode"><code class="option">--gtid-mode=ON</code></a>. See
            <a class="xref" href="replication.html#replication-gtids-restrictions-mysql_upgrade" title="GTID mode and mysql_upgrade">GTID mode and mysql_upgrade</a>
            for more information.
          </p><p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> does not upgrade the
            contents of the help tables. For upgrade instructions, see
            <a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 Server-Side Help">Section 5.1.10, “Server-Side Help”</a>.
</p>
</div>
</li></ol>
</div>
<h4><a name="upgrade-procedure-logical"></a>Performing a Logical Upgrade</h4>
<p>
      This section describes how to perform a
      <a class="link" href="installing.html#upgrade-methods" title="Supported Upgrade Methods">logical upgrade</a>. Review
      <a class="link" href="installing.html#upgrade-before-you-begin" title="Before You Begin">Before you Begin</a>
      before proceeding.
    </p><p>
      To perform a logical upgrade:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review the changes described in
          <a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.1.1 Changes Affecting Upgrades to MySQL 5.7">Section 2.11.1.1, “Changes Affecting Upgrades to MySQL 5.7”</a> for steps to
          be performed before upgrading.
        </p></li><li class="listitem"><p>
          Export your existing data from the previous MySQL version:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --add-drop-table --routines --events</code></strong>
    -&gt; <strong class="userinput"><code>--all-databases --force &gt; data-for-upgrade.sql</code></strong>
</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Use the <a class="link" href="programs.html#option_mysqldump_routines"><code class="option">--routines</code></a> and
            <a class="link" href="programs.html#option_mysqldump_events"><code class="option">--events</code></a> options with
            <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> (as shown above) if your
            databases include stored programs. The
            <a class="link" href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option
            includes all databases in the dump, including the
            <code class="literal">mysql</code> database that holds the system
            tables.
</p>
</div>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p>
            If you have tables that contain generated columns, use the
            <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> utility provided with MySQL
            5.7.9 or higher to create your dump files. The
            <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> utility provided in earlier
            releases uses incorrect syntax for generated column
            definitions (Bug #20769542). You can use the
            <a class="link" href="information-schema.html#columns-table" title="21.4 The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a>
            table to identify tables with generated columns.
</p>
</div>
</li><li class="listitem"><p>
          Shut down the old MySQL server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong></pre></li><li class="listitem"><p>
          Install MySQL 5.7. For installation instructions,
          see <a class="xref" href="installing.html" title="Chapter 2 Installing and Upgrading MySQL">Chapter 2, <i>Installing and Upgrading MySQL</i></a>.
        </p></li><li class="listitem"><p>
          Initialize a new data directory:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqld --initialize --datadir=<em class="replaceable"><code>/path/to/5.7-datadir</code></em></code></strong>
</pre><p>
          Copy the temporary <code class="literal">'root'@'localhost'</code>
          password printed to your screen or written to your error log
          for later use.
        </p></li><li class="listitem"><p>
          Start the MySQL 5.7 server, using the new data
          directory. For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/5.7-datadir</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Reset the <code class="literal">root</code> password:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <strong class="userinput"><code>****</code></strong>  &lt;- enter temporary root password
mysql&gt; <strong class="userinput"><code>ALTER USER USER() IDENTIFIED BY '<em class="replaceable"><code>your new password</code></em>';</code></strong>
</pre></li><li class="listitem"><p>
          Load the previously created dump file into the new MySQL
          server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="source data-for-upgrade.sql" --force</code></strong></pre></li><li class="listitem"><p>
          Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql_upgrade -u root -p <em class="replaceable"><code>password</code></em></code></strong></pre><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> examines all tables in all
          databases for incompatibilities with the current version of
          MySQL. <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> also upgrades the
          system tables so that you can take advantage of new privileges
          or capabilities.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> should not be used when the
            server is running with
            <a class="link" href="replication.html#option_mysqld_gtid-mode"><code class="option">--gtid-mode=ON</code></a>. See
            <a class="xref" href="replication.html#replication-gtids-restrictions-mysql_upgrade" title="GTID mode and mysql_upgrade">GTID mode and mysql_upgrade</a>
            for more information.
          </p><p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> does not upgrade the
            contents of the help tables. For upgrade instructions, see
            <a class="xref" href="server-administration.html#server-side-help-support" title="5.1.10 Server-Side Help">Section 5.1.10, “Server-Side Help”</a>.
</p>
</div>
</li><li class="listitem"><p>
          Configure MySQL to perform a slow shutdown by setting
          <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to
          <code class="literal">0</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="set global innodb_fast_shutdown=0"</code></strong></pre></li><li class="listitem"><p>
          Shut down and restart the MySQL server to ensure a clean
          shutdown and startup. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/5.7-datadir</code></em></code></strong>
</pre></li></ol>
</div>
<h4><a name="upgrade-troubleshooting"></a>Upgrade Troubleshooting</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          If problems occur, such as that the new
          <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server does not start or that you
          cannot connect without a password, verify that you do not have
          an old <code class="filename">my.cnf</code> file from your previous
          installation. You can check this with the
          <a class="link" href="programs.html#option_general_print-defaults"><code class="option">--print-defaults</code></a> option (for
          example, <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld --print-defaults</strong></span></a>). If this
          command displays anything other than the program name, you
          have an active <code class="filename">my.cnf</code> file that affects
          server or client operation.
        </p></li><li class="listitem"><p>
          If, after an upgrade, you experience problems with compiled
          client programs, such as <code class="literal">Commands out of
          sync</code> or unexpected core dumps, you probably have
          used old header or library files when compiling your programs.
          In this case, check the date for your
          <code class="filename">mysql.h</code> file and
          <code class="filename">libmysqlclient.a</code> library to verify that
          they are from the new MySQL distribution. If not, recompile
          your programs with the new headers and libraries.
          Recompilation might also be necessary for programs compiled
          against the shared client library if the library major version
          number has changed (for example from
          <code class="filename">libmysqlclient.so.15</code> to
          <code class="filename">libmysqlclient.so.16</code>.
        </p></li><li class="listitem"><p>
          If you have created a user-defined function (UDF) with a given
          name and upgrade MySQL to a version that implements a new
          built-in function with the same name, the UDF becomes
          inaccessible. To correct this, use <a class="link" href="sql-syntax.html#drop-function" title="13.1.24 DROP FUNCTION Syntax"><code class="literal">DROP
          FUNCTION</code></a> to drop the UDF, and then use
          <a class="link" href="sql-syntax.html#create-function" title="13.1.13 CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> to re-create
          the UDF with a different nonconflicting name. The same is true
          if the new version of MySQL implements a built-in function
          with the same name as an existing stored function. See
          <a class="xref" href="language-structure.html#function-resolution" title="9.2.4 Function Name Parsing and Resolution">Section 9.2.4, “Function Name Parsing and Resolution”</a>, for the rules
          describing how the server interprets references to different
          kinds of functions.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="upgrading-from-previous-series"></a>2.11.1.1 Changes Affecting Upgrades to MySQL 5.7</h4>

</div>

</div>

</div>
<p>
        Before upgrading to MySQL 5.7, review the changes
        described in this section to identify upgrade issues that apply
        to your current MySQL installation and applications.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
          In addition to the changes outlined in this section, review
          the
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top">Release
          Notes</a> and other important information outlined in
          <a class="xref" href="installing.html#upgrade-before-you-begin" title="Before You Begin">Before You Begin</a>.
</p>
</div>
<p>
        Changes marked as either <span class="bold"><strong>Known
        issue</strong></span> or <span class="bold"><strong>Incompatible
        change</strong></span> are incompatibilities with earlier versions of
        MySQL, and may require your attention <span class="emphasis"><em>before you
        upgrade</em></span>. Our aim is to avoid these changes, but
        occasionally they are necessary to correct problems that would
        be worse than an incompatibility between releases. If any
        upgrade issue applicable to your installation involves an
        incompatibility that requires special handling, follow the
        instructions given in the incompatibility description. Sometimes
        this involves dumping and reloading tables, or use of a
        statement such as <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> or
        <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
      </p><p>
        For dump and reload instructions, see
        <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>. Any procedure that involves
        <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> with the
        <code class="literal">USE_FRM</code> option <span class="emphasis"><em>must</em></span> be
        done before upgrading. Use of this statement with a version of
        MySQL different from the one used to create the table (that is,
        using it after upgrading) may damage the table. See
        <a class="xref" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax">Section 13.7.2.5, “REPAIR TABLE Syntax”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="installing.html#upgrade-configuration-changes" title="Configuration Changes">Configuration
            Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#upgrade-system-table-changes" title="System Table Changes">System Table
            Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#upgrade-server-changes" title="Server Changes">Server Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#upgrade-innodb-changes" title="InnoDB Changes">InnoDB Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#upgrade-sql-changes" title="SQL Changes">SQL Changes</a>
</p></li></ul>
</div>
<h5><a name="upgrade-configuration-changes"></a>Configuration Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.7.12, the default
            <a class="link" href="server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a> value is
            empty. To load the <code class="literal">keyring_file</code> plugin,
            you must use an explicit
            <a class="link" href="server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a> option
            with a nonempty value.
          </p><p>
            In MySQL 5.7.11, the default
            <a class="link" href="server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a> value was
            the name of the <code class="literal">keyring_file</code> plugin
            library file, so that plugin was loaded by default.
            <code class="literal">InnoDB</code> tablespace encryption requires the
            <code class="literal">keyring_file</code> plugin to be loaded prior to
            <code class="literal">InnoDB</code> initialization, so this change of
            default value introduces an incompatibility for upgrades
            from 5.7.11 to 5.7.12 or higher. Administrators who have
            encrypted <code class="literal">InnoDB</code> tablespaces must take
            explicit action to ensure continued loading of the
            <code class="literal">keyring_file</code> plugin: Start the server
            with an <a class="link" href="server-administration.html#option_mysqld_early-plugin-load"><code class="option">--early-plugin-load</code></a>
            option that names the plugin library file. For additional
            information, see <a class="xref" href="security.html#keyring" title="6.4.3 The MySQL Keyring">Section 6.4.3, “The MySQL Keyring”</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: The
            <code class="literal">INFORMATION_SCHEMA</code> has tables that
            contain system and status variable information (see
            <a class="xref" href="information-schema.html#variables-table" title="21.10 The INFORMATION_SCHEMA GLOBAL_VARIABLES and SESSION_VARIABLES Tables">Section 21.10, “The INFORMATION_SCHEMA GLOBAL_VARIABLES and SESSION_VARIABLES Tables”</a>, and
            <a class="xref" href="information-schema.html#status-table" title="21.9 The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables">Section 21.9, “The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables”</a>). As of MySQL 5.7.6, the
            Performance Schema also contains system and status variable
            tables (see
            <a class="xref" href="performance-schema.html#performance-schema-system-variable-tables" title="22.9.12 Performance Schema System Variable Tables">Section 22.9.12, “Performance Schema System Variable Tables”</a>,
            and
            <a class="xref" href="performance-schema.html#performance-schema-status-variable-tables" title="22.9.13 Performance Schema Status Variable Tables">Section 22.9.13, “Performance Schema Status Variable Tables”</a>).
            The Performance Schema tables are intended to replace the
            <code class="literal">INFORMATION_SCHEMA</code> tables, which are
            deprecated as of MySQL 5.7.6 and will be removed in a future
            MySQL release.
          </p><p>
            For advice on migrating away from the
            <code class="literal">INFORMATION_SCHEMA</code> tables to the
            Performance Schema tables, see
            <a class="xref" href="performance-schema.html#performance-schema-variable-table-migration" title="22.17 Migrating to Performance Schema System and Status Variable Tables">Section 22.17, “Migrating to Performance Schema System and Status Variable Tables”</a>.
            To assist in the migration, you can use the
            <a class="link" href="server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a>
            system variable, which affects how system and status
            variable information is provided by the
            <code class="literal">INFORMATION_SCHEMA</code> and Performance Schema
            tables, and also by the <a class="link" href="sql-syntax.html#show-variables" title="13.7.5.39 SHOW VARIABLES Syntax"><code class="literal">SHOW
            VARIABLES</code></a> and <a class="link" href="sql-syntax.html#show-status" title="13.7.5.35 SHOW STATUS Syntax"><code class="literal">SHOW
            STATUS</code></a> statements.
            <a class="link" href="server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a> is
            enabled by default in 5.7.6 and 5.7.7, and disabled by
            default in MySQL 5.7.8.
          </p><p>
            For details about the effects of
            <a class="link" href="server-administration.html#sysvar_show_compatibility_56"><code class="literal">show_compatibility_56</code></a>, see
            <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4 Server System Variables">Section 5.1.4, “Server System Variables”</a> For better
            understanding, it is strongly recommended that you read also
            these sections:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="xref" href="performance-schema.html#performance-schema-system-variable-tables" title="22.9.12 Performance Schema System Variable Tables">Section 22.9.12, “Performance Schema System Variable Tables”</a>
              </p></li><li class="listitem"><p>
                <a class="xref" href="performance-schema.html#performance-schema-status-variable-tables" title="22.9.13 Performance Schema Status Variable Tables">Section 22.9.13, “Performance Schema Status Variable Tables”</a>
              </p></li><li class="listitem"><p>
                <a class="xref" href="performance-schema.html#performance-schema-status-variable-summary-tables" title="22.9.14.11 Performance Schema Status Variable Summary Tables">Section 22.9.14.11, “Performance Schema Status Variable Summary Tables”</a>
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.7.6, for Linux systems on which MySQL is installed
            using RPM packages, server startup and shutdown now is
            managed using systemd rather than
            <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a>, and
            <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> is no longer installed. This
            may require some adjustment to the manner in which you
            specify server options. For details, see
            <a class="xref" href="installing.html#server-management-using-systemd" title="2.5.10 Managing MySQL Server with systemd">Section 2.5.10, “Managing MySQL Server with systemd”</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.7.5, the executable binary version of
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is located in the
            <code class="filename">bin</code> installation directory, whereas the
            Perl version is located in the <code class="filename">scripts</code>
            installation directory. For upgrades from an older version
            of MySQL, you may find a version in both directories. To
            avoid confusion, remove the version in the
            <code class="filename">scripts</code> directory. Applications that
            expect to find <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> in the
            <code class="filename">scripts</code> directory should be updated to
            look in the <code class="filename">bin</code> directory instead.
          </p><p>
            The location of <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> becomes
            less material as of MySQL 5.7.6 because as of that version
            it is deprecated in favor of <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld
            --initialize</strong></span></a> (or <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld
            --initialize-insecure</strong></span></a>). See
            <a class="xref" href="installing.html#data-directory-initialization-mysqld" title="2.10.1.1 Initializing the Data Directory Manually Using mysqld">Section 2.10.1.1, “Initializing the Data Directory Manually Using mysqld”</a>
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.7.5, these SQL mode changes were made:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Strict SQL mode for transactional storage engines
                (<a class="link" href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a>)
                is now enabled by default.
              </p></li><li class="listitem"><p>
                Implementation of the
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
                mode has been made more sophisticated, to no longer
                reject deterministic queries that previously were
                rejected. In consequence,
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
                now enabled by default, to prohibit nondeterministic
                queries containing expressions not guaranteed to be
                uniquely determined within a group.
              </p></li><li class="listitem"><p>
                The changes to the default SQL mode result in a default
                <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> system
                variable value with these modes enabled:
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>,
                <a class="link" href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a>,
                <a class="link" href="server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a>.
              </p></li><li class="listitem"><p>
                The <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
                mode is also now included in the modes comprised by the
                <a class="link" href="server-administration.html#sqlmode_ansi"><code class="literal">ANSI</code></a> SQL mode.
</p></li></ul>
</div>
<p>
            If you find that having
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled
            causes queries for existing applications to be rejected,
            either of these actions should restore operation:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                If it is possible to modify an offending query, do so,
                either so that nondeterministic nonaggregated columns
                are functionally dependent on <code class="literal">GROUP
                BY</code> columns, or by referring to nonaggregated
                columns using
                <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a>.
              </p></li><li class="listitem"><p>
                If it is not possible to modify an offending query (for
                example, if it is generated by a third-party
                application), set the <code class="literal">sql_mode</code> system
                variable at server startup to not enable
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>.
</p></li></ul>
</div>
<p>
            For more information about SQL modes and <code class="literal">GROUP
            BY</code> queries, see <a class="xref" href="server-administration.html#sql-mode" title="5.1.7 Server SQL Modes">Section 5.1.7, “Server SQL Modes”</a>, and
            <a class="xref" href="functions.html#group-by-handling" title="12.20.3 MySQL Handling of GROUP BY">Section 12.20.3, “MySQL Handling of GROUP BY”</a>.
</p></li></ul>
</div>
<h5><a name="upgrade-system-table-changes"></a>System Table Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: The
            <code class="literal">Password</code> column of the
            <code class="literal">mysql.user</code> table was removed in MySQL
            5.7.6. All credentials are stored in the
            <code class="literal">authentication_string</code> column, including
            those formerly stored in the <code class="literal">Password</code>
            column. If performing an in-place upgrade to MySQL 5.7.6 or
            later, run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> as directed by
            the <a class="link" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">in-place
            upgrade procedure</a> to migrate the
            <code class="literal">Password</code> column contents to the
            <code class="literal">authentication_string</code> column.
          </p><p>
            If performing a
            <a class="link" href="installing.html#upgrade-procedure-logical" title="Performing a Logical Upgrade">logical
            upgrade</a> using a <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> dump
            file from a pre-5.7.6 MySQL installation, you must observe
            these conditions for the <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>
            command used to generate the dump file:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                You must include the
                <a class="link" href="programs.html#option_mysqldump_add-drop-table"><code class="option">--add-drop-table</code></a>
                option
              </p></li><li class="listitem"><p>
                You must not include the
                <a class="link" href="programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a>
                option
</p></li></ul>
</div>
<p>
            As outlined in the
            <a class="link" href="installing.html#upgrade-procedure-logical" title="Performing a Logical Upgrade">logical upgrade
            procedure</a>, load the pre-5.7.6 dump file into the
            5.7.6 (or later) server before running
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>.
</p></li></ul>
</div>
<h5><a name="upgrade-server-changes"></a>Server Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.7.5, support for passwords that use the older
            pre-4.1 password hashing format is removed, which involves
            the following changes. Applications that use any feature no
            longer supported must be modified.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                The <code class="literal">mysql_old_password</code> authentication
                plugin is removed. Accounts that use this plugin are
                disabled at startup and the server writes an
                <span class="quote">“<span class="quote">unknown plugin</span>”</span> message to the error log.
                For instructions on upgrading accounts that use this
                plugin, see <a class="xref" href="security.html#account-upgrades" title="6.4.1.3 Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password Plugin">Section 6.4.1.3, “Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password
        Plugin”</a>.
              </p></li><li class="listitem"><p>
                The <code class="option">--secure-auth</code> option to the server
                and client programs is the default, but is now a no-op.
                It is deprecated and will be removed in a future MySQL
                release.
              </p></li><li class="listitem"><p>
                The <code class="option">--skip-secure-auth</code> option to the
                server and client programs is no longer supported and
                using it produces an error.
              </p></li><li class="listitem"><p>
                The <a class="link" href="server-administration.html#sysvar_secure_auth"><code class="literal">secure_auth</code></a> system
                variable permits only a value of 1; a value of 0 is no
                longer permitted.
              </p></li><li class="listitem"><p>
                For the <a class="link" href="server-administration.html#sysvar_old_passwords"><code class="literal">old_passwords</code></a>
                system variable, a value of 1 (produce pre-4.1 hashes)
                is no longer permitted.
              </p></li><li class="listitem"><p>
                The <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a>
                function is removed.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: In
            MySQL 5.6.6, the <a class="link" href="data-types.html#year" title="11.3.3 The YEAR Type"><code class="literal">YEAR(2)</code></a> data
            type was deprecated. In MySQL 5.7.5, support for
            <a class="link" href="data-types.html#year" title="11.3.3 The YEAR Type"><code class="literal">YEAR(2)</code></a> is removed. Once you
            upgrade to MySQL 5.7.5 or newer, any remaining
            <a class="link" href="data-types.html#year" title="11.3.3 The YEAR Type"><code class="literal">YEAR(2)</code></a> columns must be
            converted to <a class="link" href="data-types.html#year" title="11.3.3 The YEAR Type"><code class="literal">YEAR(4)</code></a> to
            become usable again. For conversion strategies, see
            <a class="xref" href="data-types.html#migrating-to-year4" title="11.3.4 YEAR(2) Limitations and Migrating to YEAR(4)">Section 11.3.4, “YEAR(2) Limitations and Migrating to YEAR(4)”</a>. Running
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> after upgrading is one of
            the possible conversion strategies.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.7.2, the server requires account rows in the
            <code class="literal">mysql.user</code> table to have a nonempty
            <code class="literal">plugin</code> column value and disables accounts
            with an empty value. This requires that you upgrade your
            <code class="literal">mysql.user</code> table to fill in all
            <code class="literal">plugin</code> values. As of MySQL 5.7.6, use
            this procedure:
          </p><p>
            If you plan to upgrade using the data directory from your
            existing MySQL installation:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Stop the old (MySQL 5.6) server
              </p></li><li class="listitem"><p>
                Upgrade the MySQL binaries in place by replacing the old
                binaries with the new ones
              </p></li><li class="listitem"><p>
                Start the MySQL 5.7 server normally (no special options)
              </p></li><li class="listitem"><p>
                Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to upgrade the
                system tables
              </p></li><li class="listitem"><p>
                Restart the MySQL 5.7 server
</p></li></ol>
</div>
<p>
            If you plan to upgrade by reloading a dump file generated
            from your existing MySQL installation:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                To generate the dump file, run
                <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> with the
                <a class="link" href="programs.html#option_mysqldump_add-drop-table"><code class="option">--add-drop-table</code></a>
                option and without the
                <a class="link" href="programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a>
                option
              </p></li><li class="listitem"><p>
                Stop the old (MySQL 5.6) server
              </p></li><li class="listitem"><p>
                Upgrade the MySQL binaries in place (replace the old
                binaries with the new ones)
              </p></li><li class="listitem"><p>
                Start the MySQL 5.7 server normally (no special options)
              </p></li><li class="listitem"><p>
                Reload the dump file (<a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql &lt;
                <em class="replaceable"><code>dump_file</code></em></strong></span></a>)
              </p></li><li class="listitem"><p>
                Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to upgrade the
                system tables
              </p></li><li class="listitem"><p>
                Restart the MySQL 5.7 server
</p></li></ol>
</div>
<p>
            Before MySQL 5.7.6, the procedure is more involved:
          </p><p>
            If you plan to upgrade using the data directory from your
            existing MySQL installation:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Stop the old (MySQL 5.6) server
              </p></li><li class="listitem"><p>
                Upgrade the MySQL binaries in place (replace the old
                binaries with the new ones)
              </p></li><li class="listitem"><p>
                Restart the server with the
                <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
                option to disable privilege checking
              </p></li><li class="listitem"><p>
                Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to upgrade the
                system tables
              </p></li><li class="listitem"><p>
                Restart the server normally (without
                <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>)
</p></li></ol>
</div>
<p>
            If you plan to upgrade by reloading a dump file generated
            from your existing MySQL installation:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                To generate the dump file, run
                <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> without the
                <a class="link" href="programs.html#option_mysqldump_flush-privileges"><code class="option">--flush-privileges</code></a>
                option
              </p></li><li class="listitem"><p>
                Stop the old (MySQL 5.6) server
              </p></li><li class="listitem"><p>
                Upgrade the MySQL binaries in place (replace the old
                binaries with the new ones)
              </p></li><li class="listitem"><p>
                Restart the server with the
                <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
                option to disable privilege checking
              </p></li><li class="listitem"><p>
                Reload the dump file (<a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql &lt;
                <em class="replaceable"><code>dump_file</code></em></strong></span></a>)
              </p></li><li class="listitem"><p>
                Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to upgrade the
                system tables
              </p></li><li class="listitem"><p>
                Restart the server normally (without
                <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>)
</p></li></ol>
</div>
<p>
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> runs by default as the
            MySQL <code class="literal">root</code> user. For the preceding
            procedures, if the <code class="literal">root</code> password is
            expired when you run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>, you
            will see a message that your password is expired and that
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> failed as a result. To
            correct this, reset the <code class="literal">root</code> password to
            unexpire it and run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> again:
          </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <strong class="userinput"><code>****</code></strong>  &lt;- enter root password here
mysql&gt; <strong class="userinput"><code>ALTER USER USER() IDENTIFIED BY 'root-password';</code></strong> # MySQL 5.7.6 and up
mysql&gt; <strong class="userinput"><code>SET PASSWORD = PASSWORD('root-password');</code></strong>        # Before MySQL 5.7.6
mysql&gt; <strong class="userinput"><code>quit</code></strong>

shell&gt; <strong class="userinput"><code>mysql_upgrade -p</code></strong>
Enter password: <strong class="userinput"><code>****</code></strong>  &lt;- enter root password here
</pre><p>
            The password-resetting statement normally does not work if
            the server is started with
            <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>, but the
            first invocation of <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> flushes
            the privileges, so when you run <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>,
            the statement is accepted.
          </p><p>
            If <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> itself expires the
            <code class="literal">root</code> password, you will need to reset it
            password again in the same manner.
          </p><p>
            After following the preceding instructions, DBAs are advised
            also to convert accounts that use the
            <code class="literal">mysql_old_password</code> authentication plugin
            to use <code class="literal">mysql_native_password</code> instead,
            because support for <code class="literal">mysql_old_password</code>
            has been removed. For account upgrade instructions, see
            <a class="xref" href="security.html#account-upgrades" title="6.4.1.3 Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password Plugin">Section 6.4.1.3, “Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password
        Plugin”</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: It is
            possible for a column <code class="literal">DEFAULT</code> value to be
            valid for the <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>
            value at table-creation time but invalid for the
            <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value when rows
            are inserted or updated. Example:
          </p><pre class="programlisting">
SET sql_mode = '';
CREATE TABLE t (d DATE DEFAULT 0);
SET sql_mode = 'NO_ZERO_DATE,STRICT_ALL_TABLES';
INSERT INTO t (d) VALUES(DEFAULT);
</pre><p>
            In this case, 0 should be accepted for the
            <a class="link" href="sql-syntax.html#create-table" title="13.1.18 CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> but rejected for
            the <a class="link" href="sql-syntax.html#insert" title="13.2.5 INSERT Syntax"><code class="literal">INSERT</code></a>. However,
            previously the server did not evaluate
            <code class="literal">DEFAULT</code> values used for inserts or
            updates against the current <code class="literal">sql_mode</code>. In
            the example, the <a class="link" href="sql-syntax.html#insert" title="13.2.5 INSERT Syntax"><code class="literal">INSERT</code></a>
            succeeds and inserts <code class="literal">'0000-00-00'</code> into
            the <a class="link" href="data-types.html#datetime" title="11.3.1 The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> column.
          </p><p>
            As of MySQL 5.7.2, the server applies the proper
            <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> checks to generate
            a warning or error at insert or update time.
          </p><p>
            A resulting incompatibility for replication if you use
            statement-based logging
            (<a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format=STATEMENT</code></a>)
            is that if a slave is upgraded, a nonupgraded master will
            execute the preceding example without error, whereas the
            <a class="link" href="sql-syntax.html#insert" title="13.2.5 INSERT Syntax"><code class="literal">INSERT</code></a> will fail on the slave
            and replication will stop.
          </p><p>
            To deal with this, stop all new statements on the master and
            wait until the slaves catch up. Then upgrade the slaves
            followed by the master. Alternatively, if you cannot stop
            new statements, temporarily change to row-based logging on
            the master
            (<a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format=ROW</code></a>) and
            wait until all slaves have processed all binary logs
            produced up to the point of this change. Then upgrade the
            slaves followed by the master and change the master back to
            statement-based logging.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>:
            Several changes were made to the audit log plugin for better
            compatibility with Oracle Audit Vault. For upgrading
            purpose, the main issue is that the default format of the
            audit log file has changed: Information within
            <code class="literal">&lt;AUDIT_RECORD&gt;</code> elements previously
            written using attributes now is written using subelements.
          </p><p>
            Example of old <code class="literal">&lt;AUDIT_RECORD&gt;</code>
            format:
          </p><pre class="programlisting">
&lt;AUDIT_RECORD
 TIMESTAMP="2013-04-15T15:27:27"
 NAME="Query"
 CONNECTION_ID="3"
 STATUS="0"
 SQLTEXT="SELECT 1"
/&gt;
</pre><p>
            Example of new format:
          </p><pre class="programlisting">
&lt;AUDIT_RECORD&gt;
 &lt;TIMESTAMP&gt;2013-04-15T15:27:27 UTC&lt;/TIMESTAMP&gt;
 &lt;RECORD_ID&gt;3998_2013-04-15T15:27:27&lt;/RECORD_ID&gt;
 &lt;NAME&gt;Query&lt;/NAME&gt;
 &lt;CONNECTION_ID&gt;3&lt;/CONNECTION_ID&gt;
 &lt;STATUS&gt;0&lt;/STATUS&gt;
 &lt;STATUS_CODE&gt;0&lt;/STATUS_CODE&gt;
 &lt;USER&gt;root[root] @ localhost [127.0.0.1]&lt;/USER&gt;
 &lt;OS_LOGIN&gt;&lt;/OS_LOGIN&gt;
 &lt;HOST&gt;localhost&lt;/HOST&gt;
 &lt;IP&gt;127.0.0.1&lt;/IP&gt;
 &lt;COMMAND_CLASS&gt;select&lt;/COMMAND_CLASS&gt;
 &lt;SQLTEXT&gt;SELECT 1&lt;/SQLTEXT&gt;
&lt;/AUDIT_RECORD&gt;
</pre><p>
            If you previously used an older version of the audit log
            plugin, use this procedure to avoid writing new-format log
            entries to an existing log file that contains old-format
            entries:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Stop the server.
              </p></li><li class="listitem"><p>
                Rename the current audit log file manually. This file
                will contain only old-format log entries.
              </p></li><li class="listitem"><p>
                Update the server and restart it. The audit log plugin
                will create a new log file, which will contain only
                new-format log entries.
</p></li></ol>
</div>
<p>
            For information about the audit log plugin, see
            <a class="xref" href="security.html#audit-log-plugin" title="6.4.4 MySQL Enterprise Audit Log Plugin">Section 6.4.4, “MySQL Enterprise Audit Log Plugin”</a>.
</p></li></ul>
</div>
<h5><a name="upgrade-innodb-changes"></a>InnoDB Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: To
            simplify <code class="literal">InnoDB</code> tablespace discovery
            during crash recovery, new redo log record types were
            introduced in MySQL 5.7.5. This enhancement changes the redo
            log format. Before performing an in-place upgrade, perform a
            clean shutdown using an
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a>
            setting of <code class="literal">0</code> or <code class="literal">1</code>. A
            slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an In-place Upgrade</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: MySQL
            5.7.8 and 5.7.9 undo logs may contain insufficient
            information about spatial columns, which could result in a
            upgrade failure (Bug #21508582). Before performing an
            in-place upgrade from MySQL 5.7.8 or 5.7.9 to 5.7.10 or
            higher, perform a slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> to
            clear the undo logs. A slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an In-place Upgrade</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: MySQL
            5.7.8 undo logs may contain insufficient information about
            virtual columns and virtual column indexes, which could
            result in a upgrade failure (Bug #21869656). Before
            performing an in-place upgrade from MySQL 5.7.8 to MySQL
            5.7.9 or higher, perform a slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> to
            clear the undo logs. A slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an In-place Upgrade</a>.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: As of
            MySQL 5.7.9, the redo log header of the first redo log file
            (<code class="filename">ib_logfile0</code>) includes a format version
            identifier and a text string that identifies the MySQL
            version that created the redo log files. This enhancement
            changes the redo log format, requiring that MySQL be
            shutdown cleanly using an
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a>
            setting of <code class="literal">0</code> or <code class="literal">1</code>
            before performing an in-place upgrade to MySQL 5.7.9 or
            higher. A slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#upgrade-procedure-inplace" title="Performing an In-place Upgrade">Performing an In-place Upgrade</a>.
          </p></li><li class="listitem"><p>
            In MySQL 5.7.9, <code class="literal">DYNAMIC</code> replaces
            <code class="literal">COMPACT</code> as the implicit default row
            format for <code class="literal">InnoDB</code> tables. A new
            configuration option,
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a>,
            specifies the default <code class="literal">InnoDB</code> row format.
            Permitted values include <code class="literal">DYNAMIC</code> (the
            default), <code class="literal">COMPACT</code>, and
            <code class="literal">REDUNDANT</code>.
          </p><p>
            After upgrading to 5.7.9, any new tables that you create
            will use the row format defined by
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a>
            unless you explicitly define a row format
            (<code class="literal">ROW_FORMAT</code>).
          </p><p>
            For existing tables that do not explicitly define a
            <code class="literal">ROW_FORMAT</code> option or that use
            <code class="literal">ROW_FORMAT=DEFAULT</code>, any operation that
            rebuilds a table also silently changes the row format of the
            table to the format defined by
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_default_row_format"><code class="literal">innodb_default_row_format</code></a>.
            Otherwise, existing tables retain their current row format
            setting. For more information, see
            <a class="xref" href="innodb-storage-engine.html#innodb-row-format-specification" title="14.8.2 Specifying the Row Format for a Table">Section 14.8.2, “Specifying the Row Format for a Table”</a>.
</p></li></ul>
</div>
<h5><a name="upgrade-sql-changes"></a>SQL Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>Incompatible change</strong></span>: The
            <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> function was
            reimplemented in MySQL 5.7.5 using the metadata locking
            (MDL) subsystem and its capabilities have been extended:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Previously, <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                permitted acquisition of only one named lock at a time,
                and a second <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                call released any existing lock. Now
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> permits
                acquisition of more than one simultaneous named lock and
                does not release existing locks.
              </p><p>
                Applications that rely on the behavior of
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> releasing any
                previous lock must be modified for the new behavior.
              </p></li><li class="listitem"><p>
                The capability of acquiring multiple locks introduces
                the possibility of deadlock among clients. The MDL
                subsystem detects deadlock and returns an
                <a class="link" href="error-handling.html#error_er_user_lock_deadlock"><code class="literal">ER_USER_LOCK_DEADLOCK</code></a>
                error when this occurs.
              </p></li><li class="listitem"><p>
                The MDL subsystem imposes a limit of 64 characters on
                lock names, so this limit now also applies to named
                locks. Previously, no length limit was enforced.
              </p></li><li class="listitem"><p>
                Locks acquired with
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> now appear in
                the Performance Schema
                <a class="link" href="performance-schema.html#metadata-locks-table" title="22.9.11.1 The metadata_locks Table"><code class="literal">metadata_locks</code></a> table. The
                <code class="literal">OBJECT_TYPE</code> column says <code class="literal">USER
                LEVEL LOCK</code> and the
                <code class="literal">OBJECT_NAME</code> column indicates the lock
                name.
              </p></li><li class="listitem"><p>
                A new function,
                <a class="link" href="functions.html#function_release-all-locks"><code class="literal">RELEASE_ALL_LOCKS()</code></a>
                permits release of all acquired named locks at once.
</p></li></ul>
</div>
<p>
            For more information, see
            <a class="xref" href="functions.html#miscellaneous-functions" title="12.19 Miscellaneous Functions">Section 12.19, “Miscellaneous Functions”</a>.
          </p></li><li class="listitem"><p>
            The optimizer now handles derived tables and views in the
            <code class="literal">FROM</code> clause in consistent fashion to
            better avoid unnecessary materialization and to enable use
            of pushed-down conditions that produce more efficient
            execution plans. However, for statements such as
            <a class="link" href="sql-syntax.html#delete" title="13.2.2 DELETE Syntax"><code class="literal">DELETE</code></a> or
            <a class="link" href="sql-syntax.html#update" title="13.2.11 UPDATE Syntax"><code class="literal">UPDATE</code></a> that modify tables,
            using the merge strategy for a derived table that previously
            was materialized can result in an
            <a class="link" href="error-handling.html#error_er_update_table_used"><code class="literal">ER_UPDATE_TABLE_USED</code></a> error:
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>DELETE FROM t1</code></strong>
    -&gt; <strong class="userinput"><code>WHERE id IN (SELECT id</code></strong>
    -&gt; <strong class="userinput"><code>             FROM (SELECT t1.id</code></strong>
    -&gt; <strong class="userinput"><code>                   FROM t1 INNER JOIN t2 USING (id)</code></strong>
    -&gt; <strong class="userinput"><code>                   WHERE t2.status = 0) AS t);</code></strong>
ERROR 1093 (HY000): You can't specify target table 't1'
for update in FROM clause
</pre><p>
            The error occurs when merging a derived table into the outer
            query block results in a statement that both selects from
            and modifies a table. (Materialization does not cause the
            problem because, in effect, it converts the derived table to
            a separate table.) To avoid this error, disable the
            <code class="literal">derived_merge</code> flag of the
            <a class="link" href="server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a> system
            variable before executing the statement:
          </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>SET optimizer_switch = 'derived_merge=off';</code></strong>
</pre><p>
            The <code class="literal">derived_merge</code> flag controls whether
            the optimizer attempts to merge subqueries and views in the
            <code class="literal">FROM</code> clause into the outer query block,
            assuming that no other rule prevents merging. By default,
            the flag is <code class="literal">on</code> to enable merging. Setting
            the flag to <code class="literal">off</code> prevents merging and
            avoids the error just described. For more information, see
            <a class="xref" href="optimization.html#derived-table-optimization" title="8.2.1.18.3 Optimizing Derived Tables and View References">Section 8.2.1.18.3, “Optimizing Derived Tables and View References”</a>.
          </p></li><li class="listitem"><p>
            Some keywords may be reserved in MySQL 5.7 that
            were not reserved in MySQL 5.6. See
            <a class="xref" href="language-structure.html#keywords" title="9.3 Keywords and Reserved Words">Section 9.3, “Keywords and Reserved Words”</a>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-yum-repo"></a>2.11.1.2 Upgrading MySQL with the MySQL Yum Repository</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212893904"></a><a class="indexterm" name="idm140644212892864"></a><p>
        For supported Yum-based platforms (see
        <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 Installing MySQL on Linux Using the MySQL Yum Repository">Section 2.5.1, “Installing MySQL on Linux Using the MySQL Yum Repository”</a>, for a list), you
        can perform an in-place upgrade for MySQL (that is, replacing
        the old version and then running the new version off the old
        data files) with the MySQL Yum repository.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Notes
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Before performing any update to MySQL, follow carefully
              the instructions in <a class="xref" href="installing.html#upgrading" title="2.11.1 Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>. Among
              other instructions discussed there, it is especially
              important to back up your database before the update.
            </p></li><li class="listitem"><p>
              The following instructions assume you have installed MySQL
              with the MySQL Yum repository or with an RPM package
              directly downloaded from
              <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">MySQL Developer Zone's
              MySQL Download page</a>; if that is not the case,
              following the instructions in
              <a class="xref" href="installing.html#replace-third-party-yum" title="2.5.2 Replacing a Third-Party Distribution of MySQL Using the MySQL Yum Repository">Section 2.5.2, “Replacing a Third-Party Distribution of MySQL Using the MySQL Yum
      Repository”</a>.
</p></li></ul>
</div>

</div>
<p>
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem">
<h5><a name="idm140644212882752"></a>Selecting a Target Series</h5>
<p>
              By default, the MySQL Yum repository updates MySQL to the
              latest version in the release series you have chosen
              during installation (see
              <a class="xref" href="installing.html#yum-repo-select-series" title="Selecting a Release Series">Selecting a Release Series</a> for details),
              which means, for example, a 5.6.x
              installation will NOT be updated to a 5.7.x
              release automatically. To update to another release
              series, you need to first disable the subrepository for
              the series that has been selected (by default, or by
              yourself) and enable the subrepository for your target
              series. To do that, see the general instructions given in
              <a class="xref" href="installing.html#yum-repo-select-series" title="Selecting a Release Series">Selecting a Release Series</a>.
              For upgrading from MySQL 5.6 to
              5.7, perform the <span class="emphasis"><em>reverse</em></span>
              of the steps illustrated in
              <a class="xref" href="installing.html#yum-repo-select-series" title="Selecting a Release Series">Selecting a Release Series</a>, disabling the
              subrepository for the MySQL 5.6 series and
              enabling that for the MySQL 5.7 series.
            </p><p>
              As a general rule, to upgrade from one release series to
              another, go to the next series rather than skipping a
              series. For example, if you are currently running MySQL
              5.6 and wish to upgrade to 5.7, upgrade to
              MySQL 5.6 first before upgrading to
              5.7.

</p>
<div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p>
                  For important information about upgrading from MySQL
                  5.6 to 5.7, see
                  <a class="ulink" href="http://dev.mysql.com/doc/refman/5.7/en/upgrading-from-previous-series.html" target="_top">Upgrading
                  from MySQL 5.6 to
                  5.7</a>.
</p>
</div>
<p>
</p></li><li class="listitem">
<h5><a name="idm140644212875264"></a>Upgrading MySQL</h5>
<p>
              Upgrade MySQL and its components by the following command,
              for platforms that are not dnf-enabled:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update mysql-server</code></strong></pre><p>

              For platforms that are dnf-enabled:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf upgrade mysql-server</code></strong></pre><p>
            </p><p>
              Alternatively, you can update MySQL by telling Yum to
              update everything on your system, which might take
              considerably more time; for platforms that are not
              dnf-enabled:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update</code></strong></pre><p>

              For platforms that are dnf-enabled:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf upgrade</code></strong></pre><p>
</p></li><li class="listitem">
<h5><a name="idm140644212867888"></a>Restarting MySQL</h5>
<p>
              The MySQL server always restarts after an update by Yum.
              Once the server restarts, run
              <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> to check and possibly
              resolve any incompatibilities between the old data and the
              upgraded software. <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> also
              performs other functions; see
              <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a> for details.
</p></li></ol>
</div>
<p>
      </p><p>
        You can also update only a specific component. Use the following
        command to list all the installed packages for the MySQL
        components (for dnf-enabled systems, replace
        <span class="command"><strong>yum</strong></span> in the command with
        <span class="command"><strong>dnf</strong></span>):

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>sudo yum list installed | grep "^mysql"</code></strong>
</pre><p>

        After identifying the package name of the component of your
        choice, for platforms that are not dnf-enabled, update the
        package with the following command, replacing
        <em class="replaceable"><code>package-name</code></em> with the name of the
        package:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum update <em class="replaceable"><code>package-name</code></em></code></strong></pre><p>

        For dnf-enabled platforms:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf upgrade <em class="replaceable"><code>package-name</code></em></code></strong></pre><p>
</p>
<h5><a name="updating-yum-repo-client-lib"></a>Upgrading the Shared Client Libraries</h5>
<p>
        After updating MySQL using the Yum repository, applications
        compiled with older versions of the shared client libraries
        should continue to work.
      </p><p>
        <span class="emphasis"><em>If you recompile applications and dynamically link
        them with the updated libraries: </em></span> As typical with new
        versions of shared libraries where there are differences or
        additions in symbol versioning between the newer and older
        libraries (for example, between the newer, standard
        5.7 shared client libraries and some
        older—prior or variant—versions of the shared
        libraries shipped natively by the Linux distributions' software
        repositories, or from some other sources), any applications
        compiled using the updated, newer shared libraries will require
        those updated libraries on systems where the applications are
        deployed. And, as expected, if those libraries are not in place,
        the applications requiring the shared libraries will fail. So,
        be sure to deploy the packages for the shared libraries from
        MySQL on those systems. You can do this by adding the MySQL Yum
        repository to the systems (see <a class="xref" href="installing.html#yum-repo-setup" title="Adding the MySQL Yum Repository">Adding the MySQL Yum Repository</a>)
        and install the latest shared libraries using the instructions
        given in <a class="xref" href="installing.html#yum-install-components" title="Installing Additional MySQL Products and Components with Yum">Installing Additional MySQL Products and Components with Yum</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-apt-repo"></a>2.11.1.3 Upgrading MySQL with the MySQL APT Repository</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212849248"></a><a class="indexterm" name="idm140644212848208"></a><p>
        On Debian 7 or 8 and Ubuntu 12, 14, or 15, you can perform an
        in-place upgrade of MySQL and its components with the MySQL APT
        repository. See
        <a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-upgrading" target="_top">Upgrading
        MySQL with the MySQL APT Repository</a> in
        <a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A
        Quick Guide to Using the MySQL APT Repository</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="updating-direct-rpms"></a>2.11.1.4 Upgrading MySQL with Directly-Downloaded RPM Packages</h4>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212843184"></a><p>
        It is preferable to use the
        <a class="link" href="installing.html#updating-yum-repo" title="2.11.1.2 Upgrading MySQL with the MySQL Yum Repository">MySQL Yum repository</a> or
        <a class="ulink" href="http://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL
        SLES Repository</a> to upgrade MySQL on RPM-based platforms.
        However, if you have to upgrade MySQL using the RPM packages
        downloaded directly from the <a class="ulink" href="http://dev.mysql.com/" target="_top">MySQL
        Developer Zone</a> (see
        <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.5 Installing MySQL on Linux Using RPM Packages from Oracle">Section 2.5.5, “Installing MySQL on Linux Using RPM Packages from Oracle”</a> for information on the
        packages), go to the folder that contains all the downloaded
        packages (and, preferably, no other RPM packages with similar
        names), and issue the following command for platforms
        <span class="emphasis"><em>other than</em></span> Red Hat Enterprise Linux/Oracle
        Linux/CentOS 5:
      </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{server,client,common,libs}-* </code></strong> 
</pre><p>
        For Red Hat Enterprise Linux/Oracle Linux/CentOS 5 systems,
        there is an extra package
        (<strong class="userinput"><code>mysql-<em class="replaceable"><code>version</code></em>-el5-<em class="replaceable"><code>arch</code></em>.rpm</code></strong>)
        to be installed; use the following command:

</p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>yum install mysql-community-{server,client,common,libs}-* mysql-5.* </code></strong> 
</pre><p>
      </p><p>
        Replace <span class="command"><strong>yum</strong></span> with <span class="command"><strong>zypper</strong></span>
        for SLES systems, and with <span class="command"><strong>dnf</strong></span> for
        dnf-enabled systems.
      </p><p>
        While it is much preferable to use a high-level package
        management tool like <span class="command"><strong>yum</strong></span> to install the
        packages, users who preferred direct <span class="command"><strong>rpm</strong></span>
        commands can replace the <span class="command"><strong>yum install</strong></span> command
        with the <span class="command"><strong>rpm -Uvh</strong></span> command; however, using
        <span class="command"><strong>rpm -Uvh</strong></span> instead makes the installation
        process more prone to failure, due to potential dependency
        issues the installation process might run into.
      </p><p>
        For an upgrade installation using RPM packages, the MySQL server
        is automatically restarted at the end of the installation if it
        was running when the upgrade installation began. If the server
        was not running when the upgrade installation began, you have to
        restart the server yourself after the upgrade installation is
        completed; do that with, for example, the follow command:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>service mysqld start</code></strong></pre><p>
      </p><p>
        Once the server restarts, run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>
        to check and possibly resolve any incompatibilities between the
        old data and the upgraded software.
        <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> also performs other functions;
        see <a class="xref" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables">Section 4.4.7, “<span class="command"><strong>mysql_upgrade</strong></span> — Check and Upgrade MySQL Tables”</a> for details.

</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            Because of the dependency relationships among the RPM
            packages, all of the installed packages must be of the same
            version. Therefore, always update all your installed
            packages for MySQL. For example, do not just update the
            server without also upgrading the client, the common files
            for server and client libraries, and so on.
</p>
</div>
<p>
      </p><p><b>Migration and Upgrade from installations by older RPM packages. </b>
          Some older versions of MySQL Server RPM packages have names in
          the form of MySQL-* (for example, MySQL-server-* and
          MySQL-client-*). The latest versions of RPMs, when installed
          using the standard package management tool
          (<span class="command"><strong>yum</strong></span>, <span class="command"><strong>dnf</strong></span>, or
          <span class="command"><strong>zypper</strong></span>), seamlessly upgrade those older
          installations, making it unnecessary to uninstall those old
          packages before installing the new ones. Here are some
          differences in behavior between the older and the current RPM
          packages:

</p>
<div class="table">
<a name="idm140644212814992"></a><p class="title"><b>Table 2.13 Differences Between the Previous and the Current RPM Packages for
Installing MySQL</b></p>
<div class="table-contents">
<table summary="Differences Between the Previous and the Current RPM Packages for
              Installing MySQL" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col">Feature</th><th scope="col">Behavior of Previous Packages</th><th scope="col">Behavior of Current Packages</th></tr></thead><tbody><tr><td scope="row">Service starts after installation is finished</td><td>Yes</td><td>No, unless it is an upgrade installation, and the server was running
                    when the upgrade began.</td></tr><tr><td scope="row">Service name</td><td>mysql</td><td><p>
                      For RHEL, Oracle Linux, CentOS, and Fedora:
                      <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
                    </p>



                    <p>
                      For SLES: <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
                    </p></td></tr><tr><td scope="row">Error log file</td><td>At
                    <code class="filename">/var/lib/mysql/<em class="replaceable"><code>hostname</code></em>.err</code></td><td><p>
                      For RHEL, Oracle Linux, CentOS, and Fedora: at
                      <code class="filename">/var/log/mysqld.log</code>
                    </p>



                    <p>
                      For SLES: at
                      <code class="filename">/var/log/mysql/mysqld.log</code>
</p></td></tr><tr><td scope="row">Shipped with the <code class="filename">/etc/my.cnf</code> file</td><td>No</td><td>Yes</td></tr><tr><td scope="row">Multilib support</td><td>No</td><td>Yes</td></tr></tbody></table>
</div>

</div>
<p><br class="table-break">

</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
              Installation of previous versions of MySQL using the older
              packages might have created a configuration file named
              <code class="filename">/usr/my.cnf</code>. It is highly recommended
              that you examine the contents of the file and migrate the
              desired settings inside to the file
              <code class="filename">/etc/my.cnf</code> file, then remove
              <code class="filename">/usr/my.cnf</code>.
</p>
</div>
<p>
        </p><p><b>Upgrading to MySQL Enterprise Server. </b>
          It is not necessary to remove the MySQL Community Server
          before upgrading to the MySQL Enterprise Server. Follow the
          steps given in the <code class="filename">README</code> file included
          with the MySQL Enterprise RPMs.
        </p><p><b>Interoperability with operating system native MySQL packages. </b>
          Many Linux distributions ship MySQL as an integrated part of
          the operating system. The latest versions of RPMs from Oracle,
          when installed using the standard package management tool
          (<span class="command"><strong>yum</strong></span>, <span class="command"><strong>dnf</strong></span>, or
          <span class="command"><strong>zypper</strong></span>), will seamlessly upgrade and
          replace the MySQL version that comes with the operating
          system, and the package manager will automatically replace
          system compatibility packages such as
          <code class="filename">mysql-community-libs-compat</code> with relevant
          new versions.
        </p><p><b>Upgrading from non-native MySQL packages. </b>
          If you have installed MySQL with third-party packages NOT from
          your Linux distribution's native software repository (for
          example, packages directly downloaded from the vendor), you
          will need to uninstall all those packages before you can
          upgrade using the packages from Oracle.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="downgrading"></a>2.11.2 Downgrading MySQL</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#downgrading-to-previous-series">2.11.2.1 Changes Affecting Downgrades from MySQL 5.7</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644212779632"></a><p>
      This section describes how to downgrade to an older MySQL version.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-methods" title="Supported Downgrade Methods">Supported Downgrade
          Methods</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-paths" title="Supported Downgrade Paths">Supported Downgrade
          Paths</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-before-you-begin" title="Before You Begin">Before You
          Begin</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an
          In-place Downgrade</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-procedure-logical" title="Performing a Logical Downgrade">Performing a
          Logical Downgrade</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#downgrade-troubleshooting" title="Downgrade Troubleshooting">Downgrade
          Troubleshooting</a>
</p></li></ul>
</div>
<h4><a name="downgrade-methods"></a>Supported Downgrade Methods</h4>
<p>
      Supported downgrade methods include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>In-place Downgrade</em></span>: Involves shutting
          down the new MySQL version, replacing the new MySQL binaries
          or packages with the old ones, and restarting the old MySQL
          version on the existing data directory. In-place downgrades
          are supported for downgrades between GA versions within the
          same release series. For example, in-place downgrades are
          supported for downgrades from 5.7.10 to
          5.7.9.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Logical Downgrade</em></span>: Involves using
          <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to dump all tables from the new
          MySQL version, and then loading the dump file into the old
          MySQL version. Logical downgrades are supported for downgrades
          between GA versions within the same release series and for
          downgrades between release levels. For example, logical
          downgrades are supported for downgrades from
          5.7.10 to 5.7.9 and for downgrades
          from 5.7 to 5.6.
</p></li></ul>
</div>
<p>
      For procedures, see <a class="xref" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an In-place Downgrade</a>,
      and <a class="xref" href="installing.html#downgrade-procedure-logical" title="Performing a Logical Downgrade">Performing a Logical Downgrade</a>.
</p>
<h4><a name="downgrade-paths"></a>Supported Downgrade Paths</h4>
<p>
      Unless otherwise documented, the following downgrade paths are
      supported:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Downgrading from a release series version to an older release
          series version is supported using all
          <a class="link" href="installing.html#downgrade-methods" title="Supported Downgrade Methods">downgrade methods</a>.
          For example, downgrading from 5.7.10 to
          5.7.9 is supported. Skipping release series
          versions is also supported. For example, downgrading from
          5.7.11 to 5.7.9 is supported.
        </p></li><li class="listitem"><p>
          Downgrading one release level is supported using the
          <span class="emphasis"><em>logical downgrade</em></span> method. For example,
          downgrading from 5.7 to 5.6 is
          supported.
        </p></li><li class="listitem"><p>
          Downgrading more than one release level is supported using the
          <span class="emphasis"><em>logical downgrade</em></span> method, but only if you
          downgrade one release level at a time. For example, you can
          downgrade from 5.7 to 5.6, and then
          to 5.5.
</p></li></ul>
</div>
<p>
      The following conditions apply to all downgrade paths:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Downgrades between General Availability (GA) status releases
          are supported.
        </p></li><li class="listitem"><p>
          Downgrades between milestone releases (or from a GA release to
          a milestone release) are not supported. For example,
          downgrading from MySQL 5.7.9 to MySQL 5.7.8 is not supported,
          as 5.7.8 is not a GA status release.
</p></li></ul>
</div>
<h4><a name="downgrade-before-you-begin"></a>Before You Begin</h4>
<p>
      Before downgrading, the following steps are recommended:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Review the
          <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql/5.7/en/" target="_top">Release
          Notes</a> for the MySQL version you are downgrading from
          to ensure that there are no features or fixes that you really
          need.
        </p></li><li class="listitem"><p>
          Review <a class="xref" href="installing.html#downgrading-to-previous-series" title="2.11.2.1 Changes Affecting Downgrades from MySQL 5.7">Section 2.11.2.1, “Changes Affecting Downgrades from MySQL 5.7”</a>. This
          section describes changes that may require action before or
          after downgrading.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            The downgrade procedures described in the following sections
            assume you are downgrading with data files created or
            modified by the newer MySQL version. However, if you did not
            modify your data after upgrading, downgrading using backups
            taken <span class="emphasis"><em>before</em></span> upgrading to the new MySQL
            version is recommended. Many of the changes described in
            <a class="xref" href="installing.html#downgrading-to-previous-series" title="2.11.2.1 Changes Affecting Downgrades from MySQL 5.7">Section 2.11.2.1, “Changes Affecting Downgrades from MySQL 5.7”</a> that
            require action before or after downgrading are not
            applicable when downgrading using backups taken
            <span class="emphasis"><em>before</em></span> upgrading to the new MySQL
            version.
</p>
</div>
</li><li class="listitem"><p>
          Always back up your current databases and log files before
          downgrading. The backup should include the
          <code class="literal">mysql</code> database, which contains the MySQL
          system tables. See <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 Database Backup Methods">Section 7.2, “Database Backup Methods”</a>.
        </p></li><li class="listitem"><p>
          Use of new features, new configuration options, or new
          configuration option values that are not supported by a
          previous release may cause downgrade errors or failures.
          Before downgrading, it is recommended that you reverse changes
          resulting from the use of new features and remove
          configuration settings that are not supported by the release
          you are downgrading to.
        </p></li><li class="listitem"><p>
          Check <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>, to
          see whether changes to table formats or to character sets or
          collations were made between your current version of MySQL and
          the version to which you are downgrading. If such changes have
          resulted in an incompatibility between MySQL versions,
          downgrade the affected tables using the instructions in
          <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
        </p></li><li class="listitem"><p>
          If you use XA transactions with <code class="literal">InnoDB</code>, run
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          RECOVER</code></a> before downgrading to check for uncommitted
          XA transactions. If results are returned, either commit or
          rollback the XA transactions by issuing an
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          COMMIT</code></a> or
          <a class="link" href="sql-syntax.html#xa-statements" title="13.3.7.1 XA Transaction SQL Syntax"><code class="literal">XA
          ROLLBACK</code></a> statement.
</p></li></ul>
</div>
<h4><a name="downgrade-procedure-inplace"></a>Performing an In-place Downgrade</h4>
<p>
      In-place downgrades are supported for downgrades between GA status
      releases within the same release series. Review
      <a class="link" href="installing.html#downgrade-before-you-begin" title="Before You Begin">Before you Begin</a>
      before proceeding.
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p>
        For a supported downgrade path within the MySQL 5.7
        release series, there must be at least two MySQL
        5.7 GA status versions available.
</p>
</div>
<p>
      To perform an in-place downgrade:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review the changes described in
          <a class="xref" href="installing.html#downgrading-to-previous-series" title="2.11.2.1 Changes Affecting Downgrades from MySQL 5.7">Section 2.11.2.1, “Changes Affecting Downgrades from MySQL 5.7”</a> for steps to
          be performed before downgrading.
        </p></li><li class="listitem"><p>
          Configure MySQL to perform a slow shutdown by setting
          <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to
          <code class="literal">0</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="set global innodb_fast_shutdown=0"</code></strong></pre><p>
          With a slow shutdown, <code class="literal">InnoDB</code> performs a
          full purge and change buffer merge before shutting down, which
          ensures that data files are fully prepared in case of file
          format differences between releases.
        </p></li><li class="listitem"><p>
          Shut down the newer MySQL server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong></pre></li><li class="listitem"><p>
          After the slow shutdown, remove the <code class="literal">InnoDB</code>
          redo log files (the <code class="filename">ib_logfile*</code> files)
          from the <code class="filename">data</code> directory to avoid
          downgrade issues related to redo log file format changes that
          may have occurred between releases.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rm ib_logfile*</code></strong></pre></li><li class="listitem"><p>
          Downgrade the MySQL binaries or packages in-place by replacing
          the newer binaries or packages with the older ones.
        </p></li><li class="listitem"><p>
          Start the older (downgraded) MySQL server, using the existing
          data directory. For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/existing-datadir</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql_upgrade -u root -p <em class="replaceable"><code>password</code></em></code></strong></pre><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> examines all tables in all
          databases for incompatibilities with the current version of
          MySQL, and attempts to repair the tables if problems are
          found.
</p></li></ol>
</div>
<h4><a name="downgrade-procedure-logical"></a>Performing a Logical Downgrade</h4>
<p>
      Logical downgrades are supported for downgrades between releases
      within the same release series and for downgrades to the previous
      release level. Only downgrades between General Availability (GA)
      status releases are supported. Review
      <a class="link" href="installing.html#downgrade-before-you-begin" title="Before You Begin">Before you Begin</a>
      before proceeding.
    </p><p>
      To perform a logical downgrade:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Review the changes described in
          <a class="xref" href="installing.html#downgrading-to-previous-series" title="2.11.2.1 Changes Affecting Downgrades from MySQL 5.7">Section 2.11.2.1, “Changes Affecting Downgrades from MySQL 5.7”</a> for steps to
          be performed before downgrading.
        </p></li><li class="listitem"><p>
          Dump all databases. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqldump --add-drop-table --events -u root -p <em class="replaceable"><code>password</code></em> --all-databases --force &gt; all_5_7_databases_dump.sql</code></strong></pre></li><li class="listitem"><p>
          Shut down the newer MySQL server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong></pre></li><li class="listitem"><p>
          Initialize an older MySQL instance, with a new data directory.
          For example, to initialize a MySQL 5.6 instance, use
          <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a>:
</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong></pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
            <a class="link" href="programs.html#mysql-install-db" title="4.4.2 mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> is deprecated as of
            MySQL 5.7.6 because its functionality has been integrated
            into <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
</p>
</div>
<p>
          To initialize a MySQL 5.7 instance, use
          <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with the
          <a class="link" href="server-administration.html#option_mysqld_initialize"><code class="option">--initialize</code></a> or
          <a class="link" href="server-administration.html#option_mysqld_initialize-insecure"><code class="option">--initialize-insecure</code></a> option.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong></pre></li><li class="listitem"><p>
          Start the older MySQL server, using the new data directory.
          For example:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/new-datadir</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Load the dump file into the older MySQL server. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="source all_5_7_databases_dump.sql" --force</code></strong></pre></li><li class="listitem"><p>
          Run <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql_upgrade -u root -p <em class="replaceable"><code>password</code></em></code></strong></pre><p>
          <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> examines all tables in all
          databases for incompatibilities with the current version of
          MySQL, and attempts to repair the tables if problems are
          found.
        </p></li><li class="listitem"><p>
          Configure MySQL to perform a slow shutdown by setting
          <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a> to
          <code class="literal">0</code>. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -u root -p <em class="replaceable"><code>password</code></em> --execute="set global innodb_fast_shutdown=0"</code></strong></pre></li><li class="listitem"><p>
          Shut down and restart the MySQL server to ensure a clean
          shutdown and startup. For example:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p <em class="replaceable"><code>password</code></em> shutdown</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/new-datadir</code></em></code></strong>
</pre></li></ol>
</div>
<h4><a name="downgrade-troubleshooting"></a>Downgrade Troubleshooting</h4>
<p>
      If you downgrade from one release series to another, there may be
      incompatibilities in table storage formats. In this case, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to dump your tables before
      downgrading. After downgrading, reload the dump file using
      <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> or <a class="link" href="programs.html#mysqlimport" title="4.5.5 mysqlimport — A Data Import Program"><span class="command"><strong>mysqlimport</strong></span></a> to
      re-create your tables. For examples, see
      <a class="xref" href="installing.html#copying-databases" title="2.11.5 Copying MySQL Databases to Another Machine">Section 2.11.5, “Copying MySQL Databases to Another Machine”</a>.
    </p><p>
      A typical symptom of a downward-incompatible table format change
      when you downgrade is that you cannot open tables. In that case,
      use the following procedure:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop the older MySQL server that you are downgrading to.
        </p></li><li class="listitem"><p>
          Restart the newer MySQL server you are downgrading from.
        </p></li><li class="listitem"><p>
          Dump any tables that were inaccessible to the older server by
          using <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a dump file.
        </p></li><li class="listitem"><p>
          Stop the newer MySQL server and restart the older one.
        </p></li><li class="listitem"><p>
          Reload the dump file into the older server. Your tables should
          be accessible.
</p></li></ol>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="downgrading-to-previous-series"></a>2.11.2.1 Changes Affecting Downgrades from MySQL 5.7</h4>

</div>

</div>

</div>
<p>
        Before downgrading from MySQL 5.7, review the
        changes described in this section. Some changes may require
        action before or after downgrading.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="installing.html#downgrade-system-table-changes" title="System Table Changes">System Table
            Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#downgrade-innodb-changes" title="InnoDB Changes">InnoDB
            Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#downgrade-logging-changes" title="Logging Changes">Logging
            Changes</a>
          </p></li><li class="listitem"><p>
            <a class="link" href="installing.html#downgrade-sql-changes" title="SQL Changes">SQL Changes</a>
</p></li></ul>
</div>
<h5><a name="downgrade-system-table-changes"></a>System Table Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The maximum length of MySQL user names was increased from 16
            characters to 32 characters in MySQL 5.7.8. Before
            downgrading to a previous release, ensure that there are no
            user names greater than 16 characters in length, and perform
            the following <code class="literal">mysql</code> system table
            alterations:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.tables_priv MODIFY User char(16) NOT NULL default '';</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.columns_priv MODIFY User char(16) NOT NULL default '';</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.user MODIFY User char(16) NOT NULL default '';</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.db MODIFY User char(16) NOT NULL default '';</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.procs_priv MODIFY User char(16) binary DEFAULT '' NOT NULL;</code></strong></pre></li><li class="listitem"><p>
            The <code class="literal">Password</code> column of the
            <code class="literal">mysql.user</code> table was removed in MySQL
            5.7.6. All credentials are stored in the
            <code class="literal">authentication_string</code> column, including
            those formerly stored in the <code class="literal">Password</code>
            column. To make the <code class="literal">mysql.user</code> table
            compatible with previous releases, perform the following
            alterations before downgrading:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.user ADD Password char(41) character set latin1</code></strong> 
    -&gt; <strong class="userinput"><code>collate latin1_bin NOT NULL default '' AFTER user;</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET password = authentication_string where</code></strong>
    -&gt; <strong class="userinput"><code>LENGTH(authentication_string) = 41 and plugin = 'mysql_native_password';</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET authentication_string = '' where </code></strong> 
    -&gt; <strong class="userinput"><code>LENGTH(authentication_string) = 41 and plugin = 'mysql_native_password';</code></strong></pre></li><li class="listitem"><p>
            The <code class="literal">help_*</code> and
            <code class="literal">time_zone*</code> system tables changed from
            <code class="literal">MyISAM</code> to <code class="literal">InnoDB</code> in
            MySQL 5.7.5. Before downgrading to a previous release,
            change each affected table back to <code class="literal">MyISAM</code>
            by running the following statements:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.help_category ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.help_keyword ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.help_relation ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.help_topic ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.time_zone ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.time_zone_leap_second ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.time_zone_name ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.time_zone_transition  ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.time_zone_transition_type ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong></pre></li><li class="listitem"><p>
            The <code class="literal">plugin</code> and <code class="literal">servers</code>
            system tables changed from <code class="literal">MyISAM</code> to
            <code class="literal">InnoDB</code> in MySQL 5.7.6. Before downgrading
            to a previous release, change each affected table back to
            <code class="literal">MyISAM</code> by running the following
            statements:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.plugin ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.servers ENGINE='MyISAM' STATS_PERSISTENT=DEFAULT;</code></strong></pre></li><li class="listitem"><p>
            The definition of the <code class="literal">plugin</code> column in
            the <code class="literal">mysql.user</code> table differs in MySQL
            5.7. Before downgrading to a MySQL 5.6 server for versions
            5.6.23 and higher, alter the <code class="literal">plugin</code>
            column definition using this statement:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.user MODIFY plugin CHAR(64) COLLATE utf8_bin</code></strong> 
    -&gt; <strong class="userinput"><code>DEFAULT 'mysql_native_password';</code></strong>
</pre><p>
            Before downgrading to a MySQL 5.6.22 server or older, alter
            the <code class="literal">plugin</code> column definition using this
            statement:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE mysql.user MODIFY plugin CHAR(64) COLLATE utf8_bin DEFAULT '';</code></strong></pre></li><li class="listitem"><p>
            As of MySQL 5.7.7, the <code class="literal">sys</code> schema is
            installed by default during data directory installation.
            Before downgrading to a previous version, it is recommended
            that you drop the <code class="literal">sys</code> schema:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>DROP DATABASE sys;</code></strong></pre><p>
            If you are downgrading to a release that includes the
            <code class="literal">sys</code> schema,
            <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a> recreates the
            <code class="literal">sys</code> schema in a compatible form. The
            <code class="literal">sys</code> schema is not included in MySQL 5.6.
</p></li></ul>
</div>
<h5><a name="downgrade-innodb-changes"></a>InnoDB Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            As of MySQL 5.7.5, the <code class="literal">FIL_PAGE_FLUSH_LSN</code>
            field, written to the first page of each
            <code class="literal">InnoDB</code> system tablespace file and to
            <code class="literal">InnoDB</code> undo tablespace files, is only
            written to the first file of the <code class="literal">InnoDB</code>
            system tablespace (page number 0:0). As a result, if you
            have a multiple-file system tablespace and decide to
            downgrade from MySQL 5.7 to MySQL 5.6, you may encounter an
            invalid message on MySQL 5.6 startup stating that
            <span class="errortext">the log sequence numbers
            <em class="replaceable"><code>x</code></em> and
            <em class="replaceable"><code>y</code></em> in ibdata files do not match
            the log sequence number <em class="replaceable"><code>y</code></em> in the
            ib_logfiles</span>. If you encounter this message,
            restart MySQL 5.6. The invalid message should no longer
            appear.
          </p></li><li class="listitem"><p>
            To simplify <code class="literal">InnoDB</code> tablespace discovery
            during crash recovery, new redo log record types were
            introduced in MySQL 5.7.5. This enhancement changes the redo
            log format. Before performing an in-place downgrade from
            MySQL 5.7.5 or later, perform a clean shutdown using an
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown</code></a>
            setting of <code class="literal">0</code> or <code class="literal">1</code>. A
            slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an In-place Downgrade</a>.
          </p></li><li class="listitem"><p>
            MySQL 5.7.8 and 5.7.9 undo logs could contain insufficient
            information about spatial columns (Bug #21508582). Before
            performing an in-place downgrade from MySQL 5.7.10 or higher
            to MySQL 5.7.9 or earlier, perform a slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> to
            clear the undo logs. A slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an In-place Downgrade</a>.
          </p></li><li class="listitem"><p>
            MySQL 5.7.8 undo logs could contain insufficient information
            about virtual columns and virtual column indexes (Bug
            #21869656). Before performing an in-place downgrade from
            MySQL 5.7.9 or later to MySQL 5.7.8 or earlier, perform a
            slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> to
            clear the undo logs. A slow shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> is a
            recommended step in
            <a class="xref" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an In-place Downgrade</a>.
          </p></li><li class="listitem"><p>
            As of MySQL 5.7.9, the redo log header of the first redo log
            file (<code class="filename">ib_logfile0</code>) includes a format
            version identifier and a text string that identifies the
            MySQL version that created the redo log files. This
            enhancement changes the redo log format. To prevent older
            versions of MySQL from starting on redo log files created in
            MySQL 5.7.9 or later, the checksum for redo log checkpoint
            pages was changed. As a result, you must perform a slow
            shutdown of MySQL (using innodb_fast_shutdown=0) and remove
            the redo log files (the <code class="filename">ib_logfile*</code>
            files) before performing an in-place downgrade. A slow
            shutdown using
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_fast_shutdown"><code class="literal">innodb_fast_shutdown=0</code></a> and
            removing the redo log files are recommended steps in
            <a class="xref" href="installing.html#downgrade-procedure-inplace" title="Performing an In-place Downgrade">Performing an In-place Downgrade</a>.
</p></li></ul>
</div>
<h5><a name="downgrade-logging-changes"></a>Logging Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Support for sending the server error log to
            <code class="literal">syslog</code> in MySQL 5.7.5 and up differs from
            older versions. If you use <code class="literal">syslog</code> and
            downgrade to a version older than 5.7.5, you must stop using
            the relevant <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> system variables and
            use the corresponding <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> command
            options instead. Suppose that you use
            <code class="literal">syslog</code> by setting these system variables
            in the <code class="literal">[mysqld]</code> group of an option file:
          </p><pre class="programlisting">
[mysqld]
log_syslog=ON
log_syslog_tag=mytag
</pre><p>
            To downgrade, remove those settings and add option settings
            in the <code class="literal">[mysqld_safe]</code> option file group:
          </p><pre class="programlisting">
[mysqld_safe]
syslog
syslog-tag=mytag
</pre><p>
            <code class="literal">syslog</code>-related system variables that have
            no corresponding <a class="link" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> option
            cannot be used after a downgrade.
</p></li></ul>
</div>
<h5><a name="downgrade-sql-changes"></a>SQL Changes</h5>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            A trigger can have triggers for different combinations of
            trigger event (<a class="link" href="sql-syntax.html#insert" title="13.2.5 INSERT Syntax"><code class="literal">INSERT</code></a>,
            <a class="link" href="sql-syntax.html#update" title="13.2.11 UPDATE Syntax"><code class="literal">UPDATE</code></a>,
            <a class="link" href="sql-syntax.html#delete" title="13.2.2 DELETE Syntax"><code class="literal">DELETE</code></a>) and action time
            (<code class="literal">BEFORE</code>, <code class="literal">AFTER</code>), but
            before MySQL 5.7.2 cannot have multiple triggers that have
            the same trigger event and action time. MySQL 5.7.2 lifts
            this limitation and multiple triggers are permitted. This
            change has implications for downgrades.
          </p><p>
            If you downgrade a server that supports multiple triggers to
            an older version that does not, the downgrade has these
            effects:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                For each table that has triggers, all trigger
                definitions remain in the <code class="filename">.TRG</code> file
                for the table. However, if there are multiple triggers
                with the same trigger event and action time, the server
                executes only one of them when the trigger event occurs.
                For information about <code class="literal">.TRG</code> files, see
                <a class="ulink" href="http://dev.mysql.com/doc/internals/en/sp-storage.html#sp-storage-trigger" target="_top">Table
                Trigger Storage</a>.
              </p></li><li class="listitem"><p>
                If triggers for the table are added or dropped
                subsequent to the downgrade, the server rewrites the
                table's <code class="filename">.TRG</code> file. The rewritten
                file retains only one trigger per combination of trigger
                event and action time; the others are lost.
</p></li></ul>
</div>
<p>
            To avoid these problems, modify your triggers before
            downgrading. For each table that has multiple triggers per
            combination of trigger event and action time, convert each
            such set of triggers to a single trigger as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                For each trigger, create a stored routine that contains
                all the code in the trigger. Values accessed using
                <code class="literal">NEW</code> and <code class="literal">OLD</code> can be
                passed to the routine using parameters. If the trigger
                needs a single result value from the code, you can put
                the code in a stored function and have the function
                return the value. If the trigger needs multiple result
                values from the code, you can put the code in a stored
                procedure and return the values using
                <code class="literal">OUT</code> parameters.
              </p></li><li class="listitem"><p>
                Drop all triggers for the table.
              </p></li><li class="listitem"><p>
                Create one new trigger for the table that invokes the
                stored routines just created. The effect for this
                trigger is thus the same as the multiple triggers it
                replaces.
</p></li></ol>
</div>
</li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="checking-table-incompatibilities"></a>2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt</h3>

</div>

</div>

</div>
<p>
      A binary upgrade or downgrade is one that installs one version of
      MySQL <span class="quote">“<span class="quote">in place</span>”</span> over an existing version, without
      dumping and reloading tables:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop the server for the existing version if it is running.
        </p></li><li class="listitem"><p>
          Install a different version of MySQL. This is an upgrade if
          the new version is higher than the original version, a
          downgrade if the version is lower.
        </p></li><li class="listitem"><p>
          Start the server for the new version.
</p></li></ol>
</div>
<p>
      In many cases, the tables from the previous version of MySQL can
      be used without problem by the new version. However, sometimes
      changes occur that require tables or table indexes to be rebuilt,
      as described in this section. If you have tables that are affected
      by any of the issues described here, rebuild the tables or indexes
      as necessary using the instructions given in
      <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
</p>
<h4><a name="idm140644212514672"></a>Index Incompatibilities</h4>
<p>
      Modifications to the handling of character sets or collations
      might change the character sort order, which causes the ordering
      of entries in any index that uses an affected character set or
      collation to be incorrect. Such changes result in several possible
      problems:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Comparison results that differ from previous results
        </p></li><li class="listitem"><p>
          Inability to find some index values due to misordered index
          entries
        </p></li><li class="listitem"><p>
          Misordered <code class="literal">ORDER BY</code> results
        </p></li><li class="listitem"><p>
          Tables that <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> reports
          as being in need of repair
</p></li></ul>
</div>
<p>
      The solution to these problems is to rebuild any indexes that use
      an affected character set or collation, either by dropping and
      re-creating the indexes, or by dumping and reloading the entire
      table. In some cases, it is possible to alter affected columns to
      use a different collation. For information about rebuilding
      indexes, see <a class="xref" href="installing.html#rebuilding-tables" title="2.11.4 Rebuilding or Repairing Tables or Indexes">Section 2.11.4, “Rebuilding or Repairing Tables or Indexes”</a>.
    </p><p>
      In many cases, you can use
      <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
      UPGRADE</code></a> to identify tables for which index rebuilding is
      required. It will report this message:
    </p><pre class="programlisting">
Table upgrade required.
Please do "REPAIR TABLE `tbl_name`" or dump/reload to fix it!
</pre><p>
      In these cases, you can also use <a class="link" href="programs.html#mysqlcheck" title="4.5.3 mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck
      --check-upgrade</strong></span></a> or <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>,
      which execute <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>. However,
      the use of <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> applies only
      after upgrades, not downgrades. Also, <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> is not applicable to all storage engines. For
      details about which storage engines <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> supports, see <a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax">Section 13.7.2.2, “CHECK TABLE Syntax”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="rebuilding-tables"></a>2.11.4 Rebuilding or Repairing Tables or Indexes</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212493696"></a><a class="indexterm" name="idm140644212492240"></a><a class="indexterm" name="idm140644212490752"></a><p>
      This section describes how to rebuild a table, following changes
      to MySQL such as how data types or character sets are handled. For
      example, an error in a collation might have been corrected,
      requiring a table rebuild to update the indexes for character
      columns that use the collation. (For examples, see
      <a class="xref" href="installing.html#checking-table-incompatibilities" title="2.11.3 Checking Whether Tables or Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Tables or Indexes Must Be Rebuilt”</a>.) You might
      also need to repair or upgrade a table, as indicated by a table
      check operation such as that performed by
      <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>,
      <a class="link" href="programs.html#mysqlcheck" title="4.5.3 mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck</strong></span></a>, or
      <a class="link" href="programs.html#mysql-upgrade" title="4.4.7 mysql_upgrade — Check and Upgrade MySQL Tables"><span class="command"><strong>mysql_upgrade</strong></span></a>.
    </p><p>
      Methods for rebuilding a table include dumping and reloading it,
      or using <a class="link" href="sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>.
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> only applies to
      <code class="literal">MyISAM</code>, <code class="literal">ARCHIVE</code>, and
      <code class="literal">CSV</code> tables.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        If you are rebuilding tables because a different version of
        MySQL will not handle them after a binary (in-place) upgrade or
        downgrade, you must use the dump-and-reload method. Dump the
        tables <span class="emphasis"><em>before</em></span> upgrading or downgrading
        using your original version of MySQL. Then reload the tables
        <span class="emphasis"><em>after</em></span> upgrading or downgrading.
      </p><p>
        If you use the dump-and-reload method of rebuilding tables only
        for the purpose of rebuilding indexes, you can perform the dump
        either before or after upgrading or downgrading. Reloading still
        must be done afterward.
</p>
</div>
<p>
      To rebuild a table by dumping and reloading it, use
      <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a dump file and
      <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> to reload the file:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> t1 &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all the tables in a single database, specify the
      database name without any following table name:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql</code></strong>
</pre><p>
      To rebuild all tables in all databases, use the
      <a class="link" href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --all-databases &gt; dump.sql</code></strong>
shell&gt; <strong class="userinput"><code>mysql &lt; dump.sql</code></strong>
</pre><p>
      To rebuild a table with <a class="link" href="sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE Syntax"><code class="literal">ALTER
      TABLE</code></a>, use a <span class="quote">“<span class="quote">null</span>”</span> alteration; that is, an
      <a class="link" href="sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement that
      <span class="quote">“<span class="quote">changes</span>”</span> the table to use the storage engine that it
      already has. For example, if <code class="literal">t1</code> is an
      <code class="literal">InnoDB</code> table, use this statement:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>ALTER TABLE t1 ENGINE = InnoDB;</code></strong>
</pre><p>
      If you are not sure which storage engine to specify in the
      <a class="link" href="sql-syntax.html#alter-table" title="13.1.8 ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement, use
      <a class="link" href="sql-syntax.html#show-create-table" title="13.7.5.10 SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> to display the
      table definition.
    </p><p>
      If you need to rebuild an <code class="literal">InnoDB</code> table because
      a <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> operation indicates
      that a table upgrade is required, use <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>
      to create a dump file and <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> to reload the
      file, as described earlier. If the <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK
      TABLE</code></a> operation indicates that there is a corruption or
      causes <code class="literal">InnoDB</code> to fail, refer to
      <a class="xref" href="innodb-storage-engine.html#forcing-innodb-recovery" title="14.18.2 Forcing InnoDB Recovery">Section 14.18.2, “Forcing InnoDB Recovery”</a> for information about
      using the <a class="link" href="innodb-storage-engine.html#sysvar_innodb_force_recovery"><code class="literal">innodb_force_recovery</code></a>
      option to restart <code class="literal">InnoDB</code>. To understand the
      type of problem that <a class="link" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>
      may be encountering, refer to the <code class="literal">InnoDB</code> notes
      in <a class="xref" href="sql-syntax.html#check-table" title="13.7.2.2 CHECK TABLE Syntax">Section 13.7.2.2, “CHECK TABLE Syntax”</a>.
    </p><p>
      For <code class="literal">MyISAM</code>, <code class="literal">ARCHIVE</code>, or
      <code class="literal">CSV</code> tables, you can use
      <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> if the table checking
      operation indicates that there is a corruption or that an upgrade
      is required. For example, to repair a <code class="literal">MyISAM</code>
      table, use this statement:
    </p><pre class="programlisting">
mysql&gt; <strong class="userinput"><code>REPAIR TABLE t1;</code></strong>
</pre><p>
      <a class="link" href="programs.html#mysqlcheck" title="4.5.3 mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck --repair</strong></span></a> provides command-line
      access to the <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5 REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>
      statement. This can be a more convenient means of repairing tables
      because you can use the
      <a class="link" href="programs.html#option_mysqlcheck_databases"><code class="option">--databases</code></a> or
      <a class="link" href="programs.html#option_mysqlcheck_all-databases"><code class="option">--all-databases</code></a> option to
      repair all tables in specific databases or all databases,
      respectively:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --databases <em class="replaceable"><code>db_name</code></em> ...</code></strong>
shell&gt; <strong class="userinput"><code>mysqlcheck --repair --all-databases</code></strong>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="copying-databases"></a>2.11.5 Copying MySQL Databases to Another Machine</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212424384"></a><a class="indexterm" name="idm140644212422928"></a><a class="indexterm" name="idm140644212421856"></a><p>
      In cases where you need to transfer databases between different
      architectures, you can use <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create
      a file containing SQL statements. You can then transfer the file
      to the other machine and feed it as input to the
      <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
        You can copy the <code class="filename">.frm</code>,
        <code class="filename">.MYI</code>, and <code class="filename">.MYD</code> files
        for <code class="literal">MyISAM</code> tables between different
        architectures that support the same floating-point format.
        (MySQL takes care of any byte-swapping issues.) See
        <a class="xref" href="storage-engines.html#myisam-storage-engine" title="15.2 The MyISAM Storage Engine">Section 15.2, “The MyISAM Storage Engine”</a>.
</p>
</div>
<p>
      Use <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump --help</strong></span></a> to see what options are
      available.
    </p><p>
      The easiest (although not the fastest) way to move a database
      between two machines is to run the following commands on the
      machine on which the database is located:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin -h '<em class="replaceable"><code>other_hostname</code></em>' create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump <em class="replaceable"><code>db_name</code></em> | mysql -h '<em class="replaceable"><code>other_hostname</code></em>' <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      If you want to copy a database from a remote machine over a slow
      network, you can use these commands:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump -h '<em class="replaceable"><code>other_hostname</code></em>' --compress <em class="replaceable"><code>db_name</code></em> | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      You can also store the dump in a file, transfer the file to the
      target machine, and then load the file into the database there.
      For example, you can dump a database to a compressed file on the
      source machine like this:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqldump --quick <em class="replaceable"><code>db_name</code></em> | gzip &gt; <em class="replaceable"><code>db_name</code></em>.gz</code></strong>
</pre><p>
      Transfer the file containing the database contents to the target
      machine and run these commands there:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em></code></strong>
shell&gt; <strong class="userinput"><code>gunzip &lt; <em class="replaceable"><code>db_name</code></em>.gz | mysql <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><a class="indexterm" name="idm140644212395776"></a><a class="indexterm" name="idm140644212394704"></a><p>
      You can also use <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> and
      <a class="link" href="programs.html#mysqlimport" title="4.5.5 mysqlimport — A Data Import Program"><span class="command"><strong>mysqlimport</strong></span></a> to transfer the database. For large
      tables, this is much faster than simply using
      <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>. In the following commands,
      <em class="replaceable"><code>DUMPDIR</code></em> represents the full path name
      of the directory you use to store the output from
      <a class="link" href="programs.html#mysqldump" title="4.5.4 mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>.
    </p><p>
      First, create the directory for the output files and dump the
      database:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mkdir <em class="replaceable"><code>DUMPDIR</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mysqldump --tab=<em class="replaceable"><code>DUMPDIR</code></em> <em class="replaceable"><code>db_name</code></em></code></strong>
</pre><p>
      Then transfer the files in the <em class="replaceable"><code>DUMPDIR</code></em>
      directory to some corresponding directory on the target machine
      and load the files into MySQL there:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>mysqladmin create <em class="replaceable"><code>db_name</code></em>           # create database</code></strong>
shell&gt; <strong class="userinput"><code>cat <em class="replaceable"><code>DUMPDIR</code></em>/*.sql | mysql <em class="replaceable"><code>db_name</code></em>   # create tables in database</code></strong>
shell&gt; <strong class="userinput"><code>mysqlimport <em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>DUMPDIR</code></em>/*.txt   # load data into tables</code></strong>
</pre><p>
      Do not forget to copy the <code class="literal">mysql</code> database
      because that is where the grant tables are stored. You might have
      to run commands as the MySQL <code class="literal">root</code> user on the
      new machine until you have the <code class="literal">mysql</code> database
      in place.
    </p><p>
      After you import the <code class="literal">mysql</code> database on the new
      machine, execute <a class="link" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin flush-privileges</strong></span></a> so
      that the server reloads the grant table information.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="environment-variables"></a>2.12 Environment Variables</h2>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212371440"></a><a class="indexterm" name="idm140644212369952"></a><a class="indexterm" name="idm140644212368880"></a><p>
    This section lists environment variables that are used directly or
    indirectly by MySQL. Most of these can also be found in other places
    in this manual.
  </p><p>
    Options on the command line take precedence over values specified in
    option files and environment variables, and values in option files
    take precedence over values in environment variables. In many cases,
    it is preferable to use an option file instead of environment
    variables to modify the behavior of MySQL. See
    <a class="xref" href="programs.html#option-files" title="4.2.6 Using Option Files">Section 4.2.6, “Using Option Files”</a>.
</p><a class="indexterm" name="idm140644212365504"></a><a class="indexterm" name="idm140644212364416"></a><a class="indexterm" name="idm140644212362960"></a><a class="indexterm" name="idm140644212361888"></a><a class="indexterm" name="idm140644212360432"></a><a class="indexterm" name="idm140644212359344"></a><a class="indexterm" name="idm140644212357856"></a><a class="indexterm" name="idm140644212356768"></a><a class="indexterm" name="idm140644212355280"></a><a class="indexterm" name="idm140644212354192"></a><a class="indexterm" name="idm140644212352704"></a><a class="indexterm" name="idm140644212351616"></a><a class="indexterm" name="idm140644212350128"></a><a class="indexterm" name="idm140644212349024"></a><a class="indexterm" name="idm140644212347520"></a><a class="indexterm" name="idm140644212346416"></a><a class="indexterm" name="idm140644212344928"></a><a class="indexterm" name="idm140644212343840"></a><a class="indexterm" name="idm140644212342352"></a><a class="indexterm" name="idm140644212341264"></a><a class="indexterm" name="idm140644212339776"></a><a class="indexterm" name="idm140644212338688"></a><a class="indexterm" name="idm140644212337200"></a><a class="indexterm" name="idm140644212336112"></a><a class="indexterm" name="idm140644212334624"></a><a class="indexterm" name="idm140644212333536"></a><a class="indexterm" name="idm140644212332048"></a><a class="indexterm" name="idm140644212330960"></a><a class="indexterm" name="idm140644212329472"></a><a class="indexterm" name="idm140644212328384"></a><a class="indexterm" name="idm140644212326896"></a><a class="indexterm" name="idm140644212325808"></a><a class="indexterm" name="idm140644212324320"></a><a class="indexterm" name="idm140644212323232"></a><a class="indexterm" name="idm140644212321744"></a><a class="indexterm" name="idm140644212320656"></a><a class="indexterm" name="idm140644212319168"></a><a class="indexterm" name="idm140644212318064"></a><a class="indexterm" name="idm140644212316576"></a><a class="indexterm" name="idm140644212315472"></a><a class="indexterm" name="idm140644212313984"></a><a class="indexterm" name="idm140644212312880"></a><a class="indexterm" name="idm140644212311392"></a><a class="indexterm" name="idm140644212310304"></a><a class="indexterm" name="idm140644212308816"></a><a class="indexterm" name="idm140644212307728"></a><a class="indexterm" name="idm140644212306240"></a><a class="indexterm" name="idm140644212305152"></a><a class="indexterm" name="idm140644212303664"></a><a class="indexterm" name="idm140644212302576"></a><a class="indexterm" name="idm140644212301088"></a><a class="indexterm" name="idm140644212300016"></a><a class="indexterm" name="idm140644212298560"></a><a class="indexterm" name="idm140644212297472"></a><a class="indexterm" name="idm140644212295984"></a><a class="indexterm" name="idm140644212294896"></a><a class="indexterm" name="idm140644212293408"></a><a class="indexterm" name="idm140644212292320"></a>
<div class="informaltable">
<table summary="This table describes environment variables that are used
      directly or indirectly by MySQL." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Variable</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row"><code class="literal">CXX</code></td><td>The name of your C++ compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">CC</code></td><td>The name of your C compiler (for running <span class="command"><strong>CMake</strong></span>).</td></tr><tr><td scope="row"><code class="literal">DBI_USER</code></td><td>The default user name for Perl DBI.</td></tr><tr><td scope="row"><code class="literal">DBI_TRACE</code></td><td>Trace options for Perl DBI.</td></tr><tr><td scope="row"><code class="literal">HOME</code></td><td>The default path for the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file is
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td scope="row"><code class="literal">LD_RUN_PATH</code></td><td>Used to specify the location of <code class="filename">libmysqlclient.so</code>.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_ENABLE_CLEARTEXT_PLUGIN</code></td><td>Enable <code class="literal">mysql_clear_password</code> authentication plugin;
            see <a class="xref" href="security.html#cleartext-authentication-plugin" title="6.4.1.8 The Cleartext Client-Side Authentication Plugin">Section 6.4.1.8, “The Cleartext Client-Side Authentication Plugin”</a>.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGIN_DIR</code></td><td>Directory in which to look for client plugins.</td></tr><tr><td scope="row"><code class="literal">LIBMYSQL_PLUGINS</code></td><td>Client plugins to preload.</td></tr><tr><td scope="row"><code class="literal">MYSQL_DEBUG</code></td><td>Debug trace options when debugging.</td></tr><tr><td scope="row"><code class="literal">MYSQL_GROUP_SUFFIX</code></td><td>Option group suffix value (like specifying
            <a class="link" href="programs.html#option_general_defaults-group-suffix"><code class="option">--defaults-group-suffix</code></a>).</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTFILE</code></td><td>The path to the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file. If this variable
            is set, its value overrides the default for
            <code class="filename">$HOME/.mysql_history</code>.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HISTIGNORE</code></td><td>Patterns specifying statements that <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> should not
            log to <code class="filename">$HOME/.mysql_history</code>, or
            <code class="literal">syslog</code> if
            <a class="link" href="programs.html#option_mysql_syslog"><code class="option">--syslog</code></a> is given.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOME</code></td><td>The path to the directory in which the server-specific
            <code class="filename">my.cnf</code> file resides.</td></tr><tr><td scope="row"><code class="literal">MYSQL_HOST</code></td><td>The default host name used by the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line
            client.</td></tr><tr><td scope="row"><code class="literal">MYSQL_PS1</code></td><td>The command prompt to use in the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line
            client.</td></tr><tr><td scope="row"><code class="literal">MYSQL_PWD</code></td><td>The default password when connecting to <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. Using
            this is insecure. See
            <a class="xref" href="security.html#password-security-user" title="6.1.2.1 End-User Guidelines for Password Security">Section 6.1.2.1, “End-User Guidelines for Password Security”</a>.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TCP_PORT</code></td><td>The default TCP/IP port number.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TEST_LOGIN_FILE</code></td><td>The name of the <code class="filename">.mylogin.cnf</code> login path file.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TEST_TRACE_CRASH</code></td><td>Whether the test protocol trace plugin crashes clients. See note
            following table.</td></tr><tr><td scope="row"><code class="literal">MYSQL_TEST_TRACE_DEBUG</code></td><td>Whether the test protocol trace plugin produces output. See note
            following table.</td></tr><tr><td scope="row"><code class="literal">MYSQL_UNIX_PORT</code></td><td>The default Unix socket file name; used for connections to
            <code class="literal">localhost</code>.</td></tr><tr><td scope="row"><code class="literal">PATH</code></td><td>Used by the shell to find MySQL programs.</td></tr><tr><td scope="row"><code class="literal">PKG_CONFIG_PATH</code></td><td>Location of <code class="filename">mysqlclient.pc</code>
            <span class="command"><strong>pkg-config</strong></span> file. See note following
            table.</td></tr><tr><td scope="row"><code class="literal">TMPDIR</code></td><td>The directory in which temporary files are created.</td></tr><tr><td scope="row"><code class="literal">TZ</code></td><td>This should be set to your local time zone. See
            <a class="xref" href="error-handling.html#timezone-problems" title="B.5.3.7 Time Zone Problems">Section B.5.3.7, “Time Zone Problems”</a>.</td></tr><tr><td scope="row"><code class="literal">UMASK</code></td><td>The user-file creation mode when creating files. See note following
            table.</td></tr><tr><td scope="row"><code class="literal">UMASK_DIR</code></td><td>The user-directory creation mode when creating directories. See note
            following table.</td></tr><tr><td scope="row"><code class="literal">USER</code></td><td>The default user name on Windows when connecting to
<a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.</td></tr></tbody></table>
</div>
<p>
    For information about the <a class="link" href="programs.html#mysql" title="4.5.1 mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> history file, see
    <a class="xref" href="programs.html#mysql-logging" title="4.5.1.3 mysql Logging">Section 4.5.1.3, “mysql Logging”</a>.
  </p><p>
    <code class="literal">MYSQL_TEST_LOGIN_FILE</code> is the path name of the
    login path file (the file created by
    <a class="link" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL Configuration Utility"><span class="command"><strong>mysql_config_editor</strong></span></a>). If not set, the default
    value is <code class="filename">%APPDATA%\MySQL\.mylogin.cnf</code> directory
    on Windows and <code class="filename">$HOME/.mylogin.cnf</code> on
    non-Windows systems. See <a class="xref" href="programs.html#mysql-config-editor" title="4.6.6 mysql_config_editor — MySQL Configuration Utility">Section 4.6.6, “<span class="command"><strong>mysql_config_editor</strong></span> — MySQL Configuration Utility”</a>.
  </p><p>
    The <code class="literal">MYSQL_TEST_TRACE_DEBUG</code> and
    <code class="literal">MYSQL_TEST_TRACE_CRASH</code> variables control the test
    protocol trace client plugin, if MySQL is built with that plugin
    enabled. For more information, see
    <a class="xref" href="extending-mysql.html#test-protocol-trace-plugin" title="25.2.4.11.1 Using the Test Protocol Trace Plugin">Section 25.2.4.11.1, “Using the Test Protocol Trace Plugin”</a>.
  </p><p>
    The default <code class="literal">UMASK</code> and
    <code class="literal">UMASK_DIR</code> values are <code class="literal">0640</code> and
    <code class="literal">0750</code>, respectively (<code class="literal">0660</code> and
    <code class="literal">0700</code> prior to MySQL 5.7.6). MySQL assumes that
    the value for <code class="literal">UMASK</code> or
    <code class="literal">UMASK_DIR</code> is in octal if it starts with a zero.
    For example, setting <code class="literal">UMASK=0600</code> is equivalent to
    <code class="literal">UMASK=384</code> because 0600 octal is 384 decimal.
  </p><p>
    The <code class="literal">UMASK</code> and <code class="literal">UMASK_DIR</code>
    variables, despite their names, are used as modes, not masks:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        If <code class="literal">UMASK</code> is set, <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        uses <code class="literal">($UMASK | 0600)</code> as the mode for file
        creation, so that newly created files have a mode in the range
        from 0600 to 0666 (all values octal).
      </p></li><li class="listitem"><p>
        If <code class="literal">UMASK_DIR</code> is set,
        <a class="link" href="programs.html#mysqld" title="4.3.1 mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> uses <code class="literal">($UMASK_DIR |
        0700)</code> as the base mode for directory creation, which
        then is AND-ed with <code class="literal">~(~$UMASK &amp; 0666)</code>, so
        that newly created directories have a mode in the range from
        0700 to 0777 (all values octal). The AND operation may remove
        read and write permissions from the directory mode, but not
        execute permissions.
</p></li></ul>
</div>
<p>
    It may be necessary to set <code class="literal">PKG_CONFIG_PATH</code> if you
    use <span class="command"><strong>pkg-config</strong></span> for building MySQL programs. See
    <a class="xref" href="connectors-apis.html#c-api-building-clients-pkg-config" title="24.8.4.2 Building C API Client Programs Using pkg-config">Section 24.8.4.2, “Building C API Client Programs Using pkg-config”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="perl-support"></a>2.13 Perl Installation Notes</h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Installing Perl on Unix</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Installing ActiveState Perl on Windows</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Problems Using the Perl DBI/DBD Interface</a></span></dt></dl>
</div>
<a class="indexterm" name="idm140644212183984"></a><a class="indexterm" name="idm140644212182496"></a><p>
    The Perl <code class="literal">DBI</code> module provides a generic interface
    for database access. You can write a <code class="literal">DBI</code> script
    that works with many different database engines without change. To
    use <code class="literal">DBI</code>, you must install the
    <code class="literal">DBI</code> module, as well as a DataBase Driver (DBD)
    module for each type of database server you want to access. For
    MySQL, this driver is the <code class="literal">DBD::mysql</code> module.
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p>
      Perl support is not included with MySQL distributions. You can
      obtain the necessary modules from
      <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> for Unix, or by using the
      ActiveState <span class="command"><strong>ppm</strong></span> program on Windows. The
      following sections describe how to do this.
</p>
</div>
<p>
    The <code class="literal">DBI</code>/<code class="literal">DBD</code> interface requires
    Perl 5.6.0, and 5.6.1 or later is preferred. DBI <span class="emphasis"><em>does not
    work</em></span> if you have an older version of Perl. You should use
    <code class="literal">DBD::mysql</code> 4.009 or higher. Although earlier
    versions are available, they do not support the full functionality
    of MySQL 5.7.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-installation"></a>2.13.1 Installing Perl on Unix</h3>
</div>
</div>
</div>
<p>
      MySQL Perl support requires that you have installed MySQL client
      programming support (libraries and header files). Most
      installation methods install the necessary files. If you install
      MySQL from RPM files on Linux, be sure to install the developer
      RPM as well. The client programs are in the client RPM, but client
      programming support is in the developer RPM.
    </p><p>
      The files you need for Perl support can be obtained from the CPAN
      (Comprehensive Perl Archive Network) at
      <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a>.
    </p><p>
      The easiest way to install Perl modules on Unix is to use the
      <code class="literal">CPAN</code> module. For example:
    </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perl -MCPAN -e shell</code></strong>
cpan&gt; <strong class="userinput"><code>install DBI</code></strong>
cpan&gt; <strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p>
      The <code class="literal">DBD::mysql</code> installation runs a number of
      tests. These tests attempt to connect to the local MySQL server
      using the default user name and password. (The default user name
      is your login name on Unix, and <code class="literal">ODBC</code> on
      Windows. The default password is <span class="quote">“<span class="quote">no password.</span>”</span>) If
      you cannot connect to the server with those values (for example,
      if your account has a password), the tests fail. You can use
      <code class="literal">force install DBD::mysql</code> to ignore the failed
      tests.
    </p><p>
      <code class="literal">DBI</code> requires the
      <code class="literal">Data::Dumper</code> module. It may be installed; if
      not, you should install it before installing
      <code class="literal">DBI</code>.
    </p><p>
      It is also possible to download the module distributions in the
      form of compressed <span class="command"><strong>tar</strong></span> archives and build the
      modules manually. For example, to unpack and build a DBI
      distribution, use a procedure such as this:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Unpack the distribution into the current directory:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          This command creates a directory named
          <code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code>.
        </p></li><li class="listitem"><p>
          Change location into the top-level directory of the unpacked
          distribution:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li class="listitem"><p>
          Build the distribution and compile everything:
        </p><pre class="programlisting">
shell&gt; <strong class="userinput"><code>perl Makefile.PL</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make test</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre></li></ol>
</div>
<p>
      The <span class="command"><strong>make test</strong></span> command is important because it
      verifies that the module is working. Note that when you run that
      command during the <code class="literal">DBD::mysql</code> installation to
      exercise the interface code, the MySQL server must be running or
      the test fails.
    </p><p>
      It is a good idea to rebuild and reinstall the
      <code class="literal">DBD::mysql</code> distribution whenever you install a
      new release of MySQL. This ensures that the latest versions of the
      MySQL client libraries are installed correctly.
    </p><p>
      If you do not have access rights to install Perl modules in the
      system directory or if you want to install local Perl modules, the
      following reference may be useful:
      <a class="ulink" href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-" target="_top">http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-</a>
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="activestate-perl"></a>2.13.2 Installing ActiveState Perl on Windows</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212139280"></a><a class="indexterm" name="idm140644212137824"></a><a class="indexterm" name="idm140644212136336"></a><p>
      On Windows, you should do the following to install the MySQL
      <code class="literal">DBD</code> module with ActiveState Perl:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Get ActiveState Perl from
          <a class="ulink" href="http://www.activestate.com/Products/ActivePerl/" target="_top">http://www.activestate.com/Products/ActivePerl/</a>
          and install it.
        </p></li><li class="listitem"><p>
          Open a console window.
        </p></li><li class="listitem"><p>
          If necessary, set the <code class="literal">HTTP_proxy</code> variable.
          For example, you might try a setting like this:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li class="listitem"><p>
          Start the PPM program:
        </p><pre class="programlisting">
C:\&gt; <strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li class="listitem"><p>
          If you have not previously done so, install
          <code class="literal">DBI</code>:
        </p><pre class="programlisting">
ppm&gt; <strong class="userinput"><code>install DBI</code></strong>
</pre></li><li class="listitem"><p>
          If this succeeds, run the following command:
        </p><pre class="programlisting">
ppm&gt; <strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol>
</div>
<p>
      This procedure should work with ActiveState Perl 5.6 or newer.
    </p><p>
      If you cannot get the procedure to work, you should install the
      ODBC driver instead and connect to the MySQL server through ODBC:
    </p><pre class="programlisting">
use DBI;
$dbh= DBI-&gt;connect("DBI:ODBC:$dsn",$user,$password) ||
  die "Got error $DBI::errstr when connecting to $dsn\n";
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="perl-support-problems"></a>2.13.3 Problems Using the Perl DBI/DBD Interface</h3>

</div>

</div>

</div>
<a class="indexterm" name="idm140644212117216"></a><a class="indexterm" name="idm140644212115760"></a><p>
      If Perl reports that it cannot find the
      <code class="filename">../mysql/mysql.so</code> module, the problem is
      probably that Perl cannot locate the
      <code class="filename">libmysqlclient.so</code> shared library. You should
      be able to fix this problem by one of the following methods:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Copy <code class="filename">libmysqlclient.so</code> to the directory
          where your other shared libraries are located (probably
          <code class="filename">/usr/lib</code> or <code class="filename">/lib</code>).
        </p></li><li class="listitem"><p>
          Modify the <code class="option">-L</code> options used to compile
          <code class="literal">DBD::mysql</code> to reflect the actual location
          of <code class="filename">libmysqlclient.so</code>.
        </p></li><li class="listitem"><p>
          On Linux, you can add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="filename">/etc/ld.so.conf</code> file.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm140644212103408"></a>

          <a class="indexterm" name="idm140644212102320"></a>

          <a class="indexterm" name="idm140644212100832"></a>

          <a class="indexterm" name="idm140644212099744"></a>

          Add the path name of the directory where
          <code class="filename">libmysqlclient.so</code> is located to the
          <code class="literal">LD_RUN_PATH</code> environment variable. Some
          systems use <code class="literal">LD_LIBRARY_PATH</code> instead.
</p></li></ul>
</div>
<p>
      Note that you may also need to modify the <code class="option">-L</code>
      options if there are other libraries that the linker fails to
      find. For example, if the linker cannot find
      <code class="literal">libc</code> because it is in <code class="filename">/lib</code>
      and the link command specifies <code class="option">-L/usr/lib</code>, change
      the <code class="option">-L</code> option to <code class="option">-L/lib</code> or add
      <code class="option">-L/lib</code> to the existing link command.
    </p><p>
      If you get the following errors from
      <code class="literal">DBD::mysql</code>, you are probably using
      <span class="command"><strong>gcc</strong></span> (or using an old binary compiled with
      <span class="command"><strong>gcc</strong></span>):
    </p><pre class="programlisting">
/usr/bin/perl: can't resolve symbol '__moddi3'
/usr/bin/perl: can't resolve symbol '__divdi3'
</pre><p>
      Add <code class="option">-L/usr/lib/gcc-lib/... -lgcc</code> to the link
      command when the <code class="filename">mysql.so</code> library gets built
      (check the output from <span class="command"><strong>make</strong></span> for
      <code class="filename">mysql.so</code> when you compile the Perl client).
      The <code class="option">-L</code> option should specify the path name of the
      directory where <code class="filename">libgcc.a</code> is located on your
      system.
    </p><p>
      Another cause of this problem may be that Perl and MySQL are not
      both compiled with <span class="command"><strong>gcc</strong></span>. In this case, you can
      solve the mismatch by compiling both with <span class="command"><strong>gcc</strong></span>.
</p>
</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href="introduction.html">Prev</a></td>
<td width="20%" align="center"><a accesskey="u" href="">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="tutorial.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 1 General Information</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top">Chapter 3 Tutorial</td>
</tr>
</table>
</div>
</body>
</html>
